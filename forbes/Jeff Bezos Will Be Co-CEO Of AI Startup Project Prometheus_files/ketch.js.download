/*! For license information please see ketch.js.LICENSE.txt */
(()=>{var e={7007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}p(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&p(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var r,o,s,c;if(d(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=a(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function E(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function _(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function p(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var d=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw d.context=s,d}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)i(a,this,t);else{var c=a.length,l=g(a,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return d(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,s;if(d(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return E(this,e,!0)},o.prototype.rawListeners=function(e){return E(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},o.prototype.listenerCount=_,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9207:e=>{function t(e){var t=typeof e;return"object"===t?null===e?"null":function(e){if(Array.isArray(e))return!0;var t=e.length;return"number"==typeof t&&t>-1&&(!t||0 in e&&t-1 in e)}(e)?"array":e.constructor===Object?"pure-object":"object":t}e.exports=function e(n,i){if(n===i)return!0;if(n!=n&&i!=i)return!0;var r=t(n);if(r!==t(i))return!1;if("pure-object"===r){if(n===i)return!0;var o=Object.keys(n),s=Object.keys(i).length;if(o.length!==s)return!1;for(var d=0,a=o.length;d<a;d++){var c=o[d];if(!i.hasOwnProperty(o[d]))return!1;var l=n[c],u=i[c];if(l===n||u===i||l===i||u===n)return l===u;if(!e(l,u))return!1}return!0}if("array"===r){if(n.length!==i.length)return!1;for(var E=0;E<n.length;E++){var _=n[E],g=i[E];if(_===n||g===i||_===i||g===n)return _===g;if(!e(_,g))return!1}return!0}if("object"===r){if(n.valueOf!==Object.prototype.valueOf()&&i.valueOf!==Object.prototype.valueOf())return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString()&&i.toString!==Object.prototype.toString())return n.toString()===i.toString()}return!1}},7458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=(0,n(5305).getLogger)("appDivs");t.default=function(e){var t,n,o;return i.__awaiter(this,void 0,void 0,(function*(){const i=yield e.getConfig();let s=[];r.debug("init",null===(t=i.options)||void 0===t?void 0:t.appDivs);const d=null===(o=null===(n=i.options)||void 0===n?void 0:n.appDivs)||void 0===o?void 0:o.trim();if(null==d?void 0:d.length){const t=d.split(",");e.on("willShowExperience",(()=>{r.debug("willShowExperience");for(const e of t){const t=document.getElementById(e);t&&(r.debug("obscuring",e),s.push({id:e,zIndex:t.style.zIndex}),t.style.zIndex="-1")}})),e.on("hideExperience",(()=>{r.debug("hideExperience");for(const e of s){const t=document.getElementById(e.id);t&&(r.debug("restoring",t.id),t.style.zIndex=e.zIndex)}s=[]}))}}))}},6865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=(0,n(5305).getLogger)("dataLayer");function o(){return window.dataLayer=window.dataLayer||[]}t.default=function(e){return i.__awaiter(this,void 0,void 0,(function*(){e.on("geoip",(e=>{r.info("pushGeoIP",e);const t={event:"ketchGeoip",ip:e.ip,countryCode:e.countryCode,regionCode:e.regionCode};o().push(t)})),e.on("jurisdiction",(e=>{r.info("pushJurisdiction",e);const t={event:"ketchJurisdiction",jurisdictionCode:e};o().push(t)}))}))}},5307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=i.__importDefault(n(7458)),o=i.__importDefault(n(6865)),s=n(5305),d=n(8163),a=(0,s.getLogger)("ketch");t.default=function(e){return i.__awaiter(this,void 0,void 0,(function*(){return a.info(`version ${d.version}`),Promise.all([(0,r.default)(e),(0,o.default)(e)]).then((()=>{}))}))}},2831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return a.default}});var i=E(n(3518)),r=E(n(4948)),o=E(n(5073)),s=E(n(7186)),d=E(n(4808)),a=E(n(7775)),c=E(n(7037)),l=E(n(9910)),u=E(n(6792));function E(e){return e&&e.__esModule?e:{default:e}}},2311:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,o,s){return i((d=i(i(t,e),i(r,s)))<<(a=o)|d>>>32-a,n);var d,a}function o(e,t,n,i,o,s,d){return r(t&n|~t&i,e,t,o,s,d)}function s(e,t,n,i,o,s,d){return r(t&i|n&~i,e,t,o,s,d)}function d(e,t,n,i,o,s,d){return r(t^n^i,e,t,o,s,d)}function a(e,t,n,i,o,s,d){return r(n^(t|~i),e,t,o,s,d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=e[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,c=-271733879,l=-1732584194,u=271733878;for(let t=0;t<e.length;t+=16){const n=r,E=c,_=l,g=u;r=o(r,c,l,u,e[t],7,-680876936),u=o(u,r,c,l,e[t+1],12,-389564586),l=o(l,u,r,c,e[t+2],17,606105819),c=o(c,l,u,r,e[t+3],22,-1044525330),r=o(r,c,l,u,e[t+4],7,-176418897),u=o(u,r,c,l,e[t+5],12,1200080426),l=o(l,u,r,c,e[t+6],17,-1473231341),c=o(c,l,u,r,e[t+7],22,-45705983),r=o(r,c,l,u,e[t+8],7,1770035416),u=o(u,r,c,l,e[t+9],12,-1958414417),l=o(l,u,r,c,e[t+10],17,-42063),c=o(c,l,u,r,e[t+11],22,-1990404162),r=o(r,c,l,u,e[t+12],7,1804603682),u=o(u,r,c,l,e[t+13],12,-40341101),l=o(l,u,r,c,e[t+14],17,-1502002290),c=o(c,l,u,r,e[t+15],22,1236535329),r=s(r,c,l,u,e[t+1],5,-165796510),u=s(u,r,c,l,e[t+6],9,-1069501632),l=s(l,u,r,c,e[t+11],14,643717713),c=s(c,l,u,r,e[t],20,-373897302),r=s(r,c,l,u,e[t+5],5,-701558691),u=s(u,r,c,l,e[t+10],9,38016083),l=s(l,u,r,c,e[t+15],14,-660478335),c=s(c,l,u,r,e[t+4],20,-405537848),r=s(r,c,l,u,e[t+9],5,568446438),u=s(u,r,c,l,e[t+14],9,-1019803690),l=s(l,u,r,c,e[t+3],14,-187363961),c=s(c,l,u,r,e[t+8],20,1163531501),r=s(r,c,l,u,e[t+13],5,-1444681467),u=s(u,r,c,l,e[t+2],9,-51403784),l=s(l,u,r,c,e[t+7],14,1735328473),c=s(c,l,u,r,e[t+12],20,-1926607734),r=d(r,c,l,u,e[t+5],4,-378558),u=d(u,r,c,l,e[t+8],11,-2022574463),l=d(l,u,r,c,e[t+11],16,1839030562),c=d(c,l,u,r,e[t+14],23,-35309556),r=d(r,c,l,u,e[t+1],4,-1530992060),u=d(u,r,c,l,e[t+4],11,1272893353),l=d(l,u,r,c,e[t+7],16,-155497632),c=d(c,l,u,r,e[t+10],23,-1094730640),r=d(r,c,l,u,e[t+13],4,681279174),u=d(u,r,c,l,e[t],11,-358537222),l=d(l,u,r,c,e[t+3],16,-722521979),c=d(c,l,u,r,e[t+6],23,76029189),r=d(r,c,l,u,e[t+9],4,-640364487),u=d(u,r,c,l,e[t+12],11,-421815835),l=d(l,u,r,c,e[t+15],16,530742520),c=d(c,l,u,r,e[t+2],23,-995338651),r=a(r,c,l,u,e[t],6,-198630844),u=a(u,r,c,l,e[t+7],10,1126891415),l=a(l,u,r,c,e[t+14],15,-1416354905),c=a(c,l,u,r,e[t+5],21,-57434055),r=a(r,c,l,u,e[t+12],6,1700485571),u=a(u,r,c,l,e[t+3],10,-1894986606),l=a(l,u,r,c,e[t+10],15,-1051523),c=a(c,l,u,r,e[t+1],21,-2054922799),r=a(r,c,l,u,e[t+8],6,1873313359),u=a(u,r,c,l,e[t+15],10,-30611744),l=a(l,u,r,c,e[t+6],15,-1560198380),c=a(c,l,u,r,e[t+13],21,1309151649),r=a(r,c,l,u,e[t+4],6,-145523070),u=a(u,r,c,l,e[t+11],10,-1120210379),l=a(l,u,r,c,e[t+2],15,718787259),c=a(c,l,u,r,e[t+9],21,-343485551),r=i(r,n),c=i(c,E),l=i(l,_),u=i(u,g)}return[r,c,l,u]}(function(e){if(0===e.length)return[];const t=8*e.length,i=new Uint32Array(n(t));for(let n=0;n<t;n+=8)i[n>>5]|=(255&e[n/8])<<n%32;return i}(e),8*e.length))}},6140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},4808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},6792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(7037))&&i.__esModule?i:{default:i};t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},7656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2858:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)},9042:(e,t)=>{"use strict";function n(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),d=new Array(s);for(let t=0;t<s;++t){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];d[t]=n}d[s-1][14]=8*(e.length-1)/Math.pow(2,32),d[s-1][14]=Math.floor(d[s-1][14]),d[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=d[e][t];for(let e=16;e<80;++e)o[e]=i(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let s=r[0],a=r[1],c=r[2],l=r[3],u=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),d=i(s,5)+n(r,a,c,l)+u+t[r]+o[e]>>>0;u=l,l=c,c=i(a,30)>>>0,a=s,s=d}r[0]=r[0]+s>>>0,r[1]=r[1]+a>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+u>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},9910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var i,r=(i=n(7037))&&i.__esModule?i:{default:i};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function s(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}t.default=function(e,t=0){const n=s(e,t);if(!(0,r.default)(n))throw TypeError("Stringified UUID is invalid");return n}},3518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(2858))&&i.__esModule?i:{default:i},o=n(9910);let s,d,a=0,c=0;t.default=function(e,t,n){let i=t&&n||0;const l=t||new Array(16);let u=(e=e||{}).node||s,E=void 0!==e.clockseq?e.clockseq:d;if(null==u||null==E){const t=e.random||(e.rng||r.default)();null==u&&(u=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==E&&(E=d=16383&(t[6]<<8|t[7]))}let _=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:c+1;const p=_-a+(g-c)/1e4;if(p<0&&void 0===e.clockseq&&(E=E+1&16383),(p<0||_>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=_,c=g,d=E,_+=122192928e5;const h=(1e4*(268435455&_)+g)%4294967296;l[i++]=h>>>24&255,l[i++]=h>>>16&255,l[i++]=h>>>8&255,l[i++]=255&h;const S=_/4294967296*1e4&268435455;l[i++]=S>>>8&255,l[i++]=255&S,l[i++]=S>>>24&15|16,l[i++]=S>>>16&255,l[i++]=E>>>8|128,l[i++]=255&E;for(let e=0;e<6;++e)l[i+e]=u[e];return t||(0,o.unsafeStringify)(l)}},4948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(9025)),r=o(n(2311));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v3",48,r.default);t.default=s},9025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function i(e,i,s,d){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=(0,o.default)(i)),16!==(null===(a=i)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(i),c.set(e,i.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){d=d||0;for(let e=0;e<16;++e)s[d+e]=c[e];return s}return(0,r.unsafeStringify)(c)}try{i.name=e}catch(e){}return i.DNS=s,i.URL=d,i};var i,r=n(9910),o=(i=n(6792))&&i.__esModule?i:{default:i};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const d="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=d},5073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(6140)),r=s(n(2858)),o=n(9910);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();const s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},7186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(9025)),r=o(n(9042));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v5",80,r.default);t.default=s},7037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(7656))&&i.__esModule?i:{default:i};t.default=function(e){return"string"==typeof e&&r.default.test(e)}},7775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(7037))&&i.__esModule?i:{default:i};t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},6961:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function d(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApi=void 0;const r=n(5993),o=n(8444),s=n(3130),d=n(2552);t.CmpApi=class{constructor(e,t,n){this.cmpApiContext=new r.CmpApiContext,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new o.CallResponder(this.cmpApiContext,n)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getSignalStatus(){return this.cmpApiContext.signalStatus}setSignalStatus(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getSupportedAPIs(){return this.cmpApiContext.supportedAPIs}setSupportedAPIs(e){this.cmpApiContext.supportedAPIs=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(d.Sections.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(d.Sections.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}setFieldValueBySectionId(e,t,n){this.setFieldValue(d.Sections.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(d.Sections.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(d.Sections.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(d.Sections.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(d.Sections.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return s.GVL.fromVendorList(e)}getGvlFromUrl(e){return i(this,void 0,void 0,(function*(){return s.GVL.fromUrl(e)}))}}},3130:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function d(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GVL=t.GVLUrlConfig=void 0;const r=n(5056),o=n(3497),s=n(7737);t.GVLUrlConfig=class{};class d{constructor(){this.consentLanguages=new s.ConsentLanguages,this.language=d.DEFAULT_LANGUAGE,this.ready=!1,this.languageFilename="purposes-[LANG].json"}static fromVendorList(e){let t=new d;return t.populate(e),t}static fromUrl(e){return i(this,void 0,void 0,(function*(){let t=e.baseUrl;if(!t||0===t.length)throw new o.GVLError("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new o.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&"/"!==t[t.length-1]&&(t+="/");let n=new d;if(n.baseUrl=t,e.languageFilename?n.languageFilename=e.languageFilename:n.languageFilename="purposes-[LANG].json",e.version>0){let i=e.versionedFilename;i||(i="archives/vendor-list-v[VERSION].json");let o=t+i.replace("[VERSION]",String(e.version));n.populate(yield r.JsonHttpClient.fetch(o))}else{let i=e.latestFilename;i||(i="vendor-list.json");let o=t+i;n.populate(yield r.JsonHttpClient.fetch(o))}return n}))}changeLanguage(e){return i(this,void 0,void 0,(function*(){const t=e.toUpperCase();if(!this.consentLanguages.has(t))throw new o.GVLError(`unsupported language ${e}`);if(t!==this.language){this.language=t;const n=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(yield r.JsonHttpClient.fetch(n))}catch(e){throw new o.GVLError("unable to load language: "+e.message)}}}))}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors=e.reduce(((e,t)=>{const n=this.vendors[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes&&n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.impConsPurposes&&n.impConsPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].impCons.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,i){const r=e.charAt(0).toUpperCase()+e.slice(1);let o;const s={};return o="purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)],o.forEach((e=>{s[String(e)]=this.vendors[String(e)]})),s}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}t.GVL=d,d.DEFAULT_LANGUAGE="EN"},8444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallResponder=void 0;const i=n(2580),r=n(5827);t.CallResponder=class{constructor(e,t){if(this.cmpApiContext=e,t){let e=i.GppCommand.ADD_EVENT_LISTENER;if(null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);if(e=i.GppCommand.REMOVE_EVENT_LISTENER,null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new r.CommandMap[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window.__gpp(...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==r.CommandMap[e]}}},5993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApiContext=void 0;const i=n(8947),r=n(1237),o=n(4175),s=n(4694),d=n(119);t.CmpApiContext=class{constructor(){this.gppVersion="1.1",this.supportedAPIs=[],this.eventQueue=new o.EventListenerQueue(this),this.cmpStatus=i.CmpStatus.LOADING,this.cmpDisplayStatus=r.CmpDisplayStatus.HIDDEN,this.signalStatus=d.SignalStatus.NOT_READY,this.applicableSections=[],this.gppModel=new s.GppModel}reset(){this.eventQueue.clear(),this.cmpStatus=i.CmpStatus.LOADING,this.cmpDisplayStatus=r.CmpDisplayStatus.HIDDEN,this.signalStatus=d.SignalStatus.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new s.GppModel,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}},73:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventListenerQueue=void 0;const i=n(100),r=n(3202);t.EventListenerQueue=class{constructor(e){this.eventQueue=new Map,this.queueNumber=1e3,this.cmpApiContext=e;try{let e=window.__gpp("events")||[];for(var t=0;t<e.length;t++){let n=e[t];this.eventQueue.set(n.id,{callback:n.callback,parameter:n.parameter})}}catch(e){console.log(e)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(e,t){this.eventQueue.forEach(((n,o)=>{let s=new i.EventData(e,o,t,new r.PingData(this.cmpApiContext));n.callback(s,!0)}))}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}}},7526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddEventListenerCommand=void 0;const i=n(100),r=n(3202),o=n(3717);class s extends o.Command{respond(){let e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new i.EventData("listenerRegistered",e,!0,new r.PingData(this.cmpApiContext));this.invokeCallback(t)}}t.AddEventListenerCommand=s},3717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,t.Command=class{constructor(e,t,n){this.success=!0,this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:n})}execute(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}invokeCallback(e){const t=null!==e;this.callback&&this.callback(e,t)}}},4134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5827:(e,t,n)=>{"use strict";var i,r,o,s,d,a;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandMap=void 0;const c=n(4257),l=n(937),u=n(48),E=n(9524),_=n(2580),g=n(7526),p=n(6587);class h{}t.CommandMap=h,i=_.GppCommand.ADD_EVENT_LISTENER,r=_.GppCommand.GET_FIELD,o=_.GppCommand.GET_SECTION,s=_.GppCommand.HAS_SECTION,d=_.GppCommand.PING,a=_.GppCommand.REMOVE_EVENT_LISTENER,h[i]=g.AddEventListenerCommand,h[r]=l.GetFieldCommand,h[o]=u.GetSectionCommand,h[s]=E.HasSectionCommand,h[d]=c.PingCommand,h[a]=p.RemoveEventListenerCommand},937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetFieldCommand=void 0;const i=n(3717);class r extends i.Command{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],n=e[1],i=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(i)}}t.GetFieldCommand=r},48:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetSectionCommand=void 0;const i=n(3717);class r extends i.Command{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");let e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}t.GetSectionCommand=r},2580:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GppCommand=void 0,(n=t.GppCommand||(t.GppCommand={})).ADD_EVENT_LISTENER="addEventListener",n.GET_FIELD="getField",n.GET_SECTION="getSection",n.HAS_SECTION="hasSection",n.PING="ping",n.REMOVE_EVENT_LISTENER="removeEventListener"},9524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasSectionCommand=void 0;const i=n(3717);class r extends i.Command{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}t.HasSectionCommand=r},4257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PingCommand=void 0;const i=n(3202),r=n(3717);class o extends r.Command{respond(){let e=new i.PingData(this.cmpApiContext);this.invokeCallback(e)}}t.PingCommand=o},6587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEventListenerCommand=void 0;const i=n(100),r=n(3202),o=n(3717);class s extends o.Command{respond(){let e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new i.EventData("listenerRemoved",e,t,new r.PingData(this.cmpApiContext));this.invokeCallback(n)}}t.RemoveEventListenerCommand=s},2480:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7526),t),r(n(3717),t),r(n(4134),t),r(n(5827),t),r(n(937),t),r(n(48),t),r(n(2580),t),r(n(9524),t),r(n(4257),t),r(n(6587),t)},6106:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2480),t),r(n(2048),t),r(n(3365),t),r(n(8444),t),r(n(5993),t),r(n(73),t),r(n(4175),t)},100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventData=void 0,t.EventData=class{constructor(e,t,n,i){this.eventName=e,this.listenerId=t,this.data=n,this.pingData=i}}},3202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PingData=void 0,t.PingData=class{constructor(e){this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}}},2048:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(100),t),r(n(3202),t)},1237:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CmpDisplayStatus=void 0,(n=t.CmpDisplayStatus||(t.CmpDisplayStatus={})).VISIBLE="visible",n.HIDDEN="hidden",n.DISABLED="disabled"},8947:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CmpStatus=void 0,(n=t.CmpStatus||(t.CmpStatus={})).STUB="stub",n.LOADING="loading",n.LOADED="loaded",n.ERROR="error"},2403:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStatus=void 0,(n=t.EventStatus||(t.EventStatus={})).GPP_LOADED="gpploaded",n.CMP_UI_SHOWN="cmpuishown",n.USER_ACTION_COMPLETE="useractioncomplete"},119:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalStatus=void 0,(n=t.SignalStatus||(t.SignalStatus={})).NOT_READY="not ready",n.READY="ready"},3365:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8947),t),r(n(1237),t),r(n(2403),t),r(n(119),t)},4694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GppModel=void 0;const i=n(4288),r=n(2552),o=n(5570),s=n(7249),d=n(3047),a=n(4161),c=n(8420),l=n(5977),u=n(1690),E=n(8913),_=n(863),g=n(4526),p=n(7017),h=n(2849),S=n(9088),f=n(7370),T=n(7642),O=n(4617),N=n(9883),I=n(4682),C=n(3853),b=n(6650),v=n(9328),A=n(5174);t.GppModel=class{constructor(e){this.sections=new Map,this.encodedString=null,this.decoded=!0,this.dirty=!1,e&&this.decode(e)}setFieldValue(e,t,n){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let i=null;if(this.sections.has(e)?i=this.sections.get(e):e===o.TcfCaV1.NAME?(i=new o.TcfCaV1,this.sections.set(o.TcfCaV1.NAME,i)):e===s.TcfEuV2.NAME?(i=new s.TcfEuV2,this.sections.set(s.TcfEuV2.NAME,i)):e===d.UspV1.NAME?(i=new d.UspV1,this.sections.set(d.UspV1.NAME,i)):e===a.UsNat.NAME?(i=new a.UsNat,this.sections.set(a.UsNat.NAME,i)):e===c.UsCa.NAME?(i=new c.UsCa,this.sections.set(c.UsCa.NAME,i)):e===l.UsVa.NAME?(i=new l.UsVa,this.sections.set(l.UsVa.NAME,i)):e===u.UsCo.NAME?(i=new u.UsCo,this.sections.set(u.UsCo.NAME,i)):e===E.UsUt.NAME?(i=new E.UsUt,this.sections.set(E.UsUt.NAME,i)):e===_.UsCt.NAME?(i=new _.UsCt,this.sections.set(_.UsCt.NAME,i)):e===g.UsFl.NAME?(i=new g.UsFl,this.sections.set(g.UsFl.NAME,i)):e===p.UsMt.NAME?(i=new p.UsMt,this.sections.set(p.UsMt.NAME,i)):e===h.UsOr.NAME?(i=new h.UsOr,this.sections.set(h.UsOr.NAME,i)):e===S.UsTx.NAME?(i=new S.UsTx,this.sections.set(S.UsTx.NAME,i)):e===N.UsDe.NAME?(i=new N.UsDe,this.sections.set(N.UsDe.NAME,i)):e===I.UsIa.NAME?(i=new I.UsIa,this.sections.set(I.UsIa.NAME,i)):e===C.UsNe.NAME?(i=new C.UsNe,this.sections.set(C.UsNe.NAME,i)):e===b.UsNh.NAME?(i=new b.UsNh,this.sections.set(b.UsNh.NAME,i)):e===v.UsNj.NAME?(i=new v.UsNj,this.sections.set(v.UsNj.NAME,i)):e===A.UsTn.NAME&&(i=new A.UsTn,this.sections.set(A.UsTn.NAME,i)),!i)throw new f.InvalidFieldError(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0,i.setIsDirty(!0)}setFieldValueBySectionId(e,t,n){this.setFieldValue(r.Sections.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(r.Sections.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),!!this.sections.has(e)&&this.sections.get(e).hasField(t)}hasFieldBySectionId(e,t){return this.hasField(r.Sections.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)}hasSectionId(e){return this.hasSection(r.Sections.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){!this.decoded&&null!=this.encodedString&&this.encodedString.length>0&&this.decode(this.encodedString),this.sections.delete(e),this.dirty=!0}deleteSectionById(e){this.deleteSection(r.Sections.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}getHeader(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=new i.HeaderV1;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=[];for(let t=0;t<r.Sections.SECTION_ORDER.length;t++){let n=r.Sections.SECTION_ORDER[t];if(this.sections.has(n)){let t=this.sections.get(n);e.push(t.getId())}}return e}encodeModel(e){let t=[],n=[];for(let i=0;i<r.Sections.SECTION_ORDER.length;i++){let o=r.Sections.SECTION_ORDER[i];if(e.has(o)){let i=e.get(o);i.setIsDirty(!0),t.push(i.encode()),n.push(i.getId())}}let o=new i.HeaderV1;return o.setFieldValue("SectionIds",n),t.unshift(o.encode()),t.join("~")}decodeModel(e){if(!e||0==e.length||e.startsWith("DB")){let t=e.split("~"),n=new Map;if(t[0].startsWith("D")){let r=new i.HeaderV1(t[0]).getFieldValue("SectionIds");if(r.length!==t.length-1)throw new T.DecodingError("Unable to decode '"+e+"'. The number of sections does not match the number of sections defined in the header.");for(let i=0;i<r.length;i++){if(""===t[i+1].trim())throw new T.DecodingError("Unable to decode '"+e+"'. Section "+(i+1)+" is blank.");if(r[i]===o.TcfCaV1.ID){let e=new o.TcfCaV1(t[i+1]);n.set(o.TcfCaV1.NAME,e)}else if(r[i]===s.TcfEuV2.ID){let e=new s.TcfEuV2(t[i+1]);n.set(s.TcfEuV2.NAME,e)}else if(r[i]===d.UspV1.ID){let e=new d.UspV1(t[i+1]);n.set(d.UspV1.NAME,e)}else if(r[i]===a.UsNat.ID){let e=new a.UsNat(t[i+1]);n.set(a.UsNat.NAME,e)}else if(r[i]===c.UsCa.ID){let e=new c.UsCa(t[i+1]);n.set(c.UsCa.NAME,e)}else if(r[i]===l.UsVa.ID){let e=new l.UsVa(t[i+1]);n.set(l.UsVa.NAME,e)}else if(r[i]===u.UsCo.ID){let e=new u.UsCo(t[i+1]);n.set(u.UsCo.NAME,e)}else if(r[i]===E.UsUt.ID){let e=new E.UsUt(t[i+1]);n.set(E.UsUt.NAME,e)}else if(r[i]===_.UsCt.ID){let e=new _.UsCt(t[i+1]);n.set(_.UsCt.NAME,e)}else if(r[i]===g.UsFl.ID){let e=new g.UsFl(t[i+1]);n.set(g.UsFl.NAME,e)}else if(r[i]===p.UsMt.ID){let e=new p.UsMt(t[i+1]);n.set(p.UsMt.NAME,e)}else if(r[i]===h.UsOr.ID){let e=new h.UsOr(t[i+1]);n.set(h.UsOr.NAME,e)}else if(r[i]===S.UsTx.ID){let e=new S.UsTx(t[i+1]);n.set(S.UsTx.NAME,e)}else if(r[i]===N.UsDe.ID){let e=new N.UsDe(t[i+1]);n.set(N.UsDe.NAME,e)}else if(r[i]===I.UsIa.ID){let e=new I.UsIa(t[i+1]);n.set(I.UsIa.NAME,e)}else if(r[i]===C.UsNe.ID){let e=new C.UsNe(t[i+1]);n.set(C.UsNe.NAME,e)}else if(r[i]===b.UsNh.ID){let e=new b.UsNh(t[i+1]);n.set(b.UsNh.NAME,e)}else if(r[i]===v.UsNj.ID){let e=new v.UsNj(t[i+1]);n.set(v.UsNj.NAME,e)}else if(r[i]===A.UsTn.ID){let e=new A.UsTn(t[i+1]);n.set(A.UsTn.NAME,e)}}}return n}if(e.startsWith("C")){let t=new Map,n=new s.TcfEuV2(e);return t.set(s.TcfEuV2.NAME,n),(new i.HeaderV1).setFieldValue(O.HeaderV1Field.SECTION_IDS,[2]),t.set(i.HeaderV1.NAME,n),t}throw new T.DecodingError("Unable to decode '"+e+"'")}encodeSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(r.Sections.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let n=null;this.sections.has(e)?n=this.sections.get(e):e===o.TcfCaV1.NAME?(n=new o.TcfCaV1,this.sections.set(o.TcfCaV1.NAME,n)):e===s.TcfEuV2.NAME?(n=new s.TcfEuV2,this.sections.set(s.TcfEuV2.NAME,n)):e===d.UspV1.NAME?(n=new d.UspV1,this.sections.set(d.UspV1.NAME,n)):e===a.UsNat.NAME?(n=new a.UsNat,this.sections.set(a.UsNat.NAME,n)):e===c.UsCa.NAME?(n=new c.UsCa,this.sections.set(c.UsCa.NAME,n)):e===l.UsVa.NAME?(n=new l.UsVa,this.sections.set(l.UsVa.NAME,n)):e===u.UsCo.NAME?(n=new u.UsCo,this.sections.set(u.UsCo.NAME,n)):e===E.UsUt.NAME?(n=new E.UsUt,this.sections.set(E.UsUt.NAME,n)):e===_.UsCt.NAME?(n=new _.UsCt,this.sections.set(_.UsCt.NAME,n)):e===g.UsFl.NAME?(n=new g.UsFl,this.sections.set(g.UsFl.NAME,n)):e===p.UsMt.NAME?(n=new p.UsMt,this.sections.set(p.UsMt.NAME,n)):e===h.UsOr.NAME?(n=new h.UsOr,this.sections.set(h.UsOr.NAME,n)):e===S.UsTx.NAME?(n=new S.UsTx,this.sections.set(S.UsTx.NAME,n)):e===N.UsDe.NAME?(n=new N.UsDe,this.sections.set(N.UsDe.NAME,n)):e===I.UsIa.NAME?(n=new I.UsIa,this.sections.set(I.UsIa.NAME,n)):e===C.UsNe.NAME?(n=new C.UsNe,this.sections.set(C.UsNe.NAME,n)):e===b.UsNh.NAME?(n=new b.UsNh,this.sections.set(b.UsNh.NAME,n)):e===v.UsNj.NAME?(n=new v.UsNj,this.sections.set(v.UsNj.NAME,n)):e===A.UsTn.NAME&&(n=new A.UsTn,this.sections.set(A.UsTn.NAME,n)),n&&(n.decode(t),this.dirty=!0)}decodeSectionById(e,t){this.decodeSection(r.Sections.SECTION_ID_NAME_MAP.get(e),t)}toObject(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e={};for(let t=0;t<r.Sections.SECTION_ORDER.length;t++){let n=r.Sections.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeModel(this.sections),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}},8700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBase64UrlEncoder=void 0;const i=n(7640),r=n(7642),o=n(3634);class s{encode(e){if(!/^[0-1]*$/.test(e))throw new o.EncodingError("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",n=0;for(;n<=e.length-6;){let r=e.substring(n,n+6);try{let e=i.FixedIntegerEncoder.decode(r);t+=s.DICT.charAt(e),n+=6}catch(t){throw new o.EncodingError("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new r.DecodingError("Undecodable Base64URL string '"+e+"'");let t="";for(let n=0;n<e.length;n++){let r=e.charAt(n),o=s.REVERSE_DICT.get(r);t+=i.FixedIntegerEncoder.encode(o,6)}return t}}t.AbstractBase64UrlEncoder=s,s.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",s.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])},7683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressedBase64UrlEncoder=void 0;const i=n(8700);class r extends i.AbstractBase64UrlEncoder{constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}t.CompressedBase64UrlEncoder=r,r.instance=new r},2277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraditionalBase64UrlEncoder=void 0;const i=n(8700);class r extends i.AbstractBase64UrlEncoder{constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%24>0;)e+="0";return e}}t.TraditionalBase64UrlEncoder=r,r.instance=new r},2456:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8700),t),r(n(7683),t),r(n(2277),t)},3905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitStringEncoder=void 0;const i=n(7642);class r{constructor(){}static getInstance(){return this.instance}encode(e,t){let n="";for(let i=0;i<t.length;i++){let r=t[i];if(!e.containsKey(r))throw new Error("Field not found: '"+r+"'");n+=e.get(r).encode()}return n}decode(e,t,n){let r=0;for(let o=0;o<t.length;o++){let s=t[o];if(!n.containsKey(s))throw new Error("Field not found: '"+s+"'");{let t=n.get(s);try{let n=t.substring(e,r);t.decode(n),r+=n.length}catch(e){if("SubstringError"!==e.name||t.getHardFailIfMissing())throw new i.DecodingError("Unable to decode field '"+s+"'");return}}}}}t.BitStringEncoder=r,r.instance=new r},3412:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3905),t)},94:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEncodableBitStringDataType=void 0;const i=n(1392);t.AbstractEncodableBitStringDataType=class{constructor(e=!0){this.hardFailIfMissing=e}withValidator(e){return this.validator=e,this}hasValue(){return void 0!==this.value&&null!==this.value}getValue(){return this.value}setValue(e){if(this.validator&&!this.validator.test(e))throw new i.ValidationError("Invalid value '"+e+"'");this.value=e}getHardFailIfMissing(){return this.hardFailIfMissing}}},6847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableArrayOfFixedIntegerRanges=void 0;const i=n(7642),r=n(3634),o=n(1570),s=n(94),d=n(5007),a=n(4072),c=n(9112),l=n(7640),u=n(9365);class E extends s.AbstractEncodableBitStringDataType{constructor(e,t,n,i=!0){super(i),this.keyBitStringLength=e,this.typeBitStringLength=t,this.setValue(n)}encode(){try{let e=this.value,t="";t+=l.FixedIntegerEncoder.encode(e.length,12);for(let n=0;n<e.length;n++){let i=e[n];t+=l.FixedIntegerEncoder.encode(i.getKey(),this.keyBitStringLength),t+=l.FixedIntegerEncoder.encode(i.getType(),this.typeBitStringLength),t+=u.FixedIntegerRangeEncoder.encode(i.getIds())}return t}catch(e){throw new r.EncodingError(e)}}decode(e){try{let t=[],n=l.FixedIntegerEncoder.decode(o.StringUtil.substring(e,0,12)),i=12;for(let r=0;r<n;r++){let n=l.FixedIntegerEncoder.decode(o.StringUtil.substring(e,i,i+this.keyBitStringLength));i+=this.keyBitStringLength;let r=l.FixedIntegerEncoder.decode(o.StringUtil.substring(e,i,i+this.typeBitStringLength));i+=this.typeBitStringLength;let s=new d.EncodableFixedIntegerRange([]).substring(e,i),c=u.FixedIntegerRangeEncoder.decode(s);i+=s.length,t.push(new a.RangeEntry(n,r,c))}this.value=t}catch(e){throw new i.DecodingError(e)}}substring(e,t){try{let n="";n+=o.StringUtil.substring(e,t,t+12);let i=l.FixedIntegerEncoder.decode(n.toString()),r=t+n.length;for(let t=0;t<i;t++){let t=o.StringUtil.substring(e,r,r+this.keyBitStringLength);r+=t.length,n+=t;let i=o.StringUtil.substring(e,r,r+this.typeBitStringLength);r+=i.length,n+=i;let s=new d.EncodableFixedIntegerRange([]).substring(e,r);r+=s.length,n+=s}return n}catch(e){throw new c.SubstringError(e)}}}t.EncodableArrayOfFixedIntegerRanges=E},5662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableBoolean=void 0;const i=n(7206),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return i.BooleanEncoder.encode(this.value)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.BooleanEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+1)}catch(e){throw new d.SubstringError(e)}}}t.EncodableBoolean=c},348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableDatetime=void 0;const i=n(1447),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(5679);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return i.DatetimeEncoder.encode(this.value)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.DatetimeEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+36)}catch(e){throw new d.SubstringError(e)}}}t.EncodableDatetime=c},1906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFibonacciInteger=void 0;const i=n(2146),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(5679);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return i.FibonacciIntegerEncoder.encode(this.value)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FibonacciIntegerEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{let n=e.indexOf("11",t);return n>0?a.StringUtil.substring(e,t,n+2):e}catch(e){throw new d.SubstringError(e)}}}t.EncodableFibonacciInteger=c},3425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFibonacciIntegerRange=void 0;const i=n(5935),r=n(7640),o=n(94),s=n(3634),d=n(7642),a=n(9112),c=n(5679);class l extends o.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return i.FibonacciIntegerRangeEncoder.encode(this.value)}catch(e){throw new s.EncodingError(e)}}decode(e){try{this.value=i.FibonacciIntegerRangeEncoder.decode(e)}catch(e){throw new d.DecodingError(e)}}substring(e,t){try{let n=r.FixedIntegerEncoder.decode(c.StringUtil.substring(e,t,t+12)),i=t+12;for(let t=0;t<n;t++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return c.StringUtil.substring(e,t,i)}catch(e){throw new a.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}t.EncodableFibonacciIntegerRange=l},6653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedBitfield=void 0;const i=n(3911),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.numElements=e.length,this.setValue(e)}encode(){try{return i.FixedBitfieldEncoder.encode(this.value,this.numElements)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FixedBitfieldEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+this.numElements)}catch(e){throw new d.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}t.EncodableFixedBitfield=c},7568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedInteger=void 0;const i=n(7640),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t,n=!0){super(n),this.bitStringLength=e,this.setValue(t)}encode(){try{return i.FixedIntegerEncoder.encode(this.value,this.bitStringLength)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FixedIntegerEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+this.bitStringLength)}catch(e){throw new d.SubstringError(e)}}}t.EncodableFixedInteger=c},1672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedIntegerList=void 0;const i=n(4444),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t,n=!0){super(n),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){try{return i.FixedIntegerListEncoder.encode(this.value,this.elementBitStringLength,this.numElements)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FixedIntegerListEncoder.decode(e,this.elementBitStringLength,this.numElements)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+this.elementBitStringLength*this.numElements)}catch(e){throw new d.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}t.EncodableFixedIntegerList=c},5007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedIntegerRange=void 0;const i=n(7640),r=n(9365),o=n(94),s=n(3634),d=n(7642),a=n(9112),c=n(1570);class l extends o.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return r.FixedIntegerRangeEncoder.encode(this.value)}catch(e){throw new s.EncodingError(e)}}decode(e){try{this.value=r.FixedIntegerRangeEncoder.decode(e)}catch(e){throw new d.DecodingError(e)}}substring(e,t){try{let n=i.FixedIntegerEncoder.decode(c.StringUtil.substring(e,t,t+12)),r=t+12;for(let t=0;t<n;t++)"1"===e.charAt(r)?r+=33:r+=17;return c.StringUtil.substring(e,t,r)}catch(e){throw new a.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}t.EncodableFixedIntegerRange=l},65:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedString=void 0;const i=n(9259),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t,n=!0){super(n),this.stringLength=e,this.setValue(t)}encode(){try{return i.FixedStringEncoder.encode(this.value,this.stringLength)}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FixedStringEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+6*this.stringLength)}catch(e){throw new d.SubstringError(e)}}}t.EncodableFixedString=c},1342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFlexibleBitfield=void 0;const i=n(3911),r=n(94),o=n(3634),s=n(7642),d=n(9112),a=n(1570);class c extends r.AbstractEncodableBitStringDataType{constructor(e,t,n=!0){super(n),this.getLength=e,this.setValue(t)}encode(){try{return i.FixedBitfieldEncoder.encode(this.value,this.getLength())}catch(e){throw new o.EncodingError(e)}}decode(e){try{this.value=i.FixedBitfieldEncoder.decode(e)}catch(e){throw new s.DecodingError(e)}}substring(e,t){try{return a.StringUtil.substring(e,t,t+this.getLength())}catch(e){throw new d.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),n=[...e];for(let e=n.length;e<t;e++)n.push(!1);n.length>t&&(n=n.slice(0,t)),super.setValue([...n])}}t.EncodableFlexibleBitfield=c},8854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableOptimizedFibonacciRange=void 0;const i=n(5935),r=n(3911),o=n(7640),s=n(94),d=n(3425),a=n(7642),c=n(3634),l=n(9112),u=n(1570);class E extends s.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{let e=this.value.length>0?this.value[this.value.length-1]:0,t=i.FibonacciIntegerRangeEncoder.encode(this.value),n=t.length,s=e;if(n<=s)return o.FixedIntegerEncoder.encode(e,16)+"1"+t;{let t=[],n=0;for(let i=0;i<e;i++)i==this.value[n]-1?(t[i]=!0,n++):t[i]=!1;return o.FixedIntegerEncoder.encode(e,16)+"0"+r.FixedBitfieldEncoder.encode(t,s)}}catch(e){throw new c.EncodingError(e)}}decode(e){try{if("1"===e.charAt(16))this.value=i.FibonacciIntegerRangeEncoder.decode(e.substring(17));else{let t=[],n=r.FixedBitfieldEncoder.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}catch(e){throw new a.DecodingError(e)}}substring(e,t){try{let n=o.FixedIntegerEncoder.decode(u.StringUtil.substring(e,t,t+16));return"1"===e.charAt(t+16)?u.StringUtil.substring(e,t,t+17)+new d.EncodableFibonacciIntegerRange([]).substring(e,t+17):u.StringUtil.substring(e,t,t+17+n)}catch(e){throw new l.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}t.EncodableOptimizedFibonacciRange=E},4360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableOptimizedFixedRange=void 0;const i=n(3911),r=n(7640),o=n(9365),s=n(94),d=n(5007),a=n(3634),c=n(7642),l=n(9112),u=n(1570);class E extends s.AbstractEncodableBitStringDataType{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{let e=this.value.length>0?this.value[this.value.length-1]:0,t=o.FixedIntegerRangeEncoder.encode(this.value),n=t.length,s=e;if(n<=s)return r.FixedIntegerEncoder.encode(e,16)+"1"+t;{let t=[],n=0;for(let i=0;i<e;i++)i===this.value[n]-1?(t[i]=!0,n++):t[i]=!1;return r.FixedIntegerEncoder.encode(e,16)+"0"+i.FixedBitfieldEncoder.encode(t,s)}}catch(e){throw new a.EncodingError(e)}}decode(e){try{if("1"===e.charAt(16))this.value=o.FixedIntegerRangeEncoder.decode(e.substring(17));else{let t=[],n=i.FixedBitfieldEncoder.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}catch(e){throw new c.DecodingError(e)}}substring(e,t){try{let n=r.FixedIntegerEncoder.decode(u.StringUtil.substring(e,t,t+16));return"1"===e.charAt(t+16)?u.StringUtil.substring(e,t,t+17)+new d.EncodableFixedIntegerRange([]).substring(e,t+17):u.StringUtil.substring(e,t,t+17+n)}catch(e){throw new l.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}t.EncodableOptimizedFixedRange=E},4072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeEntry=void 0,t.RangeEntry=class{constructor(e,t,n){this.key=e,this.type=t,this.ids=n}getKey(){return this.key}setKey(e){this.key=e}getType(){return this.type}setType(e){this.type=e}getIds(){return this.ids}setIds(e){this.ids=e}}},9112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstringError=void 0;const i=n(7642);class r extends i.DecodingError{constructor(e){super(e),this.name="SubstringError"}}t.SubstringError=r},8678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnencodableCharacter=void 0,t.UnencodableCharacter=class{constructor(e,t){this.value=null,this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){e?this.value=e.charAt(0):e=null}}},4939:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnencodableInteger=void 0,t.UnencodableInteger=class{constructor(e,t){this.value=null,this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){this.value=e}}},7206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEncoder=void 0;const i=n(7642),r=n(3634);t.BooleanEncoder=class{static encode(e){if(!0===e)return"1";if(!1===e)return"0";throw new r.EncodingError("Unencodable Boolean '"+e+"'")}static decode(e){if("1"===e)return!0;if("0"===e)return!1;throw new i.DecodingError("Undecodable Boolean '"+e+"'")}}},1447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimeEncoder=void 0;const i=n(7642),r=n(7640);t.DatetimeEncoder=class{static encode(e){return e?r.FixedIntegerEncoder.encode(Math.round(e.getTime()/100),36):r.FixedIntegerEncoder.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new i.DecodingError("Undecodable Datetime '"+e+"'");return new Date(100*r.FixedIntegerEncoder.decode(e))}}},2146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FibonacciIntegerEncoder=void 0;const i=n(7642);t.FibonacciIntegerEncoder=class{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let n=2;for(;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}let n="1";for(let i=t.length-1;i>=0;i--){let r=t[i];e>=r?(n="1"+n,e-=r):n="0"+n}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new i.DecodingError("Undecodable FibonacciInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length-1;t++)0===t?n.push(1):1===t?n.push(2):n.push(n[t-1]+n[t-2]);for(let i=0;i<e.length-1;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}},5935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FibonacciIntegerRangeEncoder=void 0;const i=n(2146),r=n(7206),o=n(7640),s=n(7642);t.FibonacciIntegerRangeEncoder=class{static encode(e){e=e.sort(((e,t)=>e-t));let t=[],n=0,r=0;for(;r<e.length;){let n=r;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(r,n+1)),r=n+1}let s=o.FixedIntegerEncoder.encode(t.length,12);for(let e=0;e<t.length;e++)if(1==t[e].length){let r=t[e][0]-n;n=t[e][0],s+="0"+i.FibonacciIntegerEncoder.encode(r)}else{let r=t[e][0]-n;n=t[e][0];let o=t[e][t[e].length-1]-n;n=t[e][t[e].length-1],s+="1"+i.FibonacciIntegerEncoder.encode(r)+i.FibonacciIntegerEncoder.encode(o)}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new s.DecodingError("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],n=o.FixedIntegerEncoder.decode(e.substring(0,12)),d=0,a=12;for(let o=0;o<n;o++){let n=r.BooleanEncoder.decode(e.substring(a,a+1));if(a++,!0===n){let n=e.indexOf("11",a),r=i.FibonacciIntegerEncoder.decode(e.substring(a,n+2))+d;d=r,a=n+2,n=e.indexOf("11",a);let o=i.FibonacciIntegerEncoder.decode(e.substring(a,n+2))+d;d=o,a=n+2;for(let e=r;e<=o;e++)t.push(e)}else{let n=e.indexOf("11",a),r=i.FibonacciIntegerEncoder.decode(e.substring(a,n+2))+d;d=r,t.push(r),a=n+2}}return t}}},3911:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedBitfieldEncoder=void 0;const i=n(7642),r=n(3634),o=n(7206);t.FixedBitfieldEncoder=class{static encode(e,t){if(e.length>t)throw new r.EncodingError("Too many values '"+e.length+"'");let n="";for(let t=0;t<e.length;t++)n+=o.BooleanEncoder.encode(e[t]);for(;n.length<t;)n+="0";return n}static decode(e){if(!/^[0-1]*$/.test(e))throw new i.DecodingError("Undecodable FixedBitfield '"+e+"'");let t=[];for(let n=0;n<e.length;n++)t.push(o.BooleanEncoder.decode(e.substring(n,n+1)));return t}}},7640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerEncoder=void 0;const i=n(7642),r=n(3634);t.FixedIntegerEncoder=class{static encode(e,t){let n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);let i="";for(let t=0;t<n.length;t++){let r=n[t];e>=r?(i+="1",e-=r):i+="0"}if(i.length>t)throw new r.EncodingError("Numeric value '"+e+"' is too large for a bit string length of '"+t+"'");for(;i.length<t;)i="0"+i;return i}static decode(e){if(!/^[0-1]*$/.test(e))throw new i.DecodingError("Undecodable FixedInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length;t++)n[e.length-(t+1)]=0===t?1:2*n[e.length-t];for(let i=0;i<e.length;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}},4444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerListEncoder=void 0;const i=n(7642),r=n(3634),o=n(7640);t.FixedIntegerListEncoder=class{static encode(e,t,n){if(e.length>n)throw new r.EncodingError("Too many values '"+e.length+"'");let i="";for(let n=0;n<e.length;n++)i+=o.FixedIntegerEncoder.encode(e[n],t);for(;i.length<t*n;)i+="0";return i}static decode(e,t,n){if(!/^[0-1]*$/.test(e))throw new i.DecodingError("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new i.DecodingError("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new i.DecodingError("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));let r=[];for(let n=0;n<e.length;n+=t)r.push(o.FixedIntegerEncoder.decode(e.substring(n,n+t)));for(;r.length<n;)r.push(0);return r}}},9365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerRangeEncoder=void 0;const i=n(7642),r=n(7206),o=n(7640);t.FixedIntegerRangeEncoder=class{static encode(e){e.sort(((e,t)=>e-t));let t=[],n=0;for(;n<e.length;){let i=n;for(;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}let i=o.FixedIntegerEncoder.encode(t.length,12);for(let e=0;e<t.length;e++)1===t[e].length?i+="0"+o.FixedIntegerEncoder.encode(t[e][0],16):i+="1"+o.FixedIntegerEncoder.encode(t[e][0],16)+o.FixedIntegerEncoder.encode(t[e][t[e].length-1],16);return i}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new i.DecodingError("Undecodable FixedIntegerRange '"+e+"'");let t=[],n=o.FixedIntegerEncoder.decode(e.substring(0,12)),s=12;for(let i=0;i<n;i++){let n=r.BooleanEncoder.decode(e.substring(s,s+1));if(s++,!0===n){let n=o.FixedIntegerEncoder.decode(e.substring(s,s+16));s+=16;let i=o.FixedIntegerEncoder.decode(e.substring(s,s+16));s+=16;for(let e=n;e<=i;e++)t.push(e)}else{let n=o.FixedIntegerEncoder.decode(e.substring(s,s+16));t.push(n),s+=16}}return t}}},9259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedStringEncoder=void 0;const i=n(7642),r=n(3634),o=n(7640);t.FixedStringEncoder=class{static encode(e,t){for(;e.length<t;)e+=" ";let n="";for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(32===i)n+=o.FixedIntegerEncoder.encode(63,6);else{if(!(i>=65))throw new r.EncodingError("Unencodable FixedString '"+e+"'");n+=o.FixedIntegerEncoder.encode(e.charCodeAt(t)-65,6)}}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new i.DecodingError("Undecodable FixedString '"+e+"'");let t="";for(let n=0;n<e.length;n+=6){let i=o.FixedIntegerEncoder.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}},8498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizedFibonacciRangeEncoder=void 0;const i=n(7642),r=n(5935),o=n(3911),s=n(7640);t.OptimizedFibonacciRangeEncoder=class{static encode(e){let t=e.length>0?e[e.length-1]:0,n=r.FibonacciIntegerRangeEncoder.encode(e),i=t;if(n.length<=i)return s.FixedIntegerEncoder.encode(t,16)+"1"+n;{let n=[],r=0;for(let i=0;i<t;i++)i==e[r]-1?(n[i]=!0,r++):n[i]=!1;return s.FixedIntegerEncoder.encode(t,16)+"0"+o.FixedBitfieldEncoder.encode(n,i)}}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new i.DecodingError("Undecodable FibonacciInteger '"+e+"'");if("1"===e.charAt(16))return r.FibonacciIntegerRangeEncoder.decode(e.substring(17));{let t=[],n=o.FixedBitfieldEncoder.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);return t}}}},1012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizedFixedRangeEncoder=void 0;const i=n(7642),r=n(3911),o=n(7640),s=n(9365);t.OptimizedFixedRangeEncoder=class{static encode(e){let t=e.length>0?e[e.length-1]:0,n=s.FixedIntegerRangeEncoder.encode(e),i=t;if(n.length<=i)return o.FixedIntegerEncoder.encode(t,16)+"1"+n;{let n=[],s=0;for(let i=0;i<t;i++)i===e[s]-1?(n[i]=!0,s++):n[i]=!1;return o.FixedIntegerEncoder.encode(t,16)+"0"+r.FixedBitfieldEncoder.encode(n,i)}}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new i.DecodingError("Undecodable FibonacciInteger '"+e+"'");if("1"===e.charAt(16))return s.FixedIntegerRangeEncoder.decode(e.substring(17));{let t=[],n=r.FixedBitfieldEncoder.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);return t}}}},1184:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7206),t),r(n(1447),t),r(n(2146),t),r(n(5935),t),r(n(3911),t),r(n(7640),t),r(n(4444),t),r(n(9365),t),r(n(9259),t),r(n(8498),t),r(n(1012),t)},1091:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1184),t),r(n(8130),t),r(n(94),t),r(n(6847),t),r(n(244),t),r(n(5662),t),r(n(348),t),r(n(8933),t),r(n(1906),t),r(n(3425),t),r(n(6653),t),r(n(7568),t),r(n(1672),t),r(n(5007),t),r(n(65),t),r(n(1342),t),r(n(8854),t),r(n(4360),t),r(n(8678),t),r(n(4939),t),r(n(4072),t),r(n(9112),t)},5415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8130:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5415),t)},7642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DecodingError=void 0;class n extends Error{constructor(e){super(e),this.name="DecodingError"}}t.DecodingError=n},3634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingError=void 0;class n extends Error{constructor(e){super(e),this.name="EncodingError"}}t.EncodingError=n},7370:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFieldError=void 0;class n extends Error{constructor(e){super(e),this.name="InvalidFieldError"}}t.InvalidFieldError=n},1392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class n extends Error{constructor(e){super(e),this.name="ValidationError"}}t.ValidationError=n},5771:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7642),t),r(n(3634),t),r(n(7370),t),r(n(1392),t)},7943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableBitStringFields=void 0,t.EncodableBitStringFields=class{constructor(){this.fields=new Map}containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}},7596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFields=void 0,t.GenericFields=class{constructor(){this.fields=new Map}containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}},4617:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.HEADER_CORE_SEGMENT_FIELD_NAMES=t.HeaderV1Field=void 0,(i=n=t.HeaderV1Field||(t.HeaderV1Field={})).ID="Id",i.VERSION="Version",i.SECTION_IDS="SectionIds",t.HEADER_CORE_SEGMENT_FIELD_NAMES=[n.ID,n.VERSION,n.SECTION_IDS]},4149:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TCFCAV1_DISCLOSED_VENDORS_SEGMENT_FIELD_NAMES=t.TCFCAV1_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES=t.TCFCAV1_CORE_SEGMENT_FIELD_NAMES=t.TcfCaV1Field=void 0,(i=n=t.TcfCaV1Field||(t.TcfCaV1Field={})).VERSION="Version",i.CREATED="Created",i.LAST_UPDATED="LastUpdated",i.CMP_ID="CmpId",i.CMP_VERSION="CmpVersion",i.CONSENT_SCREEN="ConsentScreen",i.CONSENT_LANGUAGE="ConsentLanguage",i.VENDOR_LIST_VERSION="VendorListVersion",i.TCF_POLICY_VERSION="TcfPolicyVersion",i.USE_NON_STANDARD_STACKS="UseNonStandardStacks",i.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",i.PUB_PURPOSES_SEGMENT_TYPE="PubPurposesSegmentType",i.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",i.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",i.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",i.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",i.PUB_RESTRICTIONS="PubRestrictions",i.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",i.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",i.NUM_CUSTOM_PURPOSES="NumCustomPurposes",i.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",i.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent",i.DISCLOSED_VENDORS_SEGMENT_TYPE="DisclosedVendorsSegmentType",i.DISCLOSED_VENDORS="DisclosedVendors",t.TCFCAV1_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.CREATED,n.LAST_UPDATED,n.CMP_ID,n.CMP_VERSION,n.CONSENT_SCREEN,n.CONSENT_LANGUAGE,n.VENDOR_LIST_VERSION,n.TCF_POLICY_VERSION,n.USE_NON_STANDARD_STACKS,n.SPECIAL_FEATURE_EXPRESS_CONSENT,n.PURPOSES_EXPRESS_CONSENT,n.PURPOSES_IMPLIED_CONSENT,n.VENDOR_EXPRESS_CONSENT,n.VENDOR_IMPLIED_CONSENT,n.PUB_RESTRICTIONS],t.TCFCAV1_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES=[n.PUB_PURPOSES_SEGMENT_TYPE,n.PUB_PURPOSES_EXPRESS_CONSENT,n.PUB_PURPOSES_IMPLIED_CONSENT,n.NUM_CUSTOM_PURPOSES,n.CUSTOM_PURPOSES_EXPRESS_CONSENT,n.CUSTOM_PURPOSES_IMPLIED_CONSENT],t.TCFCAV1_DISCLOSED_VENDORS_SEGMENT_FIELD_NAMES=[n.DISCLOSED_VENDORS_SEGMENT_TYPE,n.DISCLOSED_VENDORS]},6316:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TCFEUV2_VENDORS_DISCLOSED_SEGMENT_FIELD_NAMES=t.TCFEUV2_VENDORS_ALLOWED_SEGMENT_FIELD_NAMES=t.TCFEUV2_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES=t.TCFEUV2_CORE_SEGMENT_FIELD_NAMES=t.TcfEuV2Field=void 0,(i=n=t.TcfEuV2Field||(t.TcfEuV2Field={})).VERSION="Version",i.CREATED="Created",i.LAST_UPDATED="LastUpdated",i.CMP_ID="CmpId",i.CMP_VERSION="CmpVersion",i.CONSENT_SCREEN="ConsentScreen",i.CONSENT_LANGUAGE="ConsentLanguage",i.VENDOR_LIST_VERSION="VendorListVersion",i.POLICY_VERSION="PolicyVersion",i.IS_SERVICE_SPECIFIC="IsServiceSpecific",i.USE_NON_STANDARD_STACKS="UseNonStandardStacks",i.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",i.PURPOSE_CONSENTS="PurposeConsents",i.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",i.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",i.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",i.VENDOR_CONSENTS="VendorConsents",i.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",i.PUBLISHER_RESTRICTIONS="PublisherRestrictions",i.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",i.PUBLISHER_CONSENTS="PublisherConsents",i.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",i.NUM_CUSTOM_PURPOSES="NumCustomPurposes",i.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",i.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",i.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",i.VENDORS_ALLOWED="VendorsAllowed",i.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",i.VENDORS_DISCLOSED="VendorsDisclosed",t.TCFEUV2_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.CREATED,n.LAST_UPDATED,n.CMP_ID,n.CMP_VERSION,n.CONSENT_SCREEN,n.CONSENT_LANGUAGE,n.VENDOR_LIST_VERSION,n.POLICY_VERSION,n.IS_SERVICE_SPECIFIC,n.USE_NON_STANDARD_STACKS,n.SPECIAL_FEATURE_OPTINS,n.PURPOSE_CONSENTS,n.PURPOSE_LEGITIMATE_INTERESTS,n.PURPOSE_ONE_TREATMENT,n.PUBLISHER_COUNTRY_CODE,n.VENDOR_CONSENTS,n.VENDOR_LEGITIMATE_INTERESTS,n.PUBLISHER_RESTRICTIONS],t.TCFEUV2_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES=[n.PUBLISHER_PURPOSES_SEGMENT_TYPE,n.PUBLISHER_CONSENTS,n.PUBLISHER_LEGITIMATE_INTERESTS,n.NUM_CUSTOM_PURPOSES,n.PUBLISHER_CUSTOM_CONSENTS,n.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS],t.TCFEUV2_VENDORS_ALLOWED_SEGMENT_FIELD_NAMES=[n.VENDORS_ALLOWED_SEGMENT_TYPE,n.VENDORS_ALLOWED],t.TCFEUV2_VENDORS_DISCLOSED_SEGMENT_FIELD_NAMES=[n.VENDORS_DISCLOSED_SEGMENT_TYPE,n.VENDORS_DISCLOSED]},1877:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USCA_GPC_SEGMENT_FIELD_NAMES=t.USCA_CORE_SEGMENT_FIELD_NAMES=t.UsCaField=void 0,(i=n=t.UsCaField||(t.UsCaField={})).VERSION="Version",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",i.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",i.SALE_OPT_OUT="SaleOptOut",i.SHARING_OPT_OUT="SharingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.PERSONAL_DATA_CONSENTS="PersonalDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USCA_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SALE_OPT_OUT_NOTICE,n.SHARING_OPT_OUT_NOTICE,n.SENSITIVE_DATA_LIMIT_USE_NOTICE,n.SALE_OPT_OUT,n.SHARING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.PERSONAL_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USCA_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},5599:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USCO_GPC_SEGMENT_FIELD_NAMES=t.USCO_CORE_SEGMENT_FIELD_NAMES=t.UsCoField=void 0,(i=n=t.UsCoField||(t.UsCoField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USCO_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USCO_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},5404:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USCT_GPC_SEGMENT_FIELD_NAMES=t.USCT_CORE_SEGMENT_FIELD_NAMES=t.UsCtField=void 0,(i=n=t.UsCtField||(t.UsCtField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USCT_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USCT_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},388:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USDE_GPC_SEGMENT_FIELD_NAMES=t.USDE_CORE_SEGMENT_FIELD_NAMES=t.UsDeField=void 0,(i=n=t.UsDeField||(t.UsDeField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USDE_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USDE_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},5011:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USFL_CORE_SEGMENT_FIELD_NAMES=t.UsFlField=void 0,(i=n=t.UsFlField||(t.UsFlField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.USFL_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE]},403:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USIA_GPC_SEGMENT_FIELD_NAMES=t.USIA_CORE_SEGMENT_FIELD_NAMES=t.UsIaField=void 0,(i=n=t.UsIaField||(t.UsIaField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SENSITIVE_DATA_OPT_OUT_NOTICE="SensitiveDataOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USIA_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SENSITIVE_DATA_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USIA_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},7094:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USMT_GPC_SEGMENT_FIELD_NAMES=t.USMT_CORE_SEGMENT_FIELD_NAMES=t.UsMtField=void 0,(i=n=t.UsMtField||(t.UsMtField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USMT_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USMT_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},8776:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USNAT_GPC_SEGMENT_FIELD_NAMES=t.USNAT_CORE_SEGMENT_FIELD_NAMES=t.UsNatField=void 0,(i=n=t.UsNatField||(t.UsNatField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",i.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",i.SALE_OPT_OUT="SaleOptOut",i.SHARING_OPT_OUT="SharingOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.PERSONAL_DATA_CONSENTS="PersonalDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USNAT_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.SHARING_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,n.SENSITIVE_DATA_LIMIT_USE_NOTICE,n.SALE_OPT_OUT,n.SHARING_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.PERSONAL_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USNAT_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},3486:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USNE_GPC_SEGMENT_FIELD_NAMES=t.USNE_CORE_SEGMENT_FIELD_NAMES=t.UsNeField=void 0,(i=n=t.UsNeField||(t.UsNeField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USNE_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USNE_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},3119:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USNH_GPC_SEGMENT_FIELD_NAMES=t.USNH_CORE_SEGMENT_FIELD_NAMES=t.UsNhField=void 0,(i=n=t.UsNhField||(t.UsNhField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USNH_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USNH_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},2161:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USNJ_GPC_SEGMENT_FIELD_NAMES=t.USNJ_CORE_SEGMENT_FIELD_NAMES=t.UsNjField=void 0,(i=n=t.UsNjField||(t.UsNjField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USNJ_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USNJ_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},8354:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USOR_GPC_SEGMENT_FIELD_NAMES=t.USOR_CORE_SEGMENT_FIELD_NAMES=t.UsOrField=void 0,(i=n=t.UsOrField||(t.UsOrField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USOR_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USOR_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},5095:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USTN_GPC_SEGMENT_FIELD_NAMES=t.USTN_CORE_SEGMENT_FIELD_NAMES=t.UsTnField=void 0,(i=n=t.UsTnField||(t.UsTnField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USTN_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USTN_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},8053:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USTX_GPC_SEGMENT_FIELD_NAMES=t.USTX_CORE_SEGMENT_FIELD_NAMES=t.UsTxField=void 0,(i=n=t.UsTxField||(t.UsTxField={})).VERSION="Version",i.PROCESSING_NOTICE="ProcessingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i.GPC_SEGMENT_TYPE="GpcSegmentType",i.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i.GPC="Gpc",t.USTX_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.PROCESSING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.ADDITIONAL_DATA_PROCESSING_CONSENT,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE],t.USTX_GPC_SEGMENT_FIELD_NAMES=[n.GPC_SEGMENT_TYPE,n.GPC]},1806:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USUT_CORE_SEGMENT_FIELD_NAMES=t.UsUtField=void 0,(i=n=t.UsUtField||(t.UsUtField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.USUT_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE]},5722:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USVA_CORE_SEGMENT_FIELD_NAMES=t.UsVaField=void 0,(i=n=t.UsVaField||(t.UsVaField={})).VERSION="Version",i.SHARING_NOTICE="SharingNotice",i.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i.SALE_OPT_OUT="SaleOptOut",i.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",t.USVA_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.SHARING_NOTICE,n.SALE_OPT_OUT_NOTICE,n.TARGETED_ADVERTISING_OPT_OUT_NOTICE,n.SALE_OPT_OUT,n.TARGETED_ADVERTISING_OPT_OUT,n.SENSITIVE_DATA_PROCESSING,n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,n.MSPA_COVERED_TRANSACTION,n.MSPA_OPT_OUT_OPTION_MODE,n.MSPA_SERVICE_PROVIDER_MODE]},4078:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.USPV1_CORE_SEGMENT_FIELD_NAMES=t.UspV1Field=void 0,(i=n=t.UspV1Field||(t.UspV1Field={})).VERSION="Version",i.NOTICE="Notice",i.OPT_OUT_SALE="OptOutSale",i.LSPA_COVERED="LspaCovered",t.USPV1_CORE_SEGMENT_FIELD_NAMES=[n.VERSION,n.NOTICE,n.OPT_OUT_SALE,n.LSPA_COVERED]},4689:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7943),t),r(n(7596),t),r(n(6781),t),r(n(4617),t),r(n(4149),t),r(n(6316),t),r(n(1877),t),r(n(5599),t),r(n(5404),t),r(n(388),t),r(n(5011),t),r(n(403),t),r(n(7094),t),r(n(8776),t),r(n(3486),t),r(n(3119),t),r(n(2161),t),r(n(8354),t),r(n(5095),t),r(n(8053),t),r(n(1806),t),r(n(4078),t),r(n(5722),t)},1862:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2456),t),r(n(3412),t),r(n(1091),t),r(n(5771),t),r(n(4689),t),r(n(8878),t),r(n(8288),t),r(n(5679),t),r(n(4694),t)},509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractLazilyEncodableSection=void 0;const i=n(7370);t.AbstractLazilyEncodableSection=class{constructor(){this.encodedString=null,this.dirty=!1,this.decoded=!0,this.segments=this.initializeSegments()}hasField(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.getFieldNames().includes(e))return n.hasField(e)}return!1}getFieldValue(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.hasField(e))return n.getFieldValue(e)}throw new i.InvalidFieldError("Invalid field: '"+e+"'")}setFieldValue(e,t){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let n=0;n<this.segments.length;n++){let i=this.segments[n];if(i.hasField(e))return void i.setFieldValue(e,t)}throw new i.InvalidFieldError("Invalid field: '"+e+"'")}toObj(){let e={};for(let t=0;t<this.segments.length;t++){let n=this.segments[t].toObj();for(const[t,i]of Object.entries(n))e[t]=i}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeSection(this.segments),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!1}setIsDirty(e){this.dirty=e}}},7866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderV1=void 0;const i=n(509),r=n(224);class o extends i.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return o.ID}getName(){return o.NAME}getVersion(){return o.VERSION}initializeSegments(){let e=[];return e.push(new r.HeaderV1CoreSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}t.HeaderV1=o,o.ID=3,o.VERSION=1,o.NAME="header"},2552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sections=void 0;const i=n(7249),r=n(5570),o=n(3047),s=n(4161),d=n(8420),a=n(5977),c=n(1690),l=n(8913),u=n(863),E=n(4526),_=n(7017),g=n(2849),p=n(9088),h=n(9883),S=n(4682),f=n(3853),T=n(6650),O=n(9328),N=n(5174);class I{}t.Sections=I,I.SECTION_ID_NAME_MAP=new Map([[i.TcfEuV2.ID,i.TcfEuV2.NAME],[r.TcfCaV1.ID,r.TcfCaV1.NAME],[o.UspV1.ID,o.UspV1.NAME],[s.UsNat.ID,s.UsNat.NAME],[d.UsCa.ID,d.UsCa.NAME],[a.UsVa.ID,a.UsVa.NAME],[c.UsCo.ID,c.UsCo.NAME],[l.UsUt.ID,l.UsUt.NAME],[u.UsCt.ID,u.UsCt.NAME],[E.UsFl.ID,E.UsFl.NAME],[_.UsMt.ID,_.UsMt.NAME],[g.UsOr.ID,g.UsOr.NAME],[p.UsTx.ID,p.UsTx.NAME],[h.UsDe.ID,h.UsDe.NAME],[S.UsIa.ID,S.UsIa.NAME],[f.UsNe.ID,f.UsNe.NAME],[T.UsNh.ID,T.UsNh.NAME],[O.UsNj.ID,O.UsNj.NAME],[N.UsTn.ID,N.UsTn.NAME]]),I.SECTION_ORDER=[i.TcfEuV2.NAME,r.TcfCaV1.NAME,o.UspV1.NAME,s.UsNat.NAME,d.UsCa.NAME,a.UsVa.NAME,c.UsCo.NAME,l.UsUt.NAME,u.UsCt.NAME,E.UsFl.NAME,_.UsMt.NAME,g.UsOr.NAME,p.UsTx.NAME,h.UsDe.NAME,S.UsIa.NAME,f.UsNe.NAME,T.UsNh.NAME,O.UsNj.NAME,N.UsTn.NAME]},5570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1=void 0;const i=n(4149),r=n(6698),o=n(2028),s=n(2418),d=n(509),a=n(7642);class c extends d.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return c.ID}getName(){return c.NAME}getVersion(){return c.VERSION}initializeSegments(){let e=[];return e.push(new r.TcfCaV1CoreSegment),e.push(new o.TcfCaV1PublisherPurposesSegment),e.push(new s.TcfCaV1DisclosedVendorsSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let i=n[e];if(0!==i.length){let r=i.charAt(0);if(r>="A"&&r<="H")t[0].decode(n[e]);else if(r>="I"&&r<="P")t[2].decode(n[e]);else{if(!(r>="Y"&&r<="Z"||r>="a"&&r<="f"))throw new a.DecodingError("Unable to decode TcfCaV1 segment '"+i+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];return t.push(e[0].encode()),t.push(e[1].encode()),this.getFieldValue(i.TcfCaV1Field.DISCLOSED_VENDORS).length>0&&t.push(e[2].encode()),t.join(".")}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==i.TcfCaV1Field.CREATED&&e!==i.TcfCaV1Field.LAST_UPDATED){let e=new Date;super.setFieldValue(i.TcfCaV1Field.CREATED,e),super.setFieldValue(i.TcfCaV1Field.LAST_UPDATED,e)}}}t.TcfCaV1=c,c.ID=5,c.VERSION=1,c.NAME="tcfcav1"},7249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2=void 0;const i=n(7642),r=n(6316),o=n(5815),s=n(7399),d=n(3509),a=n(1381),c=n(509);class l extends c.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return l.ID}getName(){return l.NAME}getVersion(){return l.VERSION}initializeSegments(){let e=[];return e.push(new o.TcfEuV2CoreSegment),e.push(new s.TcfEuV2PublisherPurposesSegment),e.push(new d.TcfEuV2VendorsAllowedSegment),e.push(new a.TcfEuV2VendorsDisclosedSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let r=n[e];if(0!==r.length){let o=r.charAt(0);if(o>="A"&&o<="H")t[0].decode(n[e]);else if(o>="I"&&o<="P")t[3].decode(n[e]);else if(o>="Q"&&o<="X")t[2].decode(n[e]);else{if(!(o>="Y"&&o<="Z"||o>="a"&&o<="f"))throw new i.DecodingError("Unable to decode TcfEuV2 segment '"+r+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),this.getFieldValue(r.TcfEuV2Field.IS_SERVICE_SPECIFIC)?e.length>=2&&t.push(e[1].encode()):e.length>=2&&(t.push(e[2].encode()),e.length>=3&&t.push(e[3].encode()))),t.join(".")}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==r.TcfEuV2Field.CREATED&&e!==r.TcfEuV2Field.LAST_UPDATED){let e=new Date;super.setFieldValue(r.TcfEuV2Field.CREATED,e),super.setFieldValue(r.TcfEuV2Field.LAST_UPDATED,e)}}}t.TcfEuV2=l,l.ID=2,l.VERSION=2,l.NAME="tcfeuv2"},8420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCa=void 0;const i=n(1877),r=n(3852),o=n(8683),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsCaCoreSegment),e.push(new o.UsCaGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsCaField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsCaField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsCaField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsCa=d,d.ID=8,d.VERSION=1,d.NAME="usca"},1690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCo=void 0;const i=n(509),r=n(5599),o=n(4314),s=n(8393);class d extends i.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new o.UsCoCoreSegment),e.push(new s.UsCoGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(r.UsCoField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(r.UsCoField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(r.UsCoField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsCo=d,d.ID=10,d.VERSION=1,d.NAME="usco"},863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCt=void 0;const i=n(5404),r=n(5173),o=n(6452),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsCtCoreSegment),e.push(new o.UsCtGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsCtField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsCtField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsCtField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsCt=d,d.ID=12,d.VERSION=1,d.NAME="usct"},9883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsDe=void 0;const i=n(388),r=n(2661),o=n(3364),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsDeCoreSegment),e.push(new o.UsDeGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsDeField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsDeField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsDeField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsDe=d,d.ID=17,d.VERSION=1,d.NAME="usde"},4526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsFl=void 0;const i=n(66),r=n(509);class o extends r.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return o.ID}getName(){return o.NAME}getVersion(){return o.VERSION}initializeSegments(){let e=[];return e.push(new i.UsFlCoreSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}t.UsFl=o,o.ID=13,o.VERSION=1,o.NAME="usfl"},4682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsIa=void 0;const i=n(403),r=n(7762),o=n(7761),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsIaCoreSegment),e.push(new o.UsIaGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsIaField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsIaField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsIaField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsIa=d,d.ID=18,d.VERSION=1,d.NAME="usia"},7017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsMt=void 0;const i=n(7094),r=n(3175),o=n(1302),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsMtCoreSegment),e.push(new o.UsMtGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsMtField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsMtField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsMtField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsMt=d,d.ID=14,d.VERSION=1,d.NAME="usmt"},4161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNat=void 0;const i=n(509),r=n(8776),o=n(719),s=n(5502);class d extends i.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new o.UsNatCoreSegment),e.push(new s.UsNatGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(r.UsNatField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(r.UsNatField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(r.UsNatField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsNat=d,d.ID=7,d.VERSION=1,d.NAME="usnat"},3853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNe=void 0;const i=n(3486),r=n(9775),o=n(8718),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsNeCoreSegment),e.push(new o.UsNeGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsNeField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsNeField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsNeField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsNe=d,d.ID=19,d.VERSION=1,d.NAME="usne"},6650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNh=void 0;const i=n(3119),r=n(4846),o=n(2365),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsNhCoreSegment),e.push(new o.UsNhGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsNhField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsNhField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsNhField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsNh=d,d.ID=20,d.VERSION=1,d.NAME="usnh"},9328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNj=void 0;const i=n(2161),r=n(2068),o=n(7299),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsNjCoreSegment),e.push(new o.UsNjGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsNjField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsNjField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsNjField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsNj=d,d.ID=21,d.VERSION=1,d.NAME="usnj"},2849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsOr=void 0;const i=n(8354),r=n(8135),o=n(166),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsOrCoreSegment),e.push(new o.UsOrGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsOrField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsOrField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsOrField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsOr=d,d.ID=15,d.VERSION=1,d.NAME="usor"},5174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTn=void 0;const i=n(5095),r=n(1882),o=n(4713),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsTnCoreSegment),e.push(new o.UsTnGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsTnField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsTnField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsTnField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsTn=d,d.ID=22,d.VERSION=1,d.NAME="ustn"},9088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTx=void 0;const i=n(8053),r=n(6164),o=n(1011),s=n(509);class d extends s.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return d.ID}getName(){return d.NAME}getVersion(){return d.VERSION}initializeSegments(){let e=[];return e.push(new r.UsTxCoreSegment),e.push(new o.UsTxGpcSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(i.UsTxField.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(i.UsTxField.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(i.UsTxField.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}t.UsTx=d,d.ID=16,d.VERSION=1,d.NAME="ustx"},8913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsUt=void 0;const i=n(8767),r=n(509);class o extends r.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return o.ID}getName(){return o.NAME}getVersion(){return o.VERSION}initializeSegments(){let e=[];return e.push(new i.UsUtCoreSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}t.UsUt=o,o.ID=11,o.VERSION=1,o.NAME="usut"},5977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsVa=void 0;const i=n(203),r=n(509);class o extends r.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return o.ID}getName(){return o.NAME}getVersion(){return o.VERSION}initializeSegments(){let e=[];return e.push(new i.UsVaCoreSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}t.UsVa=o,o.ID=9,o.VERSION=1,o.NAME="usva"},3047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UspV1=void 0;const i=n(1905),r=n(509);class o extends r.AbstractLazilyEncodableSection{constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return o.ID}getName(){return o.NAME}getVersion(){return o.VERSION}initializeSegments(){let e=[];return e.push(new i.UspV1CoreSegment),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}t.UspV1=o,o.ID=6,o.VERSION=1,o.NAME="uspv1"},8878:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(509),t),r(n(7866),t),r(n(4288),t),r(n(2552),t),r(n(5570),t),r(n(7249),t),r(n(8420),t),r(n(1690),t),r(n(863),t),r(n(9883),t),r(n(4526),t),r(n(4682),t),r(n(7017),t),r(n(4161),t),r(n(3853),t),r(n(6650),t),r(n(9328),t),r(n(2849),t),r(n(5174),t),r(n(9088),t),r(n(8913),t),r(n(3047),t),r(n(5977),t)},7577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractLazilyEncodableSegment=void 0;const i=n(7370);t.AbstractLazilyEncodableSegment=class{constructor(){this.encodedString=null,this.dirty=!1,this.decoded=!0,this.fields=this.initializeFields()}validate(){}hasField(e){return this.fields.containsKey(e)}getFieldValue(e){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),this.fields.containsKey(e))return this.fields.get(e).getValue();throw new i.InvalidFieldError("Invalid field: '"+e+"'")}setFieldValue(e,t){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),!this.fields.containsKey(e))throw new i.InvalidFieldError(e+" not found");this.fields.get(e).setValue(t),this.dirty=!0}toObj(){let e={},t=this.getFieldNames();for(let n=0;n<t.length;n++){let i=t[n],r=this.getFieldValue(i);e[i]=r}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.validate(),this.encodedString=this.encodeSegment(this.fields),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}},3626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderV1CoreSegment=void 0;const i=n(7683),r=n(3905),o=n(3425),s=n(7568),d=n(7642),a=n(7943),c=n(4617),l=n(4617),u=n(4288),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.HEADER_CORE_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.HeaderV1Field.ID.toString(),new s.EncodableFixedInteger(6,u.HeaderV1.ID)),e.put(l.HeaderV1Field.VERSION.toString(),new s.EncodableFixedInteger(6,u.HeaderV1.VERSION)),e.put(l.HeaderV1Field.SECTION_IDS.toString(),new o.EncodableFibonacciIntegerRange([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}t.HeaderV1CoreSegment=_},6698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1CoreSegment=void 0;const i=n(7683),r=n(3905),o=n(244),s=n(5662),d=n(8933),a=n(6653),c=n(7568),l=n(65),u=n(4360),E=n(7642),_=n(7943),g=n(4149),p=n(4149),h=n(5570),S=n(7577);class f extends S.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return g.TCFCAV1_CORE_SEGMENT_FIELD_NAMES}initializeFields(){let e=new Date,t=new _.EncodableBitStringFields;return t.put(p.TcfCaV1Field.VERSION.toString(),new c.EncodableFixedInteger(6,h.TcfCaV1.VERSION)),t.put(p.TcfCaV1Field.CREATED.toString(),new d.EncodableDatetime(e)),t.put(p.TcfCaV1Field.LAST_UPDATED.toString(),new d.EncodableDatetime(e)),t.put(p.TcfCaV1Field.CMP_ID.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfCaV1Field.CMP_VERSION.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfCaV1Field.CONSENT_SCREEN.toString(),new c.EncodableFixedInteger(6,0)),t.put(p.TcfCaV1Field.CONSENT_LANGUAGE.toString(),new l.EncodableFixedString(2,"EN")),t.put(p.TcfCaV1Field.VENDOR_LIST_VERSION.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfCaV1Field.TCF_POLICY_VERSION.toString(),new c.EncodableFixedInteger(6,2)),t.put(p.TcfCaV1Field.USE_NON_STANDARD_STACKS.toString(),new s.EncodableBoolean(!1)),t.put(p.TcfCaV1Field.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfCaV1Field.PURPOSES_EXPRESS_CONSENT.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfCaV1Field.PURPOSES_IMPLIED_CONSENT.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfCaV1Field.VENDOR_EXPRESS_CONSENT.toString(),new u.EncodableOptimizedFixedRange([])),t.put(p.TcfCaV1Field.VENDOR_IMPLIED_CONSENT.toString(),new u.EncodableOptimizedFixedRange([])),t.put(p.TcfCaV1Field.PUB_RESTRICTIONS.toString(),new o.EncodableArrayOfFixedIntegerRanges(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new E.DecodingError("Unable to decode TcfCaV1CoreSegment '"+e+"'")}}}t.TcfCaV1CoreSegment=f},2418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1DisclosedVendorsSegment=void 0;const i=n(2277),r=n(3905),o=n(7568),s=n(4360),d=n(7642),a=n(7943),c=n(4149),l=n(4149),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.TraditionalBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.TCFCAV1_DISCLOSED_VENDORS_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.TcfCaV1Field.DISCLOSED_VENDORS_SEGMENT_TYPE.toString(),new o.EncodableFixedInteger(3,1)),e.put(l.TcfCaV1Field.DISCLOSED_VENDORS.toString(),new s.EncodableOptimizedFixedRange([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}t.TcfCaV1DisclosedVendorsSegment=E},2028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1PublisherPurposesSegment=void 0;const i=n(7683),r=n(3905),o=n(6653),s=n(7568),d=n(1342),a=n(7642),c=n(7943),l=n(4149),u=n(4149),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return l.TCFCAV1_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES}initializeFields(){let e=new c.EncodableBitStringFields;e.put(u.TcfCaV1Field.PUB_PURPOSES_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(3,3)),e.put(u.TcfCaV1Field.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new o.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(u.TcfCaV1Field.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new o.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new s.EncodableFixedInteger(6,0);return e.put(u.TcfCaV1Field.NUM_CUSTOM_PURPOSES.toString(),t),e.put(u.TcfCaV1Field.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new d.EncodableFlexibleBitfield((()=>t.getValue()),[])),e.put(u.TcfCaV1Field.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new d.EncodableFlexibleBitfield((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new a.DecodingError("Unable to decode TcfCaV1PublisherPurposesSegment '"+e+"'")}}}t.TcfCaV1PublisherPurposesSegment=_},5815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2CoreSegment=void 0;const i=n(2277),r=n(3905),o=n(244),s=n(5662),d=n(8933),a=n(6653),c=n(7568),l=n(65),u=n(4360),E=n(7642),_=n(7943),g=n(6316),p=n(6316),h=n(7249),S=n(7577);class f extends S.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.TraditionalBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return g.TCFEUV2_CORE_SEGMENT_FIELD_NAMES}initializeFields(){let e=new Date,t=new _.EncodableBitStringFields;return t.put(p.TcfEuV2Field.VERSION.toString(),new c.EncodableFixedInteger(6,h.TcfEuV2.VERSION)),t.put(p.TcfEuV2Field.CREATED.toString(),new d.EncodableDatetime(e)),t.put(p.TcfEuV2Field.LAST_UPDATED.toString(),new d.EncodableDatetime(e)),t.put(p.TcfEuV2Field.CMP_ID.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfEuV2Field.CMP_VERSION.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfEuV2Field.CONSENT_SCREEN.toString(),new c.EncodableFixedInteger(6,0)),t.put(p.TcfEuV2Field.CONSENT_LANGUAGE.toString(),new l.EncodableFixedString(2,"EN")),t.put(p.TcfEuV2Field.VENDOR_LIST_VERSION.toString(),new c.EncodableFixedInteger(12,0)),t.put(p.TcfEuV2Field.POLICY_VERSION.toString(),new c.EncodableFixedInteger(6,2)),t.put(p.TcfEuV2Field.IS_SERVICE_SPECIFIC.toString(),new s.EncodableBoolean(!1)),t.put(p.TcfEuV2Field.USE_NON_STANDARD_STACKS.toString(),new s.EncodableBoolean(!1)),t.put(p.TcfEuV2Field.SPECIAL_FEATURE_OPTINS.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfEuV2Field.PURPOSE_CONSENTS.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfEuV2Field.PURPOSE_LEGITIMATE_INTERESTS.toString(),new a.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(p.TcfEuV2Field.PURPOSE_ONE_TREATMENT.toString(),new s.EncodableBoolean(!1)),t.put(p.TcfEuV2Field.PUBLISHER_COUNTRY_CODE.toString(),new l.EncodableFixedString(2,"AA")),t.put(p.TcfEuV2Field.VENDOR_CONSENTS.toString(),new u.EncodableOptimizedFixedRange([])),t.put(p.TcfEuV2Field.VENDOR_LEGITIMATE_INTERESTS.toString(),new u.EncodableOptimizedFixedRange([])),t.put(p.TcfEuV2Field.PUBLISHER_RESTRICTIONS.toString(),new o.EncodableArrayOfFixedIntegerRanges(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new E.DecodingError("Unable to decode TcfEuV2CoreSegment '"+e+"'")}}}t.TcfEuV2CoreSegment=f},7399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2PublisherPurposesSegment=void 0;const i=n(2277),r=n(3905),o=n(6653),s=n(7568),d=n(1342),a=n(7642),c=n(7943),l=n(6316),u=n(6316),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.TraditionalBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return l.TCFEUV2_PUBLISHER_PURPOSES_SEGMENT_FIELD_NAMES}initializeFields(){let e=new c.EncodableBitStringFields;e.put(u.TcfEuV2Field.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(3,3)),e.put(u.TcfEuV2Field.PUBLISHER_CONSENTS.toString(),new o.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(u.TcfEuV2Field.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new o.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new s.EncodableFixedInteger(6,0);return e.put(u.TcfEuV2Field.NUM_CUSTOM_PURPOSES.toString(),t),e.put(u.TcfEuV2Field.PUBLISHER_CUSTOM_CONSENTS.toString(),new d.EncodableFlexibleBitfield((()=>t.getValue()),[])),e.put(u.TcfEuV2Field.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new d.EncodableFlexibleBitfield((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new a.DecodingError("Unable to decode TcfEuV2PublisherPurposesSegment '"+e+"'")}}}t.TcfEuV2PublisherPurposesSegment=_},3509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2VendorsAllowedSegment=void 0;const i=n(2277),r=n(3905),o=n(7568),s=n(4360),d=n(7642),a=n(7943),c=n(6316),l=n(6316),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.TraditionalBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.TCFEUV2_VENDORS_ALLOWED_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.TcfEuV2Field.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new o.EncodableFixedInteger(3,2)),e.put(l.TcfEuV2Field.VENDORS_ALLOWED.toString(),new s.EncodableOptimizedFixedRange([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode TcfEuV2VendorsAllowedSegment '"+e+"'")}}}t.TcfEuV2VendorsAllowedSegment=E},1381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2VendorsDisclosedSegment=void 0;const i=n(2277),r=n(3905),o=n(7568),s=n(4360),d=n(7642),a=n(7943),c=n(6316),l=n(6316),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.TraditionalBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.TCFEUV2_VENDORS_DISCLOSED_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.TcfEuV2Field.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new o.EncodableFixedInteger(3,1)),e.put(l.TcfEuV2Field.VENDORS_DISCLOSED.toString(),new s.EncodableOptimizedFixedRange([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode TcfEuV2VendorsDisclosedSegment '"+e+"'")}}}t.TcfEuV2VendorsDisclosedSegment=E},3852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCaCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(1877),l=n(1877),u=n(8420),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCA_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsCaField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsCa.VERSION)),i.put(l.UsCaField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.SHARING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.SHARING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsCaField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0]).withValidator(n)),i.put(l.UsCaField.PERSONAL_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsCaField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCaField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCaCoreSegment '"+e+"'")}}}t.UsCaCoreSegment=_},8683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCaGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(1877),l=n(1877),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCA_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsCaField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsCaField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsCaField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCaGpcSegment '"+e+"'")}}}t.UsCaGpcSegment=E},4314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCoCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(5599),l=n(5599),u=n(1690),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCO_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsCoField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsCo.VERSION)),i.put(l.UsCoField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsCoField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsCoField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCoField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCoCoreSegment '"+e+"'")}}}t.UsCoCoreSegment=_},8393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCoGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(5599),l=n(5599),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCO_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsCoField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsCoField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsCoField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCoGpcSegment '"+e+"'")}}}t.UsCoGpcSegment=E},5173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCtCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(5404),l=n(5404),u=n(863),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCT_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsCtField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsCt.VERSION)),i.put(l.UsCtField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsCtField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsCtField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsCtField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsCtField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCtCoreSegment '"+e+"'")}}}t.UsCtCoreSegment=_},6452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsCtGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(5404),l=n(5404),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USCT_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsCtField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsCtField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsCtField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsCtGpcSegment '"+e+"'")}}}t.UsCtGpcSegment=E},2661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsDeCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(388),l=n(388),u=n(9883),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USDE_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsDeField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsDe.VERSION)),i.put(l.UsDeField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsDeField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0]).withValidator(n)),i.put(l.UsDeField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsDeField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsDeField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsDeCoreSegment '"+e+"'")}}}t.UsDeCoreSegment=_},3364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsDeGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(388),l=n(388),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USDE_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsDeField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsDeField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsDeField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsDeGpcSegment '"+e+"'")}}}t.UsDeGpcSegment=E},66:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsFlCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(5011),l=n(5011),u=n(4526),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USFL_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsFlField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsFl.VERSION)),i.put(l.UsFlField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsFlField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsFlField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsFlField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsFlField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsFlCoreSegment '"+e+"'")}}}t.UsFlCoreSegment=_},7762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsIaCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(403),l=n(403),u=n(4682),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USIA_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsIaField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsIa.VERSION)),i.put(l.UsIaField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.SENSITIVE_DATA_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsIaField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsIaField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsIaField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsIaCoreSegment '"+e+"'")}}}t.UsIaCoreSegment=_},7761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsIaGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(403),l=n(403),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USIA_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsIaField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsIaField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsIaField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsIaGpcSegment '"+e+"'")}}}t.UsIaGpcSegment=E},3175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsMtCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(7094),l=n(7094),u=n(7017),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USMT_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsMtField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsMt.VERSION)),i.put(l.UsMtField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsMtField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsMtField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsMtField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsMtField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsMtCoreSegment '"+e+"'")}}}t.UsMtCoreSegment=_},1302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsMtGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(7094),l=n(7094),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USMT_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsMtField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsMtField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsMtField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsMtGpcSegment '"+e+"'")}}}t.UsMtGpcSegment=E},719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNatCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(8776),l=n(8776),u=n(4161),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNAT_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsNatField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsNat.VERSION)),i.put(l.UsNatField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SHARING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SHARING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsNatField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsNatField.PERSONAL_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsNatField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNatField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);66==n.length&&(n=n.substring(0,48)+"00000000"+n.substring(48,52)+"00"+n.substring(52,62)),this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNatCoreSegment '"+e+"'")}}}t.UsNatCoreSegment=_},5502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNatGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(8776),l=n(8776),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNAT_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsNatField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsNatField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsNatField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNatGpcSegment '"+e+"'")}}}t.UsNatGpcSegment=E},9775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNeCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(3486),l=n(3486),u=n(3853),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNE_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsNeField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsNe.VERSION)),i.put(l.UsNeField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsNeField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsNeField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNeField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNeCoreSegment '"+e+"'")}}}t.UsNeCoreSegment=_},8718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNeGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(3486),l=n(3486),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNE_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsNeField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsNeField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsNeField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNeGpcSegment '"+e+"'")}}}t.UsNeGpcSegment=E},4846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNhCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(3119),l=n(3119),u=n(6650),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNH_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsNhField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsNh.VERSION)),i.put(l.UsNhField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsNhField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsNhField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsNhField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNhField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNhCoreSegment '"+e+"'")}}}t.UsNhCoreSegment=_},2365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNhGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(3119),l=n(3119),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNH_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsNhField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsNhField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsNhField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNhGpcSegment '"+e+"'")}}}t.UsNhGpcSegment=E},2068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNjCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(2161),l=n(2161),u=n(9328),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNJ_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsNjField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsNj.VERSION)),i.put(l.UsNjField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsNjField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0]).withValidator(n)),i.put(l.UsNjField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsNjField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsNjField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNjCoreSegment '"+e+"'")}}}t.UsNjCoreSegment=_},7299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsNjGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(2161),l=n(2161),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USNJ_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsNjField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsNjField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsNjField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsNjGpcSegment '"+e+"'")}}}t.UsNjGpcSegment=E},8135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsOrCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(8354),l=n(8354),u=n(2849),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USOR_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsOrField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsOr.VERSION)),i.put(l.UsOrField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsOrField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new s.EncodableFixedIntegerList(2,[0,0,0]).withValidator(n)),i.put(l.UsOrField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsOrField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsOrField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsOrCoreSegment '"+e+"'")}}}t.UsOrCoreSegment=_},166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsOrGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(8354),l=n(8354),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USOR_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsOrField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsOrField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsOrField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsOrGpcSegment '"+e+"'")}}}t.UsOrGpcSegment=E},1882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTnCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(5095),l=n(5095),u=n(5174),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USTN_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsTnField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsTn.VERSION)),i.put(l.UsTnField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsTnField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsTnField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTnField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsTnCoreSegment '"+e+"'")}}}t.UsTnCoreSegment=_},4713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTnGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(5095),l=n(5095),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USTN_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsTnField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsTnField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsTnField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsTnGpcSegment '"+e+"'")}}}t.UsTnGpcSegment=E},6164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTxCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(8053),l=n(8053),u=n(9088),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USTX_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsTxField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsTx.VERSION)),i.put(l.UsTxField.PROCESSING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsTxField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsTxField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsTxField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsTxCoreSegment '"+e+"'")}}}t.UsTxCoreSegment=_},1011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsTxGpcSegment=void 0;const i=n(7683),r=n(3905),o=n(5662),s=n(7568),d=n(7642),a=n(7943),c=n(8053),l=n(8053),u=n(7577);class E extends u.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USTX_GPC_SEGMENT_FIELD_NAMES}initializeFields(){let e=new a.EncodableBitStringFields;return e.put(l.UsTxField.GPC_SEGMENT_TYPE.toString(),new s.EncodableFixedInteger(2,1)),e.put(l.UsTxField.GPC_SEGMENT_INCLUDED.toString(),new o.EncodableBoolean(!0)),e.put(l.UsTxField.GPC.toString(),new o.EncodableBoolean(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsTxGpcSegment '"+e+"'")}}}t.UsTxGpcSegment=E},8767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsUtCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(1806),l=n(1806),u=n(8913),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USUT_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsUtField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsUt.VERSION)),i.put(l.UsUtField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsUtField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsUtField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsUtField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsUtCoreSegment '"+e+"'")}}}t.UsUtCoreSegment=_},203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsVaCoreSegment=void 0;const i=n(7683),r=n(3905),o=n(7568),s=n(1672),d=n(7642),a=n(7943),c=n(5722),l=n(5722),u=n(5977),E=n(7577);class _ extends E.AbstractLazilyEncodableSegment{constructor(e){super(),this.base64UrlEncoder=i.CompressedBase64UrlEncoder.getInstance(),this.bitStringEncoder=r.BitStringEncoder.getInstance(),e&&this.decode(e)}getFieldNames(){return c.USVA_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new a.EncodableBitStringFields;return i.put(l.UsVaField.VERSION.toString(),new o.EncodableFixedInteger(6,u.UsVa.VERSION)),i.put(l.UsVaField.SHARING_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.SALE_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.SALE_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.TARGETED_ADVERTISING_OPT_OUT.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.SENSITIVE_DATA_PROCESSING.toString(),new s.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(l.UsVaField.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.MSPA_COVERED_TRANSACTION.toString(),new o.EncodableFixedInteger(2,1).withValidator(t)),i.put(l.UsVaField.MSPA_OPT_OUT_OPTION_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i.put(l.UsVaField.MSPA_SERVICE_PROVIDER_MODE.toString(),new o.EncodableFixedInteger(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){null!=e&&0!==e.length||this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch(t){throw new d.DecodingError("Unable to decode UsVaCoreSegment '"+e+"'")}}}t.UsVaCoreSegment=_},1905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UspV1CoreSegment=void 0;const i=n(8678),r=n(4939),o=n(7642),s=n(6781),d=n(4078),a=n(4078),c=n(3047),l=n(7577);class u extends l.AbstractLazilyEncodableSegment{constructor(e){super(),e&&this.decode(e)}getFieldNames(){return d.USPV1_CORE_SEGMENT_FIELD_NAMES}initializeFields(){const e=new class{test(e){return"-"===e||"Y"===e||"N"===e}};let t=new s.GenericFields;return t.put(a.UspV1Field.VERSION,new r.UnencodableInteger(c.UspV1.VERSION)),t.put(a.UspV1Field.NOTICE,new i.UnencodableCharacter("-",e)),t.put(a.UspV1Field.OPT_OUT_SALE,new i.UnencodableCharacter("-",e)),t.put(a.UspV1Field.LSPA_COVERED,new i.UnencodableCharacter("-",e)),t}encodeSegment(e){let t="";return t+=e.get(a.UspV1Field.VERSION).getValue(),t+=e.get(a.UspV1Field.NOTICE).getValue(),t+=e.get(a.UspV1Field.OPT_OUT_SALE).getValue(),t+=e.get(a.UspV1Field.LSPA_COVERED).getValue(),t}decodeSegment(e,t){if(null==e||4!=e.length)throw new o.DecodingError("Unable to decode UspV1CoreSegment '"+e+"'");try{t.get(a.UspV1Field.VERSION).setValue(parseInt(e.substring(0,1))),t.get(a.UspV1Field.NOTICE).setValue(e.charAt(1)),t.get(a.UspV1Field.OPT_OUT_SALE).setValue(e.charAt(2)),t.get(a.UspV1Field.LSPA_COVERED).setValue(e.charAt(3))}catch(t){throw new o.DecodingError("Unable to decode UspV1CoreSegment '"+e+"'")}}}t.UspV1CoreSegment=u},8288:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7577),t),r(n(3626),t),r(n(224),t),r(n(6698),t),r(n(2028),t),r(n(2418),t),r(n(5815),t),r(n(7399),t),r(n(3509),t),r(n(2418),t),r(n(3852),t),r(n(8683),t),r(n(4314),t),r(n(8393),t),r(n(5173),t),r(n(6452),t),r(n(2661),t),r(n(3364),t),r(n(66),t),r(n(7762),t),r(n(7761),t),r(n(719),t),r(n(9775),t),r(n(8718),t),r(n(4846),t),r(n(2365),t),r(n(2068),t),r(n(7299),t),r(n(3175),t),r(n(1302),t),r(n(5502),t),r(n(1905),t),r(n(8135),t),r(n(166),t),r(n(1882),t),r(n(4713),t),r(n(6164),t),r(n(1011),t),r(n(8767),t),r(n(203),t)},1570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtil=void 0;const i=n(9112);t.StringUtil=class{static substring(e,t,n){if(n>e.length||t<0||t>n)throw new i.SubstringError("Invalid substring indexes "+t+":"+n+" for string of length "+e.length);return e.substring(t,n)}}},5679:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1570),t)},5056:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0,t.JsonHttpClient=class{static absCall(e,t,n,i){return new Promise(((r,o)=>{const s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",(()=>{if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){let e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}r(e)}else o(new Error(`HTTP Status: ${s.status} response type: ${s.responseType}`))})),s.addEventListener("error",(()=>{o(new Error("error"))})),s.addEventListener("abort",(()=>{o(new Error("aborted"))})),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=i,s.ontimeout=()=>{o(new Error("Timeout "+i+"ms "+e))},s.send(t)}))}static post(e,t,n=!1,i=0){return this.absCall(e,JSON.stringify(t),n,i)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}},1809:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5056),t)},3497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GVLError=void 0;class n extends Error{constructor(e){super(e),this.name="GVLError"}}t.GVLError=n},2740:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3497),t)},5847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentLanguages=void 0;class n{has(e){return n.langSet.has(e)}forEach(e){n.langSet.forEach(e)}get size(){return n.langSet.size}}t.ConsentLanguages=n,n.langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH"])},9656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2550:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3326:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5847),t),r(n(7737),t),r(n(833),t),r(n(7840),t),r(n(6408),t),r(n(299),t),r(n(9825),t),r(n(6128),t),r(n(3298),t),r(n(2550),t),r(n(4074),t),r(n(9656),t)},3977:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1809),t),r(n(2740),t),r(n(3326),t)},9877:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6106),t),r(n(1862),t),r(n(3977),t),r(n(6961),t),r(n(3130),t)},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Future=void 0;const i=n(1635),r=n(7007),o=i.__importDefault(n(9207));class s{constructor(e={}){this._options=e,this._value=void 0,this._error=void 0,this._emitter=new r.EventEmitter,e.maxListeners&&this.setMaxListeners(e.maxListeners),e.executor&&this.fulfill(e.executor),this._options.timeout?this._timeout=window.setTimeout((()=>{void 0===this._value&&void 0===this._error&&(this.error=new Error("timed out"))}),this._options.timeout):this._timeout=void 0}static resolve(e){return(new s).fulfill(e)}fulfill(e){return function(e){return"function"==typeof e}(e)?new Promise(e).then((e=>this.value=e)).catch((e=>this.error=e)):this.value=e,this}isFulfilled(){return void 0!==this._value}get fulfilled(){return void 0!==this._value?Promise.resolve(this._value):new Promise(((e,t)=>{this.once(s.FULFILLED,e),this.once(s.ERROR,t)}))}get value(){if(void 0!==this._error)throw this._error;if(void 0===this._value)throw new Error("future has not been resolved");return this._value}set value(e){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=void 0),this._error=void 0,void 0!==this._value&&(0,o.default)(this._value,e)||(this._value=e,this._emitter.emit(s.FULFILLED,e),this._options.name&&this._options.emitter&&this._options.emitter.emit(this._options.name,e))}reset(){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=void 0);const e=this._value;this._value=void 0,this._error=void 0,this._emitter.emit(s.RESET,e),this._options.name&&this._options.emitter&&this._options.emitter.emit(this._options.name,void 0)}get error(){return this._error}set error(e){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=void 0),this._error=e,this._value=void 0,void 0!==e&&this._emitter.emit(s.ERROR,e)}addListener(e,t){return this._emitter.addListener(e,t),this.trigger(e,t),this}on(e,t){return this.addListener(e,t)}once(e,t){return this.trigger(e,t)||this._emitter.once(e,t),this}removeListener(e,t){return this._emitter.removeListener(e,t),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return this._emitter.removeAllListeners(e),this}setMaxListeners(e){return this._emitter.setMaxListeners(e),this}then(e,t){return this.fulfilled.then(e,t)}catch(e){return this.fulfilled.catch(e)}trigger(e,t){return e===s.FULFILLED&&this.isFulfilled()?(t(this._value),!0):e===s.ERROR&&void 0!==this._error&&(t(this._error),!0)}}s.FULFILLED="fulfilled",s.RESET="reset",s.ERROR="error",t.Future=s,t.default=s},4925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(835),o=n(2991);t.default=class{constructor(e=window,t=o.DEFAULT_TTL){this._window=e,this._ttl=t}getItem(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,r.getCookie)(this._window,e);if(t)try{return JSON.parse(atob(t))}catch(e){return}}))}setItem(e,t){return i.__awaiter(this,void 0,void 0,(function*(){return!!(0,r.setCookie)(this._window,e,btoa(JSON.stringify(t)),this._ttl)&&this.getItem(e).then((e=>!!e))}))}removeItem(e){return i.__awaiter(this,void 0,void 0,(function*(){return(0,r.setCookie)(this._window,e,"",-86400),this.getItem(e).then((e=>!e))}))}}},9791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetaCacher=t.WebStorageCacher=t.CookieCacher=t.getDefaultCacher=void 0;const i=n(1635),r=i.__importDefault(n(4925));t.CookieCacher=r.default;const o=i.__importDefault(n(2644));t.WebStorageCacher=o.default;const s=i.__importDefault(n(3842));t.MetaCacher=s.default;const d=n(2991);t.getDefaultCacher=function(e={}){var t,n;const i=null!==(t=e.window)&&void 0!==t?t:window,a=null!==(n=e.ttl)&&void 0!==n?n:d.DEFAULT_TTL;return new s.default(new r.default(i,a),new o.default(i.localStorage,a),new o.default(i.sessionStorage,a))}},3842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);t.default=class{constructor(...e){this._cachers=e}getItem(e){return i.__awaiter(this,void 0,void 0,(function*(){for(const t of this._cachers){const n=yield t.getItem(e);if(n)return n}}))}setItem(e,t){return i.__awaiter(this,void 0,void 0,(function*(){for(const n of this._cachers)if(yield n.setItem(e,t))return!0;return!1}))}removeItem(e){return i.__awaiter(this,void 0,void 0,(function*(){for(const t of this._cachers)if(yield t.removeItem(e))return!0;return!1}))}}},2991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TTL=void 0,t.DEFAULT_TTL=604800},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(2991);t.default=class{constructor(e=window.localStorage,t=r.DEFAULT_TTL){this._storage=e,this._ttl=t}getItem(e){return i.__awaiter(this,void 0,void 0,(function*(){try{const n=function(e,t){const n=e.getItem(`${t}_metadata`);if(n)return JSON.parse(atob(n))}(this._storage,e);if(!(n&&(t=n,t.iat<=Math.floor(Date.now()/1e3))))return;if(function(e){return e.exp<Math.floor(Date.now()/1e3)}(n))return void(yield this.removeItem(e));const i=this._storage.getItem(e);return i?JSON.parse(atob(i)):void 0}catch(e){return}var t}))}setItem(e,t){return i.__awaiter(this,void 0,void 0,(function*(){try{!function(e,t,n){e.setItem(`${t}_metadata`,btoa(JSON.stringify(n)))}(this._storage,e,function(e){const t=Math.floor(Date.now()/1e3);return{iat:t,exp:t+e}}(this._ttl));const n=btoa(JSON.stringify(t));return this._storage.setItem(e,n),n===this._storage.getItem(e)}catch(e){return!1}}))}removeItem(e){return i.__awaiter(this,void 0,void 0,(function*(){try{return function(e,t){e.removeItem(t)}(this._storage,e),this._storage.removeItem(e),!this._storage.getItem(e)}catch(e){return!1}}))}}},835:(e,t)=>{"use strict";function n(e,t){return e.document.cookie.split("; ").reduce(((e,n)=>{const i=n.split("=");return i[0]===t?decodeURIComponent(i[1]):e}),"")}Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.getCookie=void 0,t.getCookie=n,t.setCookie=function(e,t,i,r){const o=e.document.location.hostname.split("."),s=[`${t}=${encodeURIComponent(i)}`,"path=/","SameSite=None","Secure"];if(r){const e=new Date(Date.now()+1e3*r).toUTCString();s.push(`expires=${e}`)}const d=s.join("; ");for(let r=2;r<=o.length;r++)if(e.document.cookie=`${d}; domain=${o.slice(-1*r).join(".")}`,n(e,t)===i)return!0;return e.document.cookie=d,!!n(e,t)}},7520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.host=t.Host=void 0;const i=n(1635),r=n(7007),o=n(6410),s=n(8251);class d{constructor(e){this._origin=new URL(e).origin,this._events=new r.EventEmitter,this._rpc=new Map,addEventListener(o.MessageEvent,(0,s.makeListener)(this._events,this._origin)),this.on(o.RpcCall,((e,t,...n)=>i.__awaiter(this,void 0,void 0,(function*(){const i=this._rpc.get(e);this.emit(`rpcResult:${t}`,i?yield i(...n):new Error(`unimplemented: ${e}`))}))))}rpc(e,t){this._rpc.set(e,t)}on(e,t){this._events.on(e,t)}emit(e,...t){return(window.parent||window.opener).postMessage({eventName:e,args:t},this._origin),!0}}let a;t.Host=d,t.host=()=>{if(!a){const e=document.querySelector('meta[name="trusted-origin"]'),t=null==e?void 0:e.content;if(!t)throw new Error('could not find <meta name="trusted-origin" content="?" /> element');a=new d(t)}return a}},5237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=t.Proxy=t.host=t.Host=void 0;const i=n(7520);Object.defineProperty(t,"host",{enumerable:!0,get:function(){return i.host}}),Object.defineProperty(t,"Host",{enumerable:!0,get:function(){return i.Host}});const r=n(5798);Object.defineProperty(t,"proxy",{enumerable:!0,get:function(){return r.proxy}}),Object.defineProperty(t,"Proxy",{enumerable:!0,get:function(){return r.Proxy}})},5798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=t.Proxy=void 0;const i=n(1635),r=n(7007),o=n(6410),s=n(8251);class d{constructor(){this._events=new r.EventEmitter}open(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=new URL(e);return this._origin=t.origin,addEventListener(o.MessageEvent,(0,s.makeListener)(this._events,this._origin),{}),new Promise((t=>{const n=document.createElement(o.IframeElement);n.style.border=o.None,n.style.width=o.ZeroPixels,n.style.height=o.ZeroPixels,n.setAttribute(o.SandboxAttribute,o.SandboxRequirements),n.addEventListener(o.LoadEvent,(()=>{this._hostWindow=n.contentWindow,t()}),{}),n.setAttribute(o.SrcAttribute,e),document.body.appendChild(n)}))}))}on(e,t){this._events.on(e,t)}emit(e,...t){if(!this._origin||!this._hostWindow)throw new Error("host has not been opened");return this._hostWindow.postMessage({eventName:e,args:t},this._origin),!0}invoke(e,...t){return i.__awaiter(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const r=Math.random().toString(16).slice(2);this._events.once(`rpcResult:${r}`,(e=>{e instanceof Error?i(e):n(e)})),this.emit(o.RpcCall,...[e,r].concat(...t))}))}))}}t.Proxy=d,t.proxy=new d},6410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IframeElement=t.ZeroPixels=t.None=t.SandboxRequirements=t.SandboxAttribute=t.SrcAttribute=t.RpcCall=t.LoadEvent=t.MessageEvent=void 0,t.MessageEvent="message",t.LoadEvent="load",t.RpcCall="rpcCall",t.SrcAttribute="src",t.SandboxAttribute="sandbox",t.SandboxRequirements="allow-scripts allow-same-origin",t.None="none",t.ZeroPixels="0px",t.IframeElement="iframe"},8251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeListener=void 0,t.makeListener=function(e,t){return n=>{if(n.origin!==t)return void console.warn(`dropping untrusted message from ${n.origin}`);const i=n.data;i.eventName&&i.args?e.emit(i.eventName,...i.args):console.warn(`dropping bad message from ${n.origin}`)}}},5250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(5305),o=n(4999),s=i.__importDefault(n(6092)),d=i.__importDefault(n(192)),a=i.__importDefault(n(5834)),c=i.__importDefault(n(300)),l=i.__importDefault(n(7931)),u=i.__importDefault(n(3449)),E=n(5926),_=n(4835),g=n(7296),p=n(7893);t.default=class{constructor(e){this._config=e,this._api=new o.KetchWebAPI((0,c.default)(this._config))}build(){var e,t,n,o;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,r.wrapLogger)(l.default,"build");if(i.info(this._config),!this._config||!this._config.organization)throw a.default.invalidConfigurationError;const d=u.default.get(s.default.EXPERIENCE_VERSION);if(d){let e="";if(this._config.scripts)for(let t=0;t<this._config.scripts.length;t+=1)this._config.scripts[t].includes("lanyard")&&(e=this._config.scripts[t]);let t=!1;if(e.includes("/v1/")&&"new"===d?(e=e.replace("/v1/","/v2/"),t=!0):e.includes("/v2/")&&"old"===d&&(e=e.replace("/v2/","/v1/"),t=!0),t){const t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.async=!0,n.src=e,t.appendChild(n)}}const _=this.formatLanguage(new URLSearchParams(window.location.search).get(s.default.LANGUAGE)||u.default.get(s.default.LANGUAGE)||(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("ketch_lang"))||(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("ketch_lang"))||document.documentElement.lang||document.documentElement.getAttribute("xml:lang")||window.navigator.language||this._config.language||"en");if((null===(e=this._config.property)||void 0===e?void 0:e.code)&&(null===(t=this._config.environment)||void 0===t?void 0:t.code)&&(null===(n=this._config.jurisdiction)||void 0===n?void 0:n.code)&&this._config.language===_){i.debug("full configuration");const e=new E.Ketch(this._api,this._config);return yield e.setEnvironment(this._config.environment),yield e.setJurisdiction(this._config.jurisdiction.code),e}const h=yield this.buildEnvironment();let S,f=u.default.get(s.default.REGION);f||(S=yield this.buildGeoIP(),f=yield this.buildRegionInfo(S));const T=yield this.buildJurisdiction(f),O={organizationCode:(0,g.santizePaths)(this._config.organization.code),propertyCode:(0,g.santizePaths)((null===(o=this._config.property)||void 0===o?void 0:o.code)||""),environmentCode:(0,g.santizePaths)(h.code),hash:(0,g.santizePaths)(h.hash||""),languageCode:(0,g.santizePaths)(_),jurisdictionCode:(0,g.santizePaths)(T)};i.info("loadConfig",O);const N=yield this._api.getFullConfiguration(O);d&&N.services&&(N.services[s.default.API_SERVER]=(0,c.default)(this._config));const I=new E.Ketch(this._api,N);return yield I.setEnvironment(h),S&&(yield I.setGeoIP(S)),yield I.setRegionInfo(f),yield I.setJurisdiction(T),yield this.setupTelemetry(I,N,{region:f}),yield I.setProfile(p.ProfileSection.METADATA,{currentDate:Math.floor(Date.now()/1e3)}),I}))}setupTelemetry(e,t,n){var r,o,d,a,c,u,E,g;return i.__awaiter(this,void 0,void 0,(function*(){if(!t.services||!t.services.telemetry||""===t.services.telemetry)return!1;const i=parseFloat((null===(r=t.options)||void 0===r?void 0:r.beaconPercentage)||"1");let p=Math.random()<i;if(!p)return!1;const h={organizationCode:null!==(o=t.organization.code)&&void 0!==o?o:"",propertyCode:null!==(a=null===(d=t.property)||void 0===d?void 0:d.code)&&void 0!==a?a:"",environmentCode:null!==(u=null===(c=t.environment)||void 0===c?void 0:c.code)&&void 0!==u?u:"",jurisdictionCode:null!==(g=null===(E=t.jurisdiction)||void 0===E?void 0:E.code)&&void 0!==g?g:"",purposes:{},identities:{}},S=yield(0,_.getCachedConsent)(h,this._config),f=!!(S.collectedAt&&S.collectedAt>0);return e.once(s.default.IDENTITIES_EVENT,(e=>{var i;const r=this.collectTelemetry(f,t,n,e,"once_identities");try{navigator.sendBeacon(`${null===(i=t.services)||void 0===i?void 0:i.telemetry}?${r.toString()}`)}catch(e){l.default.debug("telemetry error",e)}})),document.addEventListener("visibilitychange",(()=>{var i;if("hidden"===document.visibilityState&&p){p=!1;const r=e.getCurrentIdentities(),o=this.collectTelemetry(f,t,n,r,"visibility_hidden");try{navigator.sendBeacon(`${null===(i=t.services)||void 0===i?void 0:i.telemetry}?${o.toString()}`)}catch(e){l.default.debug("telemetry error",e)}}})),!0}))}collectTelemetry(e,t,n,i,r){var o,s,d,a;const c=new URLSearchParams,l=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;c.append("hasConsent",`${e}`),c.append("url",l),c.append("property",(null===(o=t.property)||void 0===o?void 0:o.code)||""),c.append("environment",(null===(s=t.environment)||void 0===s?void 0:s.code)||""),c.append("jurisdiction",(null===(d=t.jurisdiction)||void 0===d?void 0:d.code)||""),c.append("tenant",t.organization.code),c.append("dver",`${null===(a=t.deployment)||void 0===a?void 0:a.version}`),c.append("event_type",r),c.append("ids",window.btoa(JSON.stringify(i)));for(const[e,t]of Object.entries(n))c.append(e,t);return c}buildEnvironment(){return i.__awaiter(this,void 0,void 0,(function*(){const e=(0,r.wrapLogger)(l.default,"buildEnvironment");if(this._config.environment)return e.trace(this._config.environment),this._config.environment;if(!this._config.environments||0===this._config.environments.length)throw e.trace("no environments"),a.default.noEnvironmentError;const t=u.default.get(s.default.ENV);if(t){for(let n=0;n<this._config.environments.length;n+=1){const i=this._config.environments[n];if(i&&t&&i.code===t)return e.debug("found",i),i}throw e.trace("unknown environment"),a.default.noEnvironmentError}let n={};for(let e=0;e<this._config.environments.length;e+=1){const t=this._config.environments[e],i=atob(t.pattern||"");i&&new RegExp(i).test(window.document.location.href)&&(!n.pattern||i.length>atob(n.pattern).length)&&(n=t)}if(n.pattern)return e.debug("matched",n),n;for(let t=0;t<this._config.environments.length;t+=1){const n=this._config.environments[t];if(n.code===s.default.PRODUCTION)return e.debug(n.code,n),n}throw a.default.noEnvironmentError}))}formatLanguage(e){var t;const n=e.split("-")[0],i=null===(t=e.split("-")[1])||void 0===t?void 0:t.toUpperCase();return`${n}${i?`-${i}`:""}`}buildJurisdiction(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,r.wrapLogger)(l.default,"buildJurisdiction");t.debug(this._config.jurisdiction);const n=u.default.get(s.default.JURISDICTION);if(n)return t.trace("override",n),n;const i=this._config.jurisdiction;if(!i)throw t.trace("no jurisdiction config"),a.default.noJurisdictionError;if(i.code)return t.trace(i.code),i.code;const o=document.documentElement.getAttribute("jurisdiction");if(o)return t.trace("document jurisdiction",o),o;const c=i.variable;if(c)for(const e of(0,d.default)()){const n=e[c];if(n)return t.trace("dataLayer jurisdiction",n),n}if(i.jurisdictions){const n=i.jurisdictions[e];if(n)return t.trace("region jurisdiction",n),n}if(i.defaultJurisdictionCode)return t.trace("default jurisdiction",i.defaultJurisdictionCode),i.defaultJurisdictionCode;throw a.default.noJurisdictionError}))}buildRegionInfo(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){const n=(0,r.wrapLogger)(l.default,"buildRegionInfo");if(("US"===e.countryCode||"CA"===e.countryCode)&&e.regionCode){const t=`${e.countryCode}-${e.regionCode}`;return n.trace(t),t}const i=null!==(t=e.countryCode)&&void 0!==t?t:"US";return n.trace(i),i}))}buildGeoIP(){return i.__awaiter(this,void 0,void 0,(function*(){l.default.debug("buildGeoIP");const e=yield this._api.getLocation();if(!e||!e.location)throw a.default.unrecognizedLocationError;return e.location}))}}},436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addToKetchLog=void 0,t.addToKetchLog=(e,t)=>{window.KetchLog||(window.KetchLog={}),window.KetchLog[e]||(window.KetchLog[e]=t)}},2433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=i.__importDefault(n(7931)),o=n(5305),s=n(436),d=i.__importDefault(n(6092));t.default=class{constructor(e,t){this._blockedCookies=new Set,this.getGrantedPurposes=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=(0,o.wrapLogger)(r.default,"CookieBlocker: getGrantedPurposes"),t=yield this._ketch.getConsent(),n=(null==t?void 0:t.purposes)||{};return e.debug("got consent purposes",n),new Set(Object.keys(n).filter((e=>!0===n[e])))})),this.execute=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=(0,o.wrapLogger)(r.default,"CookieBlocker: execute"),t=document.cookie.split(";");if(!t.length)return e.debug("no browser cookies"),Array.from(this._blockedCookies);const n=window.location.hostname,i=yield this.getGrantedPurposes();return e.debug("granted purposes",i),Object.entries(this._config.blockedCookies||{}).forEach((([r,{purposeCodes:o,regex:s}])=>{if(o.some((e=>i.has(e))))return void e.debug(`not blocking ${r} as consent is granted for one of its purposes`);const d=new RegExp(s||"");t.forEach((t=>{const[i,o]=t.trim().split("=");!this._blockedCookies.has(i)&&(s&&d.test(i)||!s&&i===r)&&(document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${n};`,this._blockedCookies.add(i),e.debug(`Deleted cookie: ${i} for domain: .${n}`))}))})),(0,s.addToKetchLog)("getBlockedCookies",(()=>{console.group(`Blocked Cookies (${this._blockedCookies.size}) `),this._blockedCookies.size||console.log("No blocked cookies"),this._blockedCookies.forEach((e=>console.log(e))),console.groupEnd()})),Array.from(this._blockedCookies)})),this._ketch=e,this._config=t,this._ketch.on(d.default.CONSENT_EVENT,(()=>this.execute())),window.addEventListener("DOMContentLoaded",(()=>this.execute()))}}},8297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=i.__importDefault(n(3004)),o=n(5305),s=i.__importDefault(n(7931));class d extends r.default{constructor(e){super(e)}experienceClosed(e,t,n){return this._ketch.experienceClosed(e,t,n).then((()=>{}))}invokeRight(e){return this._ketch.invokeRight(e)}setProvisionalConsent(e){return this._ketch.setProvisionalConsent(e)}getSubscriptions(){return this._ketch.getSubscriptions()}setSubscriptions(e,t){return this._ketch.setSubscriptions(e,t)}getSubscriptionConfiguration(){return this._ketch.getSubscriptionConfiguration()}getIsExperienceDisplayed(){return this._ketch.getIsExperienceDisplayed()}willChangeExperience(e){return this._ketch.willChangeExperience(e).then((()=>{}))}hasChangedExperience(e){return this._ketch.hasChangedExperience(e).then((()=>{}))}hasShownExperience(){return this._ketch.hasShownExperience().then((()=>{}))}getConsent(e){return i.__awaiter(this,void 0,void 0,(function*(){if((0,o.wrapLogger)(s.default,"InternalRouter - getConsent").debug("started",{protocolsOnly:e}),e){const e=yield this.getIdentities();return yield this._ketch.fetchProtocols(e)}return this._ketch.getConsent()}))}registerUserAttributeProvider(e,t){return this._ketch.registerUserAttributeProvider(e,t)}}t.default=d},5926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ketch=void 0;const i=n(1635);n(2581);const r=n(7007),o=i.__importDefault(n(8138)),s=n(8509),d=i.__importDefault(n(9220)),a=i.__importDefault(n(9207)),c=n(5305),l=n(5237),u=i.__importDefault(n(7262)),E=i.__importDefault(n(3044)),_=i.__importDefault(n(7931)),g=i.__importDefault(n(5834)),p=i.__importDefault(n(3449)),h=n(4835),S=i.__importStar(n(6092)),f=i.__importDefault(n(8297)),T=n(6122),O=n(7893),N=n(2186),I=n(79),C=n(838);class b extends r.EventEmitter{constructor(e,t){var n,i,r,a,c,l,u,E,_,g,p,h;super();const f=parseInt(null!==(i=null===(n=t.options)||void 0===n?void 0:n.maxListeners)&&void 0!==i?i:"20");this._api=e,this._config=t,this._consent=new o.default({name:S.default.CONSENT_EVENT,emitter:this,maxListeners:f}),this._protocols=new o.default({name:S.default.PROTOCOLS_EVENT,emitter:this,maxListeners:f}),this._environment=new o.default({name:S.default.ENVIRONMENT_EVENT,emitter:this,maxListeners:f}),this._geoip=new o.default({name:S.default.GEOIP_EVENT,emitter:this,maxListeners:f}),this._handleKeyboardEvent=new o.default({name:S.default.HANDLE_KEYBOARD_EVENT,emitter:this,maxListeners:f}),this._identities=new o.default({name:S.default.IDENTITIES_EVENT,emitter:this,maxListeners:f}),this._identitiesCurrent={},this._userAttributes=new o.default({name:S.default.USER_ATTRIBUTES_EVENT,emitter:this,maxListeners:f}),this._jurisdiction=new o.default({name:S.default.JURISDICTION_EVENT,emitter:this,maxListeners:f}),this._regionInfo=new o.default({name:S.default.REGION_INFO_EVENT,emitter:this,maxListeners:f}),this._returnKeyboardControl=new o.default({name:S.default.RETURN_KEYBOARD_CONTROL,emitter:this,maxListeners:f}),this._subscriptionConfig=new o.default({name:S.default.SUBSCRIPTIONS_EVENT,emitter:this,maxListeners:f}),this._subscriptions=new o.default({name:S.default.SUBSCRIPTION_CONFIG_EVENT,emitter:this,maxListeners:f}),this._hideExperienceReason=new o.default({name:S.default.HIDE_EXPERIENCE_REASON_EVENT,emitter:this,maxListeners:f}),this._isExperienceDisplayed=!1,this._hasExperienceBeenDisplayed=!1,this._isExperienceDisabled=(null===(r=this._config.deployment)||void 0===r?void 0:r.isOrchestrationOnly)||(null===(a=this._config)||void 0===a?void 0:a.isConfigPaused)||!1,this._hasProxyLoaded=!1,this._provisionalConsent=void 0,this._identityWatcher=new d.default(window,{interval:parseInt(null!==(l=null===(c=t.options)||void 0===c?void 0:c.watcherInterval)&&void 0!==l?l:"2000"),timeout:parseInt(null!==(E=null===(u=t.options)||void 0===u?void 0:u.watcherTimeout)&&void 0!==E?E:"10000")}),this._identityWatcher.on(S.default.IDENTITY_EVENT,this.setIdentities.bind(this)),this._userAttributeWatcher=new d.default(window,{interval:parseInt(null!==(g=null===(_=t.options)||void 0===_?void 0:_.watcherInterval)&&void 0!==g?g:"2000"),timeout:parseInt(null!==(h=null===(p=t.options)||void 0===p?void 0:p.watcherTimeout)&&void 0!==h?h:"10000")}),this._userAttributeWatcher.on(S.default.USER_ATTRIBUTE_EVENT,this.setUserAttributes.bind(this)),this.setMaxListeners(f),this._profileManager=new O.ProfileManager(this),this._needsConsent=new o.default({name:S.default.NEEDS_CONSENT_EVENT,emitter:this,maxListeners:f}),this._consentSourceOverride="",this._ruleEngine=new T.RuleEngine(this,[{trigger:s.RuleTrigger.ON_LOAD,source:"showConsent"}])}set needsConsent(e){this._needsConsent.value=e}get hideExperienceReason(){return this._hideExperienceReason}get consentSourceOverride(){return this._consentSourceOverride}registerPlugin(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const n=new f.default(this),i=t||(yield this.getConfig());return e instanceof Function?e(n,i):(void 0!==e.willShowExperience&&this.on(S.default.WILL_SHOW_EXPERIENCE_EVENT,(t=>{void 0!==e.willShowExperience&&e.willShowExperience(n,this._config,t)})),void 0!==e.showConsentExperience&&this.on(S.default.SHOW_CONSENT_EXPERIENCE_EVENT,((t,i)=>{void 0!==e.showConsentExperience&&e.showConsentExperience(n,this._config,t,i)})),void 0!==e.showPreferenceExperience&&this.on(S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,((t,i)=>{void 0!==e.showPreferenceExperience&&e.showPreferenceExperience(n,this._config,t,i)})),void 0!==e.consentChanged&&this.on(S.default.CONSENT_EVENT,(t=>{void 0!==e.consentChanged&&e.consentChanged(n,this._config,t)})),void 0!==e.environmentLoaded&&this.on(S.default.ENVIRONMENT_EVENT,(t=>{void 0!==e.environmentLoaded&&e.environmentLoaded(n,this._config,t)})),void 0!==e.experienceHidden&&this.on(S.default.HIDE_EXPERIENCE_EVENT,(t=>{void 0!==e.experienceHidden&&e.experienceHidden(n,this._config,t)})),void 0!==e.geoIPLoaded&&this.on(S.default.GEOIP_EVENT,(t=>{void 0!==e.geoIPLoaded&&e.geoIPLoaded(n,this._config,t)})),void 0!==e.identitiesLoaded&&this.on(S.default.IDENTITIES_EVENT,(t=>{void 0!==e.identitiesLoaded&&e.identitiesLoaded(n,this._config,t)})),void 0!==e.jurisdictionLoaded&&this.on(S.default.JURISDICTION_EVENT,(t=>{void 0!==e.jurisdictionLoaded&&e.jurisdictionLoaded(n,this._config,t)})),void 0!==e.regionInfoLoaded&&this.on(S.default.REGION_INFO_EVENT,(t=>{void 0!==e.regionInfoLoaded&&e.regionInfoLoaded(n,this._config,t)})),void 0!==e.rightInvoked&&this.on(S.default.RIGHT_INVOKED_EVENT,(t=>{void 0!==e.rightInvoked&&e.rightInvoked(n,this._config,t)})),void 0!==e.init?e.init(n,i):Promise.resolve())}))}registerIdentityProvider(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this._identityWatcher.add(e,t)}))}registerUserAttributeProvider(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this._userAttributeWatcher.add(e,t)}))}registerStorageProvider(e,t){return i.__awaiter(this,void 0,void 0,(function*(){}))}registerExperienceServer(e){return i.__awaiter(this,void 0,void 0,(function*(){}))}getConfig(){return i.__awaiter(this,void 0,void 0,(function*(){return this._config}))}getFullConfig(){return i.__awaiter(this,void 0,void 0,(function*(){return this._config}))}selectExperienceFromQueryParam(){const e=(0,c.wrapLogger)(_.default,"selectExperience");if(this._hasExperienceBeenDisplayed)return void e.debug(S.default.NONE);const t=p.default.get(S.default.SHOW);return t===S.default.PREFERENCES?(e.debug(s.ExperienceType.Preference),s.ExperienceType.Preference):t!==S.default.NONE?p.default.has(S.default.SHOW)?(e.debug(s.ExperienceType.Consent),s.ExperienceType.Consent):void 0:void e.debug(S.default.NONE)}willShowExperience(e){var t,n;_.default.debug("willShowExperience",e),this.emit(S.default.WILL_SHOW_EXPERIENCE_EVENT,e);const i=null===(n=null===(t=this._config.experiences)||void 0===t?void 0:t.autoInitiated)||void 0===n?void 0:n.layout;i&&(e!==s.ExperienceType.Consent||i.banner||i.modal)&&(e!==s.ExperienceType.Preference||i.preference)&&(this._isExperienceDisplayed=!0)}experienceClosed(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){if(_.default.debug("experienceClosed",e),this._isExperienceDisplayed=!1,this._hasExperienceBeenDisplayed=!0,e!==s.ExperienceClosedReason.CLOSE_WITHOUT_SETTING_CONSENT)if(t&&e===s.ExperienceClosedReason.SET_CONSENT)yield this.setConsent(t,n||s.ConsentSource.Unknown,!0);else if(e!==s.ExperienceClosedReason.SET_CONSENT){n===s.ConsentSource.Unknown&&(n=s.ConsentSource.LegalBasisDefault);const e=yield this.retrieveConsent();if(this._config.purposes)for(const t of this._config.purposes)void 0===e.purposes[t.code]&&t.requiresOptIn&&(e.purposes[t.code]=!1);yield this.setConsent(e,n||s.ConsentSource.Unknown,!1)}return setTimeout((()=>{this.fireExperienceClosedEvents(e)}),0),this.retrieveConsent()}))}willChangeExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("willChangeExperience",e),this.emit(S.default.WILL_CHANGE_EXPERIENCE_EVENT,e)}))}hasChangedExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("hasChangedExperience",e),this.emit(S.default.HAS_CHANGED_EXPERIENCE_EVENT,e)}))}hasShownExperience(){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("hasShownExperience"),this.emit(S.default.HAS_SHOWN_EXPERIENCE_EVENT)}))}showConsentExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.setProfile(O.ProfileSection.CONSENT_NEEDS_CONSENT,!0),this.enqueueRuleEvaluation(s.RuleTrigger.ON_LOAD,e,"showConsent"),{}}))}_showConsentExperience(e,t,n){var r;return i.__awaiter(this,void 0,void 0,(function*(){if(this._isExperienceDisabled)return{};const i=(0,c.wrapLogger)(_.default,"showConsentExperience");if(i.debug(e),this.getIsExperienceDisplayed())return i.debug("exiting showConsentExperience because an experience is already displayed"),{};const o=null===(r=this._config.experiences)||void 0===r?void 0:r.autoInitiated;if(o&&!Object.keys(o).length)return{};const d=yield this.retrieveConsent();return yield this.renderExperience(t,s.ExperienceType.Consent,e,n),this.emit(S.default.SHOW_CONSENT_EXPERIENCE_EVENT,d,n),d}))}updatePreferenceParams(e){var t,n;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"getPreferenceParams");let r;e=null!=e?e:{};let o=!0;try{r=yield this.getConsent()}catch(e){if(e!==g.default.noPurposesError)throw e;i.debug("No purposes detected, experience will not display consents tab"),r=S.EMPTY_CONSENT,o=!1}const d=p.default.get(S.default.PREFERENCES_TAB);d&&(0,s.isTab)(d)&&(e.tab=d,i.info("tab",d));const a=null===(n=null===(t=p.default.get(S.default.PREFERENCES_TABS))||void 0===t?void 0:t.split(","))||void 0===n?void 0:n.filter((e=>e&&(0,s.isTab)(e)));(null==a?void 0:a.length)&&(e.showOverviewTab=a.includes(s.Tab.Overview),e.showConsentsTab=o&&a.includes(s.Tab.Consents),e.showSubscriptionsTab=a.includes(s.Tab.Subscriptions),e.showRightsTab=a.includes(s.Tab.Rights),e.tab=a.includes(e.tab||"")?e.tab:a[0]);try{const t=yield this.getSubscriptionConfiguration();if(void 0!==t){if(void 0===e.showSubscriptionsTab&&(e.showSubscriptionsTab=!0),void 0!==t.topics&&0!==t.topics.length&&0!==Object.keys(t.identities).length||(e.showSubscriptionsTab=!1,i.trace("not showing subscriptions because invalid subscription config")),e.showSubscriptionsTab){let n=!1;const r=yield this.getIdentities();for(const e of Object.keys(t.identities))if(r[e]){n=!0;break}n||(i.trace("not showing subscriptions because no auth identities"),e.showSubscriptionsTab=!1)}}else i.trace("invalid subscription config"),e.showSubscriptionsTab=!1}catch(t){i.trace("invalid subscription config"),e.showSubscriptionsTab=!1}return e.showSubscriptionsTab||e.tab!==s.Tab.Subscriptions||(e.tab=void 0),[r,e]}))}showPreferenceExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.trigger(void 0,e,"showPreference"),{}}))}_showPreferenceExperience(e,t){var n,r,o,s,d,a;return i.__awaiter(this,void 0,void 0,(function*(){if(this._isExperienceDisabled)return{};const i=(0,c.wrapLogger)(_.default,"showPreferenceExperience");i.debug(e);const[l,u]=yield this.updatePreferenceParams(e),E=e=>!e||0===Object.keys(e).length,g=this._config.experiences,p=null==g?void 0:g.userInitiated;return E(null===(r=null===(n=this._config)||void 0===n?void 0:n.experiences)||void 0===r?void 0:r.preference)&&E(null===(o=null==g?void 0:g.content)||void 0===o?void 0:o.preference)&&E(null===(s=null==g?void 0:g.layout)||void 0===s?void 0:s.preference)&&E(null===(d=null==p?void 0:p.content)||void 0===d?void 0:d.preference)&&E(null===(a=null==p?void 0:p.layout)||void 0===a?void 0:a.preference)?(i.debug("no preference experience configured, no experience will be shown"),l):(this.listenerCount(S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT)>0?this.showPreferenceExperienceTrigger(u,l,t):this.on("addedListener",(e=>{e===S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT&&this.showPreferenceExperienceTrigger(u,l,t)})),l)}))}showPreferenceExperienceTrigger(e,t,n){this.triggerExperience(s.ExperienceType.Preference,S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,t||{},e,n)}showProgressiveExperience(e){return _.default.debug("showProgressiveExperience",e),this.emit(S.default.SHOW_PROGRESSIVE_EXPERIENCE_EVENT,e),Promise.resolve()}showConsentGate(e){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("showConsentGate",e),this.emit(S.default.SHOW_CONSENT_GATE_EXPERIENCE_EVENT,e),Promise.resolve()}))}showExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.useAutoInitiated))return yield this.trigger(void 0,e,"showExperience");yield this.showConsentExperience()}))}_showExperience(e,t){var n,r,o,d;return i.__awaiter(this,void 0,void 0,(function*(){if(this._isExperienceDisabled)return;const i=(0,c.wrapLogger)(_.default,"showExperience");i.debug(e);const a=null===(n=(yield this.getFullConfig()).experiences)||void 0===n?void 0:n.userInitiated;if((null==e?void 0:e.useAutoInitiated)||"preference"!==(null===(r=null==a?void 0:a.content)||void 0===r?void 0:r.display)){const n=yield this.getConsent();this.showExperienceTrigger(n,s.ExperienceType.Consent,e,t)}else{const[n,r]=yield this.updatePreferenceParams(null==e?void 0:e.preferenceOptions),c=e=>!e||0===Object.keys(e).length;if(c(null===(o=null==a?void 0:a.content)||void 0===o?void 0:o.preference)&&c(null===(d=null==a?void 0:a.layout)||void 0===d?void 0:d.preference))return void i.debug("no preference experience configured, no experience will be shown");this.showExperienceTrigger(n,s.ExperienceType.Preference,Object.assign(Object.assign({},e),{preferenceOptions:r}),t)}return Promise.resolve()}))}showExperienceTrigger(e,t,n,i){this.triggerExperience(t,S.default.SHOW_EXPERIENCE_EVENT,e,n,i)}renderExperience(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function*(){if(this._isExperienceDisabled)return;(0,c.wrapLogger)(_.default,"renderExperience").debug({experienceType:e,params:n,displayOptions:r});const i=yield this.retrieveConsent();return this.renderExperienceTrigger(i,e,t,n,r),Promise.resolve()}))}renderExperienceTrigger(e,t,n,i,r){const o={experienceType:t,params:i,options:r};this.triggerExperience(n,S.default.RENDER_EXPERIENCE_EVENT,e,o)}triggerExperience(e,t,n,i,r){(0,c.wrapLogger)(_.default,`trigger${e}Experience`).debug(i),this.listenerCount(t)>0?(this.willShowExperience(e),this.emit(t,n,i,r)):this.on("addedListener",(o=>{o===t&&(this.willShowExperience(e),this.emit(t,n,i,r))}))}startRuleEngine(){this._ruleEngine.start()}enqueueRuleEvaluation(e,t,n){this._ruleEngine.enqueueTrigger(e,t,n)}trigger(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){const i=`${s.RuleTrigger.ON_FUNCTION}${e?`|${e}`:""}`;e?yield this.setProfile(O.ProfileSection.TRIGGERS,{functionArguments:e}):yield this.setProfile(O.ProfileSection.TRIGGERS,{functionArguments:void 0}),this.enqueueRuleEvaluation(i,t,n)}))}onShowConsentExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("onShowConsentExperience"),this.removeAllListeners(S.default.SHOW_CONSENT_EXPERIENCE_EVENT),this.on(S.default.SHOW_CONSENT_EXPERIENCE_EVENT,e)}))}onShowPreferenceExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("onShowPreferenceExperience"),this.removeAllListeners(S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT),this.on(S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT,e)}))}hasConsent(){return this._consent.isFulfilled()}setConsent(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"setConsent");if(i.debug(e),!e||(0,E.default)(e))return i.trace("reset"),this._consent.reset(),{};let r=!1;if(this.hasConsent()){i.trace("has consent");const t=this._consent.value;r=(0,a.default)(t.purposes,e.purposes);for(const n in t.purposes)Object.prototype.hasOwnProperty.call(t.purposes,n)&&!Object.prototype.hasOwnProperty.call(e.purposes,n)&&(e.purposes[n]=t.purposes[n]);e.protocols=t.protocols}this._consent.value=e;const o=yield this.getIdentities(),d=[s.ConsentSource.RecollectAfterDate,s.ConsentSource.RecollectAfterInterval];this._consentSourceOverride&&d.includes(this._consentSourceOverride)&&(i.debug("setting consent source override",{consentSourceOverride:this._consentSourceOverride}),t=this._consentSourceOverride);try{const i=yield this.updateConsent(o,e,t);this.setConsentSourceOverride(""),i&&void 0!==i.protocols&&(this._protocols.value=i.protocols),n&&(this._identityWatcher.stop(),"fds"===this._config.organization.code?this._identityWatcher.start(s.TraitName.IDENTITY,!1):yield this._identityWatcher.start(s.TraitName.IDENTITY,!1),this._userAttributeWatcher.stop(),yield this._userAttributeWatcher.start(s.TraitName.USER_ATTRIBUTE,!0),r||this.emit(S.default.USER_CONSENT_UPDATED_EVENT,e))}catch(e){let t="";e instanceof Error&&(t=e.message),i.warn("unable to update consent",t)}return e}))}setProvisionalConsent(e){return i.__awaiter(this,void 0,void 0,(function*(){_.default.debug("setProvisionalConsent",e),this._provisionalConsent=e}))}overrideWithProvisionalConsent(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,c.wrapLogger)(_.default,"overrideWithProvisionalConsent");t.debug(e);let n=!1;if(!this._provisionalConsent)return t.trace("no provisional consent"),[e,n];for(const t in this._provisionalConsent.purposes)e.purposes[t]!==this._provisionalConsent.purposes[t]&&(e.purposes[t]=this._provisionalConsent.purposes[t],n=!0);return this._provisionalConsent=void 0,t.trace("merged",e),[e,n]}))}applyProvisionalConsent(e){var t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){let i=structuredClone(e);const o=[...(null===(t=this._config.plugins)||void 0===t?void 0:t.onetrust)?[N.onetrustPlugin]:[],...(null===(n=this._config.plugins)||void 0===n?void 0:n.sourcepoint)?[I.sourcepointPlugin]:[],...(null===(r=this._config.plugins)||void 0===r?void 0:r.gpc)?[C.gpcPlugin]:[]];let s=!1,d=null;for(const e of o){const[t,n]=yield e.fn(this,i);n&&(i=t,s=!0,d=e.source)}return[i,s,d]}))}resetConsent(){return i.__awaiter(this,void 0,void 0,(function*(){return this._identityWatcher.stop(),yield this._identityWatcher.start(s.TraitName.IDENTITY,!1),this._userAttributeWatcher.stop(),yield this._userAttributeWatcher.start(s.TraitName.USER_ATTRIBUTE,!0),this._consent.reset(),this._config.options=Object.assign(Object.assign({},this._config.options),{"Cache-Control":"no-cache"}),this.getConsent()}))}getConsent(e=!1){return i.__awaiter(this,void 0,void 0,(function*(){return this._getConsent(e)}))}_getConsent(e=!1){return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,c.wrapLogger)(_.default,"getConsent");if(t.debug("getConsent promise created"),p.default.has(S.default.NO_CACHE)&&(e=!0,p.default.delete(S.default.NO_CACHE)),this.hasConsent()&&!e)return t.trace("has consent"),this._consent.fulfilled;t.debug("obtaining consent");const n=yield this.getIdentities(),i=yield this.fetchConsent(n,e);t.debug("storedConsent",i);let r=s.ConsentSource.LegalBasisDefault,o=!1;const[d,a,l]=yield this.applyProvisionalConsent(i);o=a;const u=a?d:i;l&&(r=l),t.debug("consent",Object.assign(Object.assign({},u),{purposes:Object.assign({},u.purposes)})),t.debug("shouldCreatePermits",o);const E=this.selectExperienceFromQueryParam();if(this._config.purposes)for(const e of this._config.purposes)void 0!==u.purposes[e.code]||e.requiresOptIn||(u.purposes[e.code]=!0,o=!0);switch(t.debug("shouldCreatePermits",o),o?yield this.setConsent(u,r,!1):(this._consent.value=u,void 0!==i.protocols&&(this._protocols.value=i.protocols)),E){case s.ExperienceType.Consent:return this.showConsentExperience();case s.ExperienceType.Preference:return this.showPreferenceExperience()}return this._consent.value}))}fireExperienceClosedEvents(e){e===s.ExperienceClosedReason.WILL_NOT_SHOW&&this.getIsExperienceDisplayed()||(this.emit(S.default.HIDE_EXPERIENCE_EVENT,e),this._hideExperienceReason.value=e)}retrieveConsent(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("retrieveConsent"),this._consent.isFulfilled()?this._consent.fulfilled:{purposes:{},vendors:[],googleVendors:[],vendorConsents:{tcf:{},google:{}}}}))}fetchConsent(e,t=!1){return i.__awaiter(this,void 0,void 0,(function*(){return this._fetchConsent(e,t)}))}_fetchConsent(e,t=!1){var n,r,o,s;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"fetchConsent");if(i.debug("fetchConsent promise created"),i.debug("identities",e),!e||0===Object.keys(e).length)throw g.default.noIdentitiesError;if(!(this._config&&this._config.property&&this._config.organization&&this._config.environment&&this._config.purposes&&this._config.jurisdiction&&0!==this._config.purposes.length))throw g.default.noPurposesError;let d=!1;window.navigator.globalPrivacyControl&&!0===window.navigator.globalPrivacyControl&&(d=!0);const a={organizationCode:null!==(n=this._config.organization.code)&&void 0!==n?n:"",propertyCode:null!==(r=this._config.property.code)&&void 0!==r?r:"",environmentCode:this._config.environment.code,jurisdictionCode:null!==(o=this._config.jurisdiction.code)&&void 0!==o?o:"",identities:e,purposes:{},isGpcEnabled:d};for(const e of this._config.purposes)a.purposes[e.code]={legalBasisCode:e.legalBasisCode};i.debug("request",a);let l=yield(0,h.getCachedConsent)(a,this._config);l.collectedAt&&(yield this.setProfile(O.ProfileSection.CONSENT_COLLECTED_AT,l.collectedAt));const u=Math.floor(Date.now()/1e3-h.CACHED_CONSENT_TTL);let E=!1,p=!1;if(t?i.debug("fetching consent due to noCache flag"):"local"===(null===(s=this._config.options)||void 0===s?void 0:s.consentStore)?E=!0:0===Object.keys(l.purposes).length?i.debug("cached consent is empty",l):(null==l?void 0:l.collectedAt)&&l.collectedAt<u?i.debug("revalidating cached consent",l):Object.keys(e).every((t=>e[t]===l.identities[t]))?(i.debug("using cached consent",l),E=!0):(p=!0,i.debug("cached consent discarded due to identity mismatch",e,l.identities)),!E){if(this._config.purposes&&l.purposes&&!p)for(const e of this._config.purposes){const t=l.purposes[e.code];t&&(a.purposes[e.code]||(a.purposes[e.code]={}),a.purposes[e.code].allowed="string"==typeof t?t:t.allowed)}i.debug("calling getConsent",JSON.stringify(a)),l=(e=>{var t;if(i.trace("normalizeConsent",e),!e.purposes)return e.purposes={},e;for(const n of Object.keys(e.purposes)){const i=e.purposes[n];"string"==typeof i&&(e.purposes[n]={allowed:i,legalBasisCode:null===(t=a.purposes[n])||void 0===t?void 0:t.legalBasisCode})}return i.trace("normalized",e),e})(yield this._api.getConsent(a)),i.debug("getConsent returned",JSON.stringify(l)),yield(0,h.setCachedConsent)(l,this._config),l.collectedAt&&(yield this.setProfile(O.ProfileSection.CONSENT_COLLECTED_AT,l.collectedAt))}yield(0,h.setPublicConsent)(l,this._config);const S={purposes:{}};if(this._config.purposes&&l.purposes)for(const e of this._config.purposes)if(l.purposes[e.code]){const t=l.purposes[e.code];"string"==typeof t?S.purposes[e.code]="true"===t:t.allowed&&(S.purposes[e.code]="true"===t.allowed)}l.vendors&&(S.vendors=l.vendors),l.googleVendors&&(S.googleVendors=l.googleVendors),l.protocols&&(S.protocols=l.protocols),l.vendorConsents&&(S.vendorConsents=l.vendorConsents);const f=this._calculateNeedsConsent(S.purposes,l.showAfter);return this._needsConsent.isFulfilled()||(yield this.setProfile(O.ProfileSection.CONSENT_NEEDS_CONSENT,f),this._needsConsent.value=f),i.debug("returning",JSON.stringify(S)),yield this.setProfile(O.ProfileSection.CONSENT_PURPOSES,S.purposes),S}))}_calculateNeedsConsent(e,t){const n=(0,c.wrapLogger)(_.default,"_calculateNeedsConsent");if(this._config.purposes)for(const t of this._config.purposes)if(void 0===e[t.code])return n.debug("consent needed due to missing purpose consent",t.code),!0;const i=Date.now()/1e3;return t&&i>=t?(n.debug("consent needed due to recollection period expired"),this.setConsentSourceOverride(s.ConsentSource.RecollectAfterInterval),!0):(n.debug("consent not needed"),!1)}fetchProtocols(e){var t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"fetchProtocols");if(i.debug("identities",e),!e||0===Object.keys(e).length)throw g.default.noIdentitiesError;if(!(this._config&&this._config.property&&this._config.organization&&this._config.environment&&this._config.purposes&&this._config.jurisdiction&&0!==this._config.purposes.length))throw g.default.noPurposesError;let o=!1;window.navigator.globalPrivacyControl&&!0===window.navigator.globalPrivacyControl&&(o=!0);const s={organizationCode:null!==(t=this._config.organization.code)&&void 0!==t?t:"",propertyCode:null!==(n=this._config.property.code)&&void 0!==n?n:"",environmentCode:this._config.environment.code,jurisdictionCode:null!==(r=this._config.jurisdiction.code)&&void 0!==r?r:"",identities:e,purposes:{},isGpcEnabled:o};for(const e of this._config.purposes)s.purposes[e.code]={legalBasisCode:e.legalBasisCode};const d=yield this._api.getProtocols(s);return i.debug("api.getProtocols returned",JSON.stringify(d)),!this._protocols.isFulfilled()&&d.protocols&&(i.debug("setting protocols",JSON.stringify(d.protocols)),this._protocols.value=d.protocols),{protocols:null==d?void 0:d.protocols,purposes:{}}}))}updateConsent(e,t,n){var r,o,s;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"updateConsent");i.debug(e,t);const d=yield this.getFullConfig();if(!e||0===Object.keys(e).length)throw i.debug("no identities"),g.default.noIdentitiesError;if(!(this._config&&this._config.organization&&this._config.property&&this._config.environment&&this._config.jurisdiction&&this._config.purposes&&0!==this._config.purposes.length))throw i.debug("invalid configuration"),g.default.invalidConfigurationError;if((0,E.default)(t)||(0,E.default)(t.purposes))throw i.debug("empty consent"),g.default.emptyConsentError;const a=!(!window.navigator.globalPrivacyControl||!0!==window.navigator.globalPrivacyControl),l={organizationCode:null!==(r=this._config.organization.code)&&void 0!==r?r:"",propertyCode:null!==(o=this._config.property.code)&&void 0!==o?o:"",environmentCode:this._config.environment.code,identities:e,jurisdictionCode:null!==(s=this._config.jurisdiction.code)&&void 0!==s?s:"",purposes:{},vendorConsents:t.vendorConsents,collectedAt:Math.floor(Date.now()/1e3),isGpcEnabled:a,context:{source:n}};if((null==d?void 0:d.id)&&l.context&&(l.context.configurationId=d.id),this._config.purposes&&t)for(const e of this._config.purposes)void 0!==t.purposes[e.code]&&(l.purposes[e.code]={allowed:t.purposes[e.code].toString(),legalBasisCode:e.legalBasisCode});if((0,E.default)(l.purposes))return i.debug("calculated consents empty"),l;yield(0,h.setCachedConsent)(l,this._config),yield(0,h.setPublicConsent)(l,this._config);const u=yield this._api.setConsent(l);yield(0,h.setCachedConsent)(u,this._config);const p=Object.keys(u.purposes).reduce(((e,t)=>(e[t]=u.purposes[t].allowed,e)),{});return yield this.setProfile(O.ProfileSection.CONSENT_PURPOSES,p),u}))}getSubscriptions(){return i.__awaiter(this,void 0,void 0,(function*(){return this._getSubscriptions()}))}_getSubscriptions(){var e,t,n,r,o,s,d,a,l,u,E;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"getSubscriptions");if(i.debug("getSubscriptions promise created"),void 0===this._config.organization||void 0===this._config.property||void 0===this._config.environment)return i.trace("exiting because invalid config",this._config),this._subscriptions.value={},{};if(this._subscriptions.isFulfilled())return i.trace("cached",this._subscriptions.value),this._subscriptions;const g=yield this.getSubscriptionConfiguration();if(0===g.topics.length||void 0===g.identities||0===Object.keys(g.identities).length)return i.trace("exiting because invalid subscription config",g,g.topics.length,g.identities,Object.keys(g.identities)),this._subscriptions.value={},{};const p={organizationCode:null!==(n=null===(t=null===(e=this._config)||void 0===e?void 0:e.organization)||void 0===t?void 0:t.code)&&void 0!==n?n:"",controllerCode:"",propertyCode:null!==(s=null===(o=null===(r=this._config)||void 0===r?void 0:r.property)||void 0===o?void 0:o.code)&&void 0!==s?s:"",environmentCode:null===(a=null===(d=this._config)||void 0===d?void 0:d.environment)||void 0===a?void 0:a.code,collectedAt:Math.floor(Date.now()/1e3),jurisdictionCode:null!==(E=null===(u=null===(l=this._config)||void 0===l?void 0:l.jurisdiction)||void 0===u?void 0:u.code)&&void 0!==E?E:""};this._regionInfo.isFulfilled()&&(p.regionCode=yield this._regionInfo.fulfilled),p.identities={};const h=yield this.getIdentities();for(const e of Object.keys(g.identities))h[e]&&(p.identities[e]=h[e]);if(0===Object.keys(p.identities).length)return i.trace("exiting because no identities"),this._subscriptions.value={},{};const S=yield this._api.getSubscriptions(p);return this._subscriptions.value=S,i.trace("loaded",S),yield this.setProfile(O.ProfileSection.SUBSCRIPTION,S),S}))}setSubscriptions(e,t){var n,r,o,s,d,a,l,u,E,g,p;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"setSubscriptions");if(i.trace("subscriptions",e,this._config),void 0===this._config.organization||void 0===this._config.property||void 0===this._config.environment)return void i.trace("exiting because of invalid config");const h=yield this.getSubscriptionConfiguration(),S=yield this.getFullConfig();if(0===h.topics.length||void 0===h.identities||0===Object.keys(h.identities).length)return void i.trace("exiting because of invalid subscription config",h,0===h.topics.length,h.identities,Object.keys(h.identities));const f={organizationCode:null!==(o=null===(r=null===(n=this._config)||void 0===n?void 0:n.organization)||void 0===r?void 0:r.code)&&void 0!==o?o:"",controllerCode:"",propertyCode:null!==(a=null===(d=null===(s=this._config)||void 0===s?void 0:s.property)||void 0===d?void 0:d.code)&&void 0!==a?a:"",environmentCode:null===(u=null===(l=this._config)||void 0===l?void 0:l.environment)||void 0===u?void 0:u.code,topics:e.topics,controls:e.controls,collectedAt:Math.floor(Date.now()/1e3),context:{source:t},jurisdictionCode:null!==(p=null===(g=null===(E=this._config)||void 0===E?void 0:E.jurisdiction)||void 0===g?void 0:g.code)&&void 0!==p?p:""};(null==S?void 0:S.id)&&f.context&&(f.context.configurationId=S.id),this._regionInfo.isFulfilled()&&(f.regionCode=yield this._regionInfo.fulfilled),f.identities={};const T=yield this.getIdentities();for(const e of Object.keys(h.identities))T[e]&&(f.identities[e]=T[e]);return 0===Object.keys(f.identities).length?(i.trace("exiting because no identities"),void(this._subscriptions.value={})):(this._subscriptions.value=Object.assign(Object.assign({},this._subscriptions.isFulfilled()?this._subscriptions.value:{}),e),yield this.setProfile(O.ProfileSection.SUBSCRIPTION,e),this._api.setSubscriptions(f))}))}getSubscriptionConfiguration(){var e,t,n,r,o,s,d,a,l,u,E,g,p,h,S,f,T,O,N,I,C,b,v,A,P,w;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"getSubscriptionConfiguration");if(i.trace("config",this._config),this._subscriptionConfig.isFulfilled())return i.trace("cached",this._subscriptionConfig.value),this._subscriptionConfig;if(!(null===(n=null===(t=null===(e=this._config)||void 0===e?void 0:e.experiences)||void 0===t?void 0:t.preference)||void 0===n?void 0:n.code)||(null===(s=null===(o=null===(r=this._config)||void 0===r?void 0:r.services)||void 0===o?void 0:o.shoreline)||void 0===s?void 0:s.includes("v3"))){const e=this._config;return e.subscription?e.subscription:(this._subscriptionConfig.value={contactMethods:{},controls:[],identities:{},language:null!==(a=null===(d=this._config)||void 0===d?void 0:d.language)&&void 0!==a?a:"",organization:{code:null!==(E=null===(u=null===(l=this._config)||void 0===l?void 0:l.organization)||void 0===u?void 0:u.code)&&void 0!==E?E:""},property:{code:null!==(h=null===(p=null===(g=this._config)||void 0===g?void 0:g.property)||void 0===p?void 0:p.code)&&void 0!==h?h:""},topics:[]},this._subscriptionConfig.value)}const m=yield this._api.getSubscriptionsConfiguration({organizationCode:null!==(T=null===(f=null===(S=this._config)||void 0===S?void 0:S.organization)||void 0===f?void 0:f.code)&&void 0!==T?T:"",propertyCode:null!==(I=null===(N=null===(O=this._config)||void 0===O?void 0:O.property)||void 0===N?void 0:N.code)&&void 0!==I?I:"",languageCode:null!==(b=null===(C=this._config)||void 0===C?void 0:C.language)&&void 0!==b?b:"",experienceCode:null!==(w=null===(P=null===(A=null===(v=this._config)||void 0===v?void 0:v.experiences)||void 0===A?void 0:A.preference)||void 0===P?void 0:P.code)&&void 0!==w?w:""});return i.trace("loaded",m),this._subscriptionConfig.value=m,m}))}setEnvironment(e){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("setEnvironment",e),this._environment.value=e,this._environment.fulfilled}))}getEnvironment(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getEnvironment"),this._environment.fulfilled}))}setGeoIP(e){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("setGeoIP",e),this._geoip.value=e,this._geoip.fulfilled}))}getGeoIP(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getGeoIP"),this._geoip.fulfilled}))}extractGAID(e){const t=/^GA\d\.\d\.(\d+\.\d+)$/.exec(e);return t?"GA1.1."+t[1]:e}setIdentities(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,c.wrapLogger)(_.default,"setIdentities");t.debug(e);let n={};this._identities.isFulfilled()&&(n=this._identities.value);for(const i in e)"google_analytics_cookie"!==i||"utc"!==this._config.organization.code&&"vara_labs"!==this._config.organization.code||(t.debug("altering google_analytics_cookie to get id with GA1.1. prefix"),e[i]=this.extractGAID(e[i])),n[i]=e[i];if(n.email&&(n.email=n.email.toLowerCase()),this._identities.value=n,this._identitiesCurrent=n,yield this.setProfile(O.ProfileSection.IDENTITIES,n),this._isExperienceDisplayed)return t.trace("experience displayed"),n;const i=yield this.retrieveConsent();if(0==Object.keys(i.purposes).length)return n;const r=yield this.fetchConsent(n);if((0,a.default)(r.purposes,i.purposes)){let e=!1;for(const t in r)if(r.purposes[t]!==i.purposes[t]){e=!0;break}if(!e)return n}if(this._hasExperienceBeenDisplayed){t.trace("updating consent because experience displayed");try{yield this.updateConsent(n,i,s.ConsentSource.LateArrivingID)}catch(e){let n="";e instanceof Error&&(n=e.message),t.warn("unable to update consent",n)}return n}return yield this.showConsentExperience(),n}))}collectIdentities(){var e,t,n;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"collectIdentities");i.debug(this._config.identities);const r=this._config.identities;if(!this._config||!this._config.organization||void 0===r||(0,E.default)(r))return i.trace("invalid configuration"),void(this._identities.value={});const o=this._identityWatcher;let d=(e,t)=>{o.add(e,t)};if(null===(e=this._config.property)||void 0===e?void 0:e.proxy)try{const e=new URL(null===(t=this._config.property)||void 0===t?void 0:t.proxy),n=new URL(window.location.href);if(e.origin!==n.origin&&(d=(e,t)=>{r[e].type!==s.IdentityType.IDENTITY_TYPE_LOCAL_STORAGE&&o.add(e,t)},!this._hasProxyLoaded)){this._hasProxyLoaded=!0,yield l.proxy.open(e.toString());for(const e of Object.keys(r)){const t=r[e];t.type===s.IdentityType.IDENTITY_TYPE_LOCAL_STORAGE&&(yield this.registerIdentityProvider(e,(()=>l.proxy.invoke("getIdentity",t))))}}}catch(e){i.error(`error checking proxy '${null===(n=this._config.property)||void 0===n?void 0:n.proxy}'`,e)}for(const e of Object.keys(r))d(e,r[e]);i.info("starting watcher"),yield this._identityWatcher.start(s.TraitName.IDENTITY,!1)}))}getIdentities(){return i.__awaiter(this,void 0,void 0,(function*(){return this._getIdentities()}))}_getIdentities(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getIdentities promise created"),this._identities.isFulfilled()||(yield this.collectIdentities()),this._identities.fulfilled}))}getCurrentIdentities(){return _.default.debug("getCurrentIdentities"),this._identitiesCurrent}setUserAttributes(e){return i.__awaiter(this,void 0,void 0,(function*(){(0,c.wrapLogger)(_.default,"setUserAttributes").debug(e);let t={};this._userAttributes.isFulfilled()&&(t=this._userAttributes.value);for(const n in e)t[n]=e[n];return this._userAttributes.value=t,yield this.setProfile(O.ProfileSection.USER,t),t}))}collectUserAttributes(){return i.__awaiter(this,void 0,void 0,(function*(){const e=(0,c.wrapLogger)(_.default,"collectUserAttributes");e.debug(this._config.userAttributes);const t=this._config.userAttributes;if(!this._config||!this._config.organization||void 0===t||(0,E.default)(t))return e.trace("invalid configuration"),void(this._userAttributes.value={});const n=this._userAttributeWatcher;let i=(e,t)=>{n.add(e,t)};for(const e of Object.keys(t))i(e,t[e]);e.info("starting user attributes watcher"),yield this._userAttributeWatcher.start(s.TraitName.USER_ATTRIBUTE,!0)}))}getUserAttributes(){return i.__awaiter(this,void 0,void 0,(function*(){return this._getUserAttributes()}))}_getUserAttributes(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getUserAttributes"),this._userAttributes.isFulfilled()||(yield this.collectUserAttributes()),this._userAttributes.fulfilled}))}getCurrentUserAttributes(){return _.default.debug("getCurrentUserAttributes"),this._userAttributes.isFulfilled()?this._userAttributes.value:{}}setProfile(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const n=(0,c.wrapLogger)(_.default,"setProfile");n.debug(t),this._profileManager.updateSection(e,t);const i=this._profileManager.getCurrentProfile();return n.debug("profile",i),i}))}getProfileManager(){return this._profileManager}getCurrentProfile(){return this._profileManager.getCurrentProfile()}setJurisdiction(e){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("setJurisdiction",e),this._jurisdiction.value=e,this._jurisdiction.fulfilled}))}getJurisdiction(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getJurisdiction"),this._jurisdiction.fulfilled}))}setRegionInfo(e){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("setRegionInfo",e),this._regionInfo.value=e,this._regionInfo.fulfilled}))}getRegionInfo(){return i.__awaiter(this,void 0,void 0,(function*(){return _.default.debug("getRegionInfo"),this._regionInfo.fulfilled}))}getIsExperienceDisplayed(){return _.default.debug("getIsExperienceDisplayed"),this._isExperienceDisplayed}setConsentSourceOverride(e){return _.default.debug("setConsentSourceOverride",e),this._consentSourceOverride=e,this._consentSourceOverride}acceptAllConsent(){return i.__awaiter(this,void 0,void 0,(function*(){return this.executeConsentAction("accept",s.ConsentSource.RouterAcceptAllConsent)}))}rejectAllConsent(){return i.__awaiter(this,void 0,void 0,(function*(){return this.executeConsentAction("reject",s.ConsentSource.RouterRejectAllConsent)}))}executeConsentAction(e,t){var n,r,o,d,a,l,u,E,p,f,T,O,N;return i.__awaiter(this,void 0,void 0,(function*(){(0,c.wrapLogger)(_.default,`${e}AllConsent`).debug(`set consent via ${e}AllConsent`);const i="true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(S.default.EMULATOR_OVERRIDE_CONSENT)),I=(null===(r=null===(n=this._config)||void 0===n?void 0:n.systems)||void 0===r?void 0:r.google)||[],C=(null===(d=null===(o=this._config)||void 0===o?void 0:o.systems)||void 0===d?void 0:d.tcf)||[],b={purposes:{},vendorConsents:{google:{},tcf:{}}},v={organizationCode:null!==(a=this._config.organization.code)&&void 0!==a?a:"",propertyCode:null!==(u=null===(l=this._config.property)||void 0===l?void 0:l.code)&&void 0!==u?u:"",environmentCode:null!==(p=null===(E=this._config.environment)||void 0===E?void 0:E.code)&&void 0!==p?p:"",jurisdictionCode:null!==(T=null===(f=this._config.jurisdiction)||void 0===f?void 0:f.code)&&void 0!==T?T:"",identities:{},purposes:{},collectedAt:Date.now()};this._config.purposes&&this._config.purposes.forEach((t=>{let n;n="accept"===e||"disclosure"===(null==t?void 0:t.legalBasisCode),b.purposes[t.code]=n,v.purposes[t.code]={allowed:n.toString(),legalBasisCode:null==t?void 0:t.legalBasisCode}}));const A="accept"===e?s.VendorStatus.Granted:s.VendorStatus.Denied;if((null==I?void 0:I.length)&&(null===(O=b.vendorConsents)||void 0===O?void 0:O.google)&&I.forEach((e=>{b.vendorConsents.google[e.id]=A})),(null==C?void 0:C.length)&&(null===(N=b.vendorConsents)||void 0===N?void 0:N.tcf)&&C.forEach((e=>{b.vendorConsents.tcf[e.id]=A})),i)this._identityWatcher.removeAllListeners(S.default.IDENTITY_EVENT),this._userAttributeWatcher.removeAllListeners(S.default.USER_ATTRIBUTE_EVENT),yield(0,h.setCachedConsent)(v,this._config),yield(0,h.setPublicConsent)(v,this._config),this._consent.reset(),this._consent.value=b;else{const e=yield this.getIdentities();if(!e||0===Object.keys(e||{}).length)throw g.default.noIdentitiesError;v.identities=e,yield this.setConsent(b,t,!1)}const P=S.default.ROUTER_ACCEPT_ALL_CONSENT_FLAG,w=S.default.ROUTER_REJECT_ALL_CONSENT_FLAG;return"accept"===e?(sessionStorage.removeItem(w),sessionStorage.setItem(P,"true")):(sessionStorage.removeItem(P),sessionStorage.setItem(w,"true")),{getConsentResponse:v,consent:b}}))}invokeRight(e){var t,n,r,o;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,c.wrapLogger)(_.default,"invokeRight");if(i.debug(e),!e.subject||!e.subject.email||""===e.subject.email||!e.right||""===e.right)return void i.warn("invalid right invocation request");const s={};if(this._identities.isFulfilled()&&Object.entries(this._identities.value).forEach((([e,t])=>{s[e]=t})),s.email=e.subject.email.toLowerCase(),!(this._config&&this._config.organization&&this._config.property&&this._config.environment&&this._config.jurisdiction&&this._config.rights&&0!==this._config.rights.length))return void i.warn("invalid configuration");const d=e.subject,a={organizationCode:null!==(t=this._config.organization.code)&&void 0!==t?t:"",propertyCode:null!==(n=this._config.property.code)&&void 0!==n?n:"",environmentCode:null!==(r=this._config.environment.code)&&void 0!==r?r:"",controllerCode:"",identities:s,jurisdictionCode:null!==(o=this._config.jurisdiction.code)&&void 0!==o?o:"",rightCode:e.right,user:d,recaptchaToken:e.recaptchaToken};return this._regionInfo.isFulfilled()&&(a.regionCode=yield this._regionInfo.fulfilled),this.emit(S.default.RIGHT_INVOKED_EVENT,a),this._api.invokeRight(a)}))}handleKeyboardEvent(e){(0,c.wrapLogger)(_.default,"handleKeyboardEvent").debug(e),(0,u.default)(e,(()=>{this.returnKeyboardControl()}))}returnKeyboardControl(){(0,c.wrapLogger)(_.default,"returnKeyboardControl").debug("returnKeyboardControl"),this.emit(S.default.RETURN_KEYBOARD_CONTROL)}emit(e,...t){var n,i,r,o,s,d,a;const l=(0,c.wrapLogger)(_.default,"emit");l.trace(e,t);const u=e.toString(),E=t.filter((e=>e!==this));if(window.androidListener||(null===(n=window.webkit)||void 0===n?void 0:n.messageHandlers)||(null===(i=window.ReactNativeWebView)||void 0===i?void 0:i.postMessage)){let t;1===E.length&&"string"==typeof E[0]?t=E[0]:1===E.length?t=JSON.stringify(E[0]):E.length>1&&(t=JSON.stringify(E)),window.androidListener&&u in window.androidListener?(l.trace("androidListener",window.androidListener,t),0===E.length?window.androidListener[u]():window.androidListener[u](t)):(null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)&&u in window.webkit.messageHandlers?(l.trace("webkitMessageHandlers",null===(o=window.webkit)||void 0===o?void 0:o.messageHandlers,t),window.webkit.messageHandlers[u].postMessage(t)):(null===(s=window.ReactNativeWebView)||void 0===s?void 0:s.postMessage)?window.ReactNativeWebView.postMessage(JSON.stringify({event:e,data:t})):l.warn(`Can't pass message to native code because "${u}" handler is not registered`)}if((null===(a=null===(d=this._config)||void 0===d?void 0:d.options)||void 0===a?void 0:a.externalListener)&&window[this._config.options.externalListener]){const e=window[this._config.options.externalListener];let t;1===E.length&&"string"==typeof E[0]||1===E.length?t=E[0]:E.length>1&&(t=E);let n={event:u,data:t};n=JSON.stringify(n),"function"==typeof e?e(n):"postMessage"in e&&"function"==typeof e.postMessage?e.postMessage(n):"object"==typeof e&&u in e&&("function"===e[u]?e[u](t):"postMessage"in e[u]&&e[u].postMessage(t))}return super.emit(e,...t)}addListener(e,t){return this.on(e,t)}on(e,t){_.default.trace("on",e,t);const n=this.mapEvent(e);return void 0!==n?(n.on(S.default.FULFILLED_EVENT,t),this):(this.isSingletonEvent(e)&&super.removeAllListeners(e),super.on(e,t),this.emit("addedListener",e,t),this)}once(e,t){_.default.trace("once",e,t);const n=this.mapEvent(e);return void 0!==n?(n.once(S.default.FULFILLED_EVENT,t),this):(this.isSingletonEvent(e)&&super.removeAllListeners(e),super.once(e,t),this.emit("addedListener",e,t),this)}removeListener(e,t){_.default.trace("off",e,t);const n=this.mapEvent(e);return void 0!==n?(n.removeListener(S.default.FULFILLED_EVENT,t),this):super.removeListener(e,t)}off(e,t){return this.removeListener(e,t)}isSingletonEvent(e){return e===S.default.SHOW_CONSENT_EXPERIENCE_EVENT||e===S.default.SHOW_PREFERENCE_EXPERIENCE_EVENT}mapEvent(e){switch(e){case S.default.CONSENT_EVENT:return this._consent;case S.default.ENVIRONMENT_EVENT:return this._environment;case S.default.GEOIP_EVENT:return this._geoip;case S.default.PROTOCOLS_EVENT:return this._protocols;case S.default.HANDLE_KEYBOARD_EVENT:return this._handleKeyboardEvent;case S.default.IDENTITIES_EVENT:return this._identities;case S.default.USER_ATTRIBUTES_EVENT:return this._userAttributes;case S.default.JURISDICTION_EVENT:return this._jurisdiction;case S.default.REGION_INFO_EVENT:return this._regionInfo;case S.default.RETURN_KEYBOARD_CONTROL:return this._returnKeyboardControl;case S.default.SUBSCRIPTIONS_EVENT:return this._subscriptions;case S.default.SUBSCRIPTION_CONFIG_EVENT:return this._subscriptionConfig;case S.default.HIDE_EXPERIENCE_REASON_EVENT:return this._hideExperienceReason}}}t.Ketch=b},7893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileManager=t.ProfileSection=void 0;const i=n(1635),r=n(5305),o=i.__importDefault(n(7931));var s;!function(e){e.CONSENT_PURPOSES="consent.purposes",e.CONSENT_NEEDS_CONSENT="consent.needsConsent",e.CONSENT_COLLECTED_AT="consent.collectedAt",e.IDENTITIES="identities",e.USER="user",e.SUBSCRIPTION="subscription",e.METADATA="metadata",e.PAGE="page",e.TRIGGERS="triggers"}(s=t.ProfileSection||(t.ProfileSection={})),t.ProfileManager=class{constructor(e){this._profile={consent:{}},this._ketch=e}getValueFromKey(e){return i.__awaiter(this,void 0,void 0,(function*(){(0,r.wrapLogger)(o.default,"ProfileManager.getValueFromKey").debug("getting value from key",e);const t=e.split(".");let n,i=!0;for(;i;){n=this._profile,i=!1;for(const e of t)if(n=n[e],void 0===n){const n=t.slice(0,t.indexOf(e)+1).join(".");if(!(yield this._handleMissingKey(n)))return;i=!0;break}}return"identities"===t[0]||"user"===t[0]?n.value:n}))}_handleMissingKey(e){return i.__awaiter(this,void 0,void 0,(function*(){switch((0,r.wrapLogger)(o.default,"ProfileManager._handleMissingKey").debug("handling missing key",e),e){case s.CONSENT_PURPOSES:case s.CONSENT_NEEDS_CONSENT:case s.CONSENT_COLLECTED_AT:return yield this._ketch.getConsent(),!0;case s.IDENTITIES:return yield this._ketch.getIdentities(),!0;case s.USER:return yield this._ketch.getUserAttributes(),!0;case s.SUBSCRIPTION:return yield this._ketch.getSubscriptions(),!0;default:return}}))}updateSection(e,t){const n=(0,r.wrapLogger)(o.default,"ProfileManager.updateSection");switch(n.debug("updating section",e,t),e){case s.CONSENT_PURPOSES:const e=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,{allowed:String(t)}])));this._profile.consent.purposes=e;break;case s.CONSENT_NEEDS_CONSENT:this._profile.consent.needsConsent=t;break;case s.CONSENT_COLLECTED_AT:this._profile.consent.collectedAt=t;break;case s.SUBSCRIPTION:this._profile.subscription=t;break;case s.IDENTITIES:const n=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,{value:t}])));this._profile.identities=n;break;case s.USER:const i=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,{value:t}])));this._profile.user=i;break;case s.METADATA:this._profile.metadata=t;break;case s.PAGE:this._profile.page=t;break;case s.TRIGGERS:this._profile.triggers=t}n.debug("updated profile",this._profile)}getCurrentProfile(){return(0,r.wrapLogger)(o.default,"ProfileManager.getCurrentProfile").debug("current profile",this._profile),Object.assign({},this._profile)}}},3004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(8509),o=i.__importDefault(n(7931)),s=i.__importDefault(n(5834)),d=i.__importDefault(n(8705)),a=i.__importDefault(n(6092)),c=n(5305);t.default=class{constructor(e){this._ketch=e}push(e){if(void 0===e)return;let t;"string"==typeof e?(t=e,e=[]):(e=Array.from(e),t=e.shift()),o.default.trace(t),this.route(t,...e).then((()=>{o.default.trace(`${t} completed`)})).catch((e=>{o.default.warn(`${t} failed: ${e}`)}))}route(e,...t){return i.__awaiter(this,void 0,void 0,(function*(){const n=(0,c.wrapLogger)((0,c.wrapLogger)(o.default,"route"),e);if("push"===e||"route"===e)throw s.default.actionNotFoundError(e);const i=this[e];if(void 0===i)throw s.default.actionNotFoundError(e);if(n.debug(t,t.length,i.length),t.length<=i.length)return i.apply(this,t);if(t.length==i.length+1){const n=t.pop();if(!(0,d.default)(n))throw s.default.expectedFunctionError(e);return i.apply(this,t).then(n)}const r=t.pop();if(!(0,d.default)(r))throw s.default.expectedFunctionError(e);const a=t.pop();if(!(0,d.default)(a))throw s.default.expectedFunctionError(e);return i.apply(this,t).then(a).catch(r)}))}getConfig(){return this._ketch.getConfig()}getFullConfig(){return this._ketch.getFullConfig()}getConsent(){return this._ketch.getConsent()}getConsentNoCache(){return(0,c.wrapLogger)(o.default,"Router - getConsentNoCache").debug("started"),this._ketch.getConsent(!0)}getSubscriptions(){return this._ketch.getSubscriptions()}getEnvironment(){return this._ketch.getEnvironment()}getGeoIP(){return this._ketch.getGeoIP()}getIdentities(){return this._ketch.getIdentities()}getJurisdiction(){return this._ketch.getJurisdiction()}getRegionInfo(){return this._ketch.getRegionInfo()}getIsDisplayed(){return Promise.resolve(this._ketch.getIsExperienceDisplayed())}onConsent(e){return o.default.debug(`onConsent is deprecated - use ketch("on", "${a.default.CONSENT_EVENT}", listener) instead`),this._ketch.on(a.default.CONSENT_EVENT,e),Promise.resolve()}onEnvironment(e){return o.default.debug(`onEnvironment is deprecated - use ketch("on", "${a.default.ENVIRONMENT_EVENT}", listener) instead`),this._ketch.on(a.default.ENVIRONMENT_EVENT,e),Promise.resolve()}onGeoIP(e){return o.default.debug(`onGeoIP is deprecated - use ketch("on", "${a.default.GEOIP_EVENT}", listener) instead`),this._ketch.on(a.default.GEOIP_EVENT,e),Promise.resolve()}onHideExperience(e){return o.default.debug(`onHideExperience is deprecated - use ketch("on", "${a.default.HIDE_EXPERIENCE_EVENT}", listener) instead`),this._ketch.on(a.default.HIDE_EXPERIENCE_EVENT,e),Promise.resolve()}onWillShowExperience(e){return o.default.debug('onWillShowExperience is deprecated - use ketch("on", "'+a.default.WILL_SHOW_EXPERIENCE_EVENT+'", listener) instead'),this._ketch.on(a.default.WILL_SHOW_EXPERIENCE_EVENT,e),Promise.resolve()}onIdentities(e){return o.default.debug(`onIdentities is deprecated - use ketch("on", "${a.default.IDENTITIES_EVENT}", listener) instead`),this._ketch.on(a.default.IDENTITIES_EVENT,e),Promise.resolve()}onJurisdiction(e){return o.default.debug(`onJurisdiction is deprecated - use ketch("on", "${a.default.JURISDICTION_EVENT}", listener) instead`),this._ketch.on(a.default.JURISDICTION_EVENT,e),Promise.resolve()}onRegionInfo(e){return o.default.debug(`onRegionInfo is deprecated - use ketch("on", "${a.default.REGION_INFO_EVENT}", listener) instead`),this._ketch.on(a.default.REGION_INFO_EVENT,e),Promise.resolve()}setEnvironment(e){return o.default.warn("setEnvironment is deprecated"),this._ketch.setEnvironment(e).then((()=>{}))}setGeoIP(e){return o.default.warn("setGeoIP is deprecated"),this._ketch.setGeoIP(e).then((()=>{}))}setIdentities(e){return this._ketch.setIdentities(e).then((()=>{}))}setUserAttributes(e){return this._ketch.setUserAttributes(e).then((()=>{}))}setJurisdiction(e){return o.default.warn("setJurisdiction is deprecated"),this._ketch.setJurisdiction(e).then((()=>{}))}setRegionInfo(e){return o.default.warn("setRegionInfo is deprecated"),this._ketch.setRegionInfo(e).then((()=>{}))}showConsent(e){return this._ketch.showConsentExperience(e).then((()=>{}))}showPreferences(e){return this._ketch.showPreferenceExperience(e).then((()=>{}))}showConsentGate(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.showConsentGate(e)}))}showProgressiveExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.showProgressiveExperience(e)}))}showExperience(e){return i.__awaiter(this,void 0,void 0,(function*(){return this._ketch.showExperience(e)}))}trigger(e,t){return i.__awaiter(this,void 0,void 0,(function*(){return this._ketch.trigger(e,t)}))}reinit(){return this._ketch.resetConsent().then((()=>{}))}handleKeyboardEvent(e){return this._ketch.handleKeyboardEvent(e)}returnKeyboardControl(){return this._ketch.returnKeyboardControl()}registerPlugin(e,t){return this._ketch.registerPlugin(e,t)}registerIdentityProvider(e,t){return this._ketch.registerIdentityProvider(e,t)}registerExperienceServer(e){return this._ketch.registerExperienceServer(e)}registerStorageProvider(e,t){return this._ketch.registerStorageProvider(e,t)}setConsent(e,t){return this._ketch.setConsent(e,r.ConsentSource.RouterSetConsent,t===r.SetConsentReason.USER_UPDATE).then((()=>{}))}setSubscriptions(e,t){return this._ketch.setSubscriptions(e,null!=t?t:r.SubscriptionSource.RouterSetSubscriptions)}setProfile(e,t){return i.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.setProfile(e,t)}))}acceptAllConsent(){return i.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.acceptAllConsent(),window.location.reload()}))}rejectAllConsent(){return i.__awaiter(this,void 0,void 0,(function*(){yield this._ketch.rejectAllConsent(),window.location.reload()}))}emit(e,...t){return this._ketch.emit(e,...t),Promise.resolve()}on(e,t){return this._ketch.on(e,t),Promise.resolve()}once(e,t){return this._ketch.once(e,t),Promise.resolve()}addListener(e,t){return this._ketch.addListener(e,t),Promise.resolve()}removeListener(e,t){return this._ketch.removeListener(e,t),Promise.resolve()}off(e,t){return this._ketch.off(e,t),Promise.resolve()}removeAllListeners(e){return this._ketch.removeAllListeners(e),Promise.resolve()}}},6122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuleEngine=void 0;const i=n(1635),r=n(5305),o=n(8509),s=i.__importDefault(n(7931)),d=(0,r.wrapLogger)(s.default,"RuleEngine");t.RuleEngine=class{get results(){return this._processingPromise?this._processingPromise.then((()=>this._results)):Promise.resolve(this._results)}constructor(e,t=[]){this._triggerQueue=new Set,this._isStarted=!1,this._isProcessing=!1,this._processingPromise=null,this._results=new Map,this.processQueue=()=>i.__awaiter(this,void 0,void 0,(function*(){var e;const t=(0,r.wrapLogger)(d,"processQueue");if(t.debug("started"),this._isProcessing)return this._processingPromise;this._isProcessing=!0,this._processingPromise=(()=>i.__awaiter(this,void 0,void 0,(function*(){try{for(;this._triggerQueue.size>0;){const e=this._triggerQueue.values().next();if(e.done)break;const n=e.value;this._triggerQueue.delete(n),t.debug("processing trigger",{item:n,remaining:this._triggerQueue.size});try{const e=yield this.evaluateRulesForTrigger(n.trigger,n.params,n.source);this.addResult(n.trigger,e)}catch(e){t.warn("error while evaluating rules for trigger",e)}}}finally{this._isProcessing=!1,this._processingPromise=null}})))();const n=Array.from((yield this.results).values()).reduce(((e,t)=>{var n;return e||t.length>0&&Boolean(null===(n=t[t.length-1])||void 0===n?void 0:n.didShowExperience)}),!1);return n||(null===(e=this.ketch.hideExperienceReason)||void 0===e?void 0:e.isFulfilled())&&(yield this.ketch.hideExperienceReason)===o.ExperienceClosedReason.WILL_NOT_SHOW||this.ketch.fireExperienceClosedEvents(o.ExperienceClosedReason.WILL_NOT_SHOW),this._processingPromise})),this.evaluateRulesForTrigger=(e,t,n)=>i.__awaiter(this,void 0,void 0,(function*(){var i,s;const a=(0,r.wrapLogger)(d,"evaluateRules");let c=e;if(e===o.RuleTrigger.ON_FUNCTION){const t=yield this.ketch.getProfileManager().getValueFromKey("triggers.functionArguments");t&&"string"==typeof t&&(c=`${e}|${t}`,a.debug("constructed full trigger key from functionArguments",{trigger:e,functionArguments:t,ruleKey:c}))}const l=(null===(s=null===(i=yield this.ketch.getFullConfig())||void 0===i?void 0:i.rules)||void 0===s?void 0:s[c])||[];a.debug("evaluating rules for trigger",e,{ruleKey:c,rules:l,params:t,source:n});const u={ruleMap:new Map,didShowExperience:!1};for(const i of l){a.debug("evaluating rule for trigger",e,{rule:i});const r=yield this.parseCondition(i.condition);if(u.ruleMap.set(i.code,r),r)return i.action.options&&i.action.options.consentSourceOverride===o.ConsentSource.RecollectAfterDate&&this.ketch.setConsentSourceOverride(o.ConsentSource.RecollectAfterDate),a.debug("executing rule for trigger",e,{rule:i}),u.didShowExperience=yield this.executeAction(i.action,t,n),u}return u})),this.addResult=(e,t)=>{var n;this._results.has(e)?null===(n=this._results.get(e))||void 0===n||n.push(t):this._results.set(e,[t])},this.parseCondition=e=>i.__awaiter(this,void 0,void 0,(function*(){if("inputDataKey"in e)return this.evaluateOperand(e);switch(e.operator){case o.ConditionOperator.NOT:const t=e;return!(yield this.parseCondition(t.operand));case o.ConditionOperator.AND:const n=e;for(const e of n.operands)if(!(yield this.parseCondition(e)))return!1;return!0;case o.ConditionOperator.OR:const i=e;for(const e of i.operands)if(yield this.parseCondition(e))return!0;return!1;default:throw console.error(`Unknown condition operator: ${e.operator}`),new Error(`Unknown condition operator: ${e.operator}`)}})),this.resolveInputDataKeyWithTransform=(e,t)=>i.__awaiter(this,void 0,void 0,(function*(){let n=yield this.resolveInputDataKey(e);return e.startsWith("consent.purposes.")&&"string"==typeof t&&["optedIn","optedOut","unknown"].includes(t)?!0===n||"true"===n?"optedIn":!1===n||"false"===n?"optedOut":"unknown":n})),this.evaluateOperand=e=>i.__awaiter(this,void 0,void 0,(function*(){const t=(0,r.wrapLogger)(d,"evaluateOperand");t.debug("evaluating operand",{operand:e});const{inputDataKey:n,attribute:i,operator:s,value:c}=e;if("trigger"===n.split(".")[0]||"jurisdiction"===n.split(".")[0])return t.debug("operand is trigger or jurisdiction, returning true"),!0;const l=e=>{try{return new URL(e).pathname}catch(t){return e}},u=e=>e.replace(/^\/+|\/+$/g,""),E=yield this.resolveInputDataKeyWithTransform(n,c),_=a(E,i.type),g=a(c,i.type),p="page.url";let h;switch(s){case o.OperatorType.EQUALS:h=e.inputDataKey.toLowerCase()===p?u(l(_))===u(l(g)):_===g;break;case o.OperatorType.NOT_EQUALS:h=e.inputDataKey.toLowerCase()===p?u(l(_))!==u(l(g)):_!==g;break;case o.OperatorType.GREATER_THAN:h=("number"==typeof _&&"number"==typeof g||_ instanceof Date&&g instanceof Date)&&_>g;break;case o.OperatorType.LESS_THAN:h=("number"==typeof _&&"number"==typeof g||_ instanceof Date&&g instanceof Date)&&_<g;break;case o.OperatorType.GREATER_THAN_OR_EQUAL:h=("number"==typeof _&&"number"==typeof g||_ instanceof Date&&g instanceof Date)&&_>=g;break;case o.OperatorType.LESS_THAN_OR_EQUAL:h=("number"==typeof _&&"number"==typeof g||_ instanceof Date&&g instanceof Date)&&_<=g;break;case o.OperatorType.CONTAINS:h="string"==typeof _&&"string"==typeof g&&_.includes(g);break;case o.OperatorType.NOT_CONTAINS:h="string"==typeof _&&"string"==typeof g&&!_.includes(g);break;case o.OperatorType.ENDS_WITH:if("string"==typeof _&&"string"==typeof g){const e=u(l(_)),t=u(g);h=e.endsWith(t)}else h=!1;break;case o.OperatorType.NOT_ENDS_WITH:if("string"==typeof _&&"string"==typeof g){const e=u(l(_)),t=u(g);h=!e.endsWith(t)}else h=!1;break;case o.OperatorType.REGEX_MATCH_FIND:if("string"==typeof _&&"string"==typeof g)try{h=new RegExp(g).test(_)}catch(e){console.warn(`Invalid regex pattern: ${g}`),h=!1}else h=!1;break;case o.OperatorType.EXISTS:h=null!=_,h&&"object"==typeof _&&(h=Object.keys(_).length>0);break;case o.OperatorType.NOT_EXISTS:h=null==_,h||"object"!=typeof _||(h=0===Object.keys(_).length);break;case o.OperatorType.IN:h="string"==typeof g?g.split(",").map((e=>e.trim())).includes(String(_)):!!Array.isArray(g)&&g.includes(_);break;default:console.warn(`Unknown operator: ${s}`),h=!1}return t.debug("result",{convertedCurrentValue:_,convertedValue:g,operator:s,result:h}),h})),this.resolveInputDataKey=e=>i.__awaiter(this,void 0,void 0,(function*(){const t=(0,r.wrapLogger)(d,"resolveInputDataKey");if(t.debug("resolving input data key",e),!e)return;let n=yield this.ketch.getProfileManager().getValueFromKey(e);return e.startsWith("consent.purposes.")&&("object"==typeof n&&null!==n&&"allowed"in n&&(n=n.allowed),t.debug("rawValue for consent purpose",{inputDataKey:e,rawValue:n,type:typeof n})),n})),this.executeAction=(e,t,n)=>i.__awaiter(this,void 0,void 0,(function*(){(0,r.wrapLogger)(d,"executeAction").debug("executing action",{action:e,params:t,source:n});const{experienceID:i}=e.params;let{experienceType:s}=e.params;const a=(null==t?void 0:t.displayHint)===o.ConsentExperienceType.Banner,c=(null==t?void 0:t.displayHint)===o.ConsentExperienceType.Modal;if(a?s=o.DisplayExperienceType.Banner:c&&(s=o.DisplayExperienceType.Modal),!s)return console.error("experienceType is required in action.params"),!1;if(!i)return console.error("experienceID is required in action.params"),!1;if("No Experience"===i||"noExperience"===i)return s===o.DisplayExperienceType.Modal&&"showConsent"!==n?(this.ketch.showConsentExperience({displayHint:o.ConsentExperienceType.Modal}),!0):(d.debug(`experienceID is ${i} (set to not show any experience), returning`),!1);const l=yield this.ketch.getFullConfig();if(!l)return d.error("No configuration"),!1;if(!l.experiences)return d.error("No experiences",{fullConfig:l}),!1;if(!l.experiences.ids)return d.error("No experience ids",{fullConfig:l}),!1;if(!l.experiences.ids[i])return d.error("No experience",{fullConfig:l,experienceID:i}),!1;l.experiences.ids[i].loadingMethod===o.ExperienceLoadingMethod.Dynamic&&l.experiences.ids[i].data;const u=l.experiences.ids[i];if(!u)return d.error("No experience data",{fullConfig:l,experienceID:i}),!1;if(!u.content[s]||!u.layout[s]){if(s===o.DisplayExperienceType.Modal&&"showConsent"!==n)return this.ketch.showConsentExperience({displayHint:o.ConsentExperienceType.Modal}),!0;d.warn("No data for experience type",{fullConfig:l,experienceID:i,experienceType:s})}switch(l.experiences.content[s]=u.content[s],l.experiences.content.display=s,l.experiences.content.static=u.content.static,l.experiences.layout[s]=u.layout[s],l.experiences.layout.entitlementInfo=u.layout.entitlementInfo,s===o.DisplayExperienceType.Preference?(l.experiences.autoInitiated.content=Object.assign(Object.assign({},l.experiences.autoInitiated.content),{[s]:u.content[s]}),l.experiences.autoInitiated.content.display=s,l.experiences.autoInitiated.content.static=u.content.static,l.experiences.autoInitiated.layout=Object.assign(Object.assign({},l.experiences.autoInitiated.layout),{[s]:u.layout[s]}),l.experiences.autoInitiated.layout.entitlementInfo=u.layout.entitlementInfo,l.experiences.userInitiated.content=Object.assign(Object.assign({},l.experiences.userInitiated.content),{[s]:u.content[s]}),l.experiences.userInitiated.content.display=s,l.experiences.userInitiated.content.static=u.content.static,l.experiences.userInitiated.layout=Object.assign(Object.assign({},l.experiences.userInitiated.layout),{[s]:u.layout[s]}),l.experiences.userInitiated.layout.entitlementInfo=u.layout.entitlementInfo):s!==o.DisplayExperienceType.Banner&&s!==o.DisplayExperienceType.Modal||(l.experiences.content[o.DisplayExperienceType.Banner]=u.content[o.DisplayExperienceType.Banner],l.experiences.content[o.DisplayExperienceType.Modal]=u.content[o.DisplayExperienceType.Modal],l.experiences.layout[o.DisplayExperienceType.Banner]=u.layout[o.DisplayExperienceType.Banner],l.experiences.layout[o.DisplayExperienceType.Modal]=u.layout[o.DisplayExperienceType.Modal],l.experiences.autoInitiated.content=Object.assign(Object.assign({},l.experiences.autoInitiated.content),{[o.DisplayExperienceType.Banner]:u.content[o.DisplayExperienceType.Banner],[o.DisplayExperienceType.Modal]:u.content[o.DisplayExperienceType.Modal]}),l.experiences.autoInitiated.content.display=s,l.experiences.autoInitiated.content.static=u.content.static,l.experiences.autoInitiated.layout=Object.assign(Object.assign({},l.experiences.autoInitiated.layout),{[o.DisplayExperienceType.Banner]:u.layout[o.DisplayExperienceType.Banner],[o.DisplayExperienceType.Modal]:u.layout[o.DisplayExperienceType.Modal]}),l.experiences.autoInitiated.layout.entitlementInfo=u.layout.entitlementInfo,l.experiences.userInitiated.content=Object.assign(Object.assign({},l.experiences.userInitiated.content),{[o.DisplayExperienceType.Banner]:u.content[o.DisplayExperienceType.Banner],[o.DisplayExperienceType.Modal]:u.content[o.DisplayExperienceType.Modal]}),l.experiences.userInitiated.content.display=s,l.experiences.userInitiated.content.static=u.content.static,l.experiences.userInitiated.layout=Object.assign(Object.assign({},l.experiences.userInitiated.layout),{[o.DisplayExperienceType.Banner]:u.layout[o.DisplayExperienceType.Banner],[o.DisplayExperienceType.Modal]:u.layout[o.DisplayExperienceType.Modal]}),l.experiences.userInitiated.layout.entitlementInfo=u.layout.entitlementInfo),n){case"showExperience":this.ketch._showExperience(t,e.options);break;case"showPreference":this.ketch._showPreferenceExperience(t,e.options);break;case"showConsent":this.ketch._showConsentExperience(t,s,e.options);break;default:const n=s===o.DisplayExperienceType.Preference?o.ExperienceType.Preference:o.ExperienceType.Consent;this.ketch.renderExperience(s,n,t,e.options)}return!0})),this.ketch=e,t.forEach((e=>{this.enqueueTrigger(e.trigger,e.params,e.source)}))}start(){const e=(0,r.wrapLogger)(d,"start");this._isStarted?e.debug("Rule engine already started"):(e.debug("Starting rule engine, queue:",this._triggerQueue),this._isStarted=!0,this.processQueue())}enqueueTrigger(e,t,n){const i={trigger:e,params:t,source:n};(0,r.wrapLogger)(d,"enqueueTrigger").debug("enqueueing trigger",{queueItem:i}),this._triggerQueue.add(i),this._isStarted&&this.processQueue()}};const a=(e,t)=>{if(null==e)return e;switch(t){case"number":const t=Number(e);return isNaN(t)?void 0:t;case"boolean":return"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase()||"1"===e:Boolean(e);case"date":return c(e);case"object":return e;default:return String(e)}},c=e=>{if(e instanceof Date)return e;if("number"==typeof e||"string"==typeof e&&/^\d+$/.test(e)){const t=Number(e),n=t>1e10?new Date(t):new Date(1e3*t);return isNaN(n.getTime())?void 0:n}const t=new Date(e);return isNaN(t.getTime())?void 0:t}},372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagsConfig=void 0;const i=n(1635),r=i.__importDefault(n(6092)),o=i.__importDefault(n(7931)),s=n(5305),d=n(436);t.TagsConfig=[{elementName:"script",purposesAttribute:"data-purposes",requiredAttributeValues:{type:"text/plain"},enableActions:{attributeValueSwaps:{type:"text/javascript"}}},{elementName:"iframe",purposesAttribute:"data-purposes",requiredAttributes:["data-src"],enableActions:{attributeNameSwaps:{"data-src":"src"}}},{elementName:"img",purposesAttribute:"data-purposes",requiredAttributes:["data-src"],enableActions:{attributeNameSwaps:{"data-src":"src"}}},{elementName:"link",purposesAttribute:"data-purposes",requiredAttributes:["data-href"],requiredAttributeValues:{rel:"prefetch"},enableActions:{attributeNameSwaps:{"data-href":"href"}}},{elementName:"link",purposesAttribute:"data-purposes",requiredAttributes:["data-href"],requiredAttributeValues:{rel:"preconnect"},enableActions:{attributeNameSwaps:{"data-href":"href"}}},{elementName:"link",purposesAttribute:"data-purposes",requiredAttributes:["data-href"],requiredAttributeValues:{rel:"dns-prefetch"},enableActions:{attributeNameSwaps:{"data-href":"href"}}},{elementName:"link",purposesAttribute:"data-purposes",requiredAttributes:["data-href"],requiredAttributeValues:{rel:"stylesheet"},enableActions:{attributeNameSwaps:{"data-href":"href"}}},{elementName:"script",purposesAttribute:"data-purposes-all",requiredAttributeValues:{type:"text/plain"},enableActions:{attributeValueSwaps:{type:"text/javascript"}},requireAllPurposes:!0},{elementName:"iframe",purposesAttribute:"data-purposes-all",requiredAttributes:["data-src"],enableActions:{attributeNameSwaps:{"data-src":"src"}},requireAllPurposes:!0}],t.default=class{constructor(e,t,n){this._results={},this.getMappedElements=(e,t,n,i,r=!1)=>{const d=(0,s.wrapLogger)(o.default,"tags: getMappedElements"),a=document.querySelectorAll(e),c=Array.from(a).filter((e=>{const o=!!t&&e.hasAttribute(t),s=r&&e.hasAttribute("data-ketch-id"),d=!n||(null==n?void 0:n.every((t=>e.hasAttribute(t)))),a=!i||Object.entries(i).every((([t,n])=>e.getAttribute(t)===n));return(o||s)&&d&&a}));return d.debug(`found ${c.length} '${e}' elements mapped to ketch purposes`),c},this.enableElement=(e,t={},n={})=>{let i;return(0,s.wrapLogger)(o.default,"tags: enableElement").debug("enabling element",e),Object.entries(t).forEach((([t,n])=>{const i=e.getAttribute(t);i&&(e.setAttribute(n,i),e.removeAttribute(t))})),Object.entries(n).forEach((([t,n])=>{var r;i=e.cloneNode(!0),i.setAttribute(t,n),null===(r=e.parentNode)||void 0===r||r.replaceChild(i,e)})),null!=i?i:e},this.getGrantedPurposes=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=(0,s.wrapLogger)(o.default,"tags: getGrantedPurposes"),t=yield this._ketch.getConsent(),n=(null==t?void 0:t.purposes)||{};return e.debug("got consent purposes",n),new Set(Object.keys(n).filter((e=>!0===n[e])))})),this.getRequiredPurposes=(e,t,n=!1)=>{var i,r,d;const a=(0,s.wrapLogger)(o.default,"tags: getRequiredPurposes");if(n){const t=e.getAttribute("data-ketch-id")||"";return(null===(r=null===(i=this._config.tags)||void 0===i?void 0:i[t])||void 0===r?void 0:r.purposeCodes)||[]}return t?(null===(d=e.getAttribute(t))||void 0===d?void 0:d.split(" "))||[]:(a.error("No purposes attribute for element: ",e),[])},this.execute=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=(0,s.wrapLogger)(o.default,"tags: execute"),t=yield this.getGrantedPurposes();return e.debug("granted purposes",t),this._tagsConfig.forEach((n=>i.__awaiter(this,void 0,void 0,(function*(){var i,r;const{elementName:o,purposesAttribute:s,requiredAttributes:d,requiredAttributeValues:a,enableActions:{attributeNameSwaps:c,attributeValueSwaps:l},isPlatformMapped:u,requireAllPurposes:E}=n,_=this.getMappedElements(o,s,d,a,u),g=_.filter((n=>{const i=this.getRequiredPurposes(n,s,u),r=u&&!i.length;e.debug("required purposes for element",n,i);const o=E?i.every((e=>t.has(e))):i.some((e=>t.has(e)));return!(!r&&!o||(this.enableElement(n,c,l),0))})),p=_.filter((e=>!this.getRequiredPurposes(e,s,u).some((e=>t.has(e))))),h=(null===(i=this._results[o])||void 0===i?void 0:i.enabledElements)||[],S=((null===(r=this._results[o])||void 0===r?void 0:r.disabledElements)||[]).filter((e=>!h.includes(e)&&!g.includes(e)));this._results[o]={enabledElements:[...h,...g],disabledElements:[...S.filter((e=>!p.includes(e))),...p]},e.debug(`enabled ${o} elements:`,g,`disabled ${o} elements:`,p)})))),(0,d.addToKetchLog)("getWrappedTags",(()=>{Object.entries(this._results).forEach((([e,{enabledElements:t,disabledElements:n}])=>{console.group(`%cWrapped %c<${e}>%c Tags`,"","font-family: monospace; background-color: #f4f4f4; padding: 2px 4px; border-radius: 3px; color: #333;",""),console.groupCollapsed(`%cBlocked (${n.length})`,"color: red"),n.forEach((e=>console.log(e))),console.groupEnd(),console.groupCollapsed(`%cAllowed (${t.length})`,"color: green"),t.forEach((e=>console.log(e))),console.groupEnd(),console.groupEnd()}))})),Object.values(this._results).reduce(((e,t)=>e.concat(t.enabledElements)),[])})),this._ketch=e,this._tagsConfig=t,this._config=n,this._ketch.on(r.default.CONSENT_EVENT,(()=>this.execute()))}}},532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(8509),o=n(5305),s=i.__importDefault(n(7931)),d=i.__importDefault(n(5834)),a=n(4835),c=i.__importDefault(n(300)),l=n(4999);t.default=class{constructor(e,t){this._ketch=e,this._config=t,this._api=new l.KetchWebAPI((0,c.default)(this._config))}normalizeConsent(e,t){var n;if(!e.purposes)return e.purposes={},e;for(const i of Object.keys(e.purposes)){const r=e.purposes[i];"string"==typeof r&&(e.purposes[i]={allowed:r,legalBasisCode:null===(n=t.purposes[i])||void 0===n?void 0:n.legalBasisCode})}return e}enableAllConsent(){var e,t,n;return i.__awaiter(this,void 0,void 0,(function*(){const i=(0,o.wrapLogger)(s.default,"trackers: enableAllConsent");if(this._ketch.hasConsent())return i.trace("trackers: has consent"),this._ketch.getConsent();i.debug("trackers: obtaining and setting consent");const c=yield this._ketch.getIdentities();if(i.debug("trackers: identities",c),!c||0===Object.keys(c).length)throw d.default.noIdentitiesError;if(!(this._config&&this._config.property&&this._config.organization&&this._config.environment&&this._config.purposes&&this._config.jurisdiction&&0!==this._config.purposes.length))throw d.default.noPurposesError;const l={organizationCode:null!==(e=this._config.organization.code)&&void 0!==e?e:"",propertyCode:null!==(t=this._config.property.code)&&void 0!==t?t:"",environmentCode:this._config.environment.code,jurisdictionCode:null!==(n=this._config.jurisdiction.code)&&void 0!==n?n:"",identities:c,purposes:{}};for(const e of this._config.purposes)l.purposes[e.code]={legalBasisCode:e.legalBasisCode};i.debug("trackers: calling getConsent",l);const u=this.normalizeConsent(yield this._api.getConsent(l),l);i.debug("trackers: getConsent returned",u),yield(0,a.setCachedConsent)(u,this._config),yield(0,a.setPublicConsent)(u,this._config);const E={purposes:{}};if(null==u?void 0:u.purposes)for(const[e]of Object.entries(u.purposes))E.purposes[e]=!0;return u.vendors&&(E.vendors=u.vendors),u.googleVendors&&(E.googleVendors=u.googleVendors),u.protocols&&(E.protocols=u.protocols),i.debug("trackers: newConsent",E),yield this._ketch.setConsent(E,r.ConsentSource.Unknown,!0),E}))}}},8773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boot=void 0;const i=n(1635),r=i.__importDefault(n(8347)),o=i.__importDefault(n(7931)),s=i.__importDefault(n(2774));t.boot=function(){return i.__awaiter(this,void 0,void 0,(function*(){window.semaphore=window.semaphore||[],window.ketch=window.ketch||s.default;const e=()=>i.__awaiter(this,void 0,void 0,(function*(){try{yield(0,r.default)()}catch(e){o.default.error(e)}}));"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):yield e()}))}},4835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCacheEntry=t.getCacheEntry=t.clearCacheEntry=t.setCachedNavNode=t.getCachedNavNode=t.getLanyardRoot=t.setPublicConsent=t.setCachedConsent=t.getCachedConsent=t.KEYBOARD_HANDLER_CACHE_KEYS=t.PUBLIC_CONSENT_TTL=t.CACHED_CONSENT_TTL=t.CACHED_PROTOCOLS_KEY=t.PUBLIC_CONSENT_KEY_V1=t.CACHED_CONSENT_KEY=void 0;const i=n(1635),r=n(9791),o=n(835),s=n(5305),d=i.__importDefault(n(7931)),a=n(6092),c=n(7296);t.CACHED_CONSENT_KEY="_swb_consent_",t.PUBLIC_CONSENT_KEY_V1="_ketch_consent_v1_",t.CACHED_PROTOCOLS_KEY="_swb_consent_",t.CACHED_CONSENT_TTL=300,t.PUBLIC_CONSENT_TTL=3456e4,t.KEYBOARD_HANDLER_CACHE_KEYS={CTX_KEY:"_ketch_currentKeyboardCtx",LANYARD_DOM:"_ketch_lanyardRootDom",FOCUSABLE_ELEMS:"_ketch_focusableElems",MODAL_STACKS:"_ketch_modalStacks",SUB_EXPERIENCE_CTX:"_ketch_subExperienceCtx"};const l=(0,r.getDefaultCacher)(),u=new r.WebStorageCacher(window.localStorage,86400);function E(e){return window&&window[e]||localStorage&&localStorage.getItem(e)}function _(e,t){localStorage&&(null===localStorage||void 0===localStorage||localStorage.setItem(e,t)),window&&(window[e]=t)}t.getCachedConsent=function(e,n){var r;return i.__awaiter(this,void 0,void 0,(function*(){const i={organizationCode:e.organizationCode,propertyCode:e.propertyCode,environmentCode:e.environmentCode,jurisdictionCode:e.jurisdictionCode,identities:e.identities,purposes:{},collectedAt:0};if(n.options&&"no-cache"===n.options["Cache-Control"])return i;if("IOS"===(null===(r=n.property)||void 0===r?void 0:r.platform))return i;const o=yield l.getItem(t.CACHED_CONSENT_KEY);if(!o)return i;if(0===Object.keys(o).length)return i;if(!o.collectedAt)return i;const s=o,d=yield u.getItem(t.CACHED_PROTOCOLS_KEY);return s.vendors=null==d?void 0:d.vendors,s.googleVendors=null==d?void 0:d.googleVendors,s.protocols=null==d?void 0:d.protocols,s.vendorConsents=null==d?void 0:d.vendorConsents,s}))},t.setCachedConsent=function(e,n){var r;return i.__awaiter(this,void 0,void 0,(function*(){if(!e||0===Object.keys(e).length)return;e.collectedAt||(e.collectedAt=Math.floor(Date.now()/1e3));const i=Object.assign({},e);yield null==u?void 0:u.setItem(t.CACHED_PROTOCOLS_KEY,i),i.vendors=void 0,i.googleVendors=void 0,"vendorConsents"in i&&(i.vendorConsents=void 0),"protocols"in i&&(i.protocols=void 0),n.options&&"true"===n.options.cache_cookies_disabled||"IOS"!==(null===(r=n.property)||void 0===r?void 0:r.platform)&&(yield null==l?void 0:l.setItem(t.CACHED_CONSENT_KEY,i))}))},t.setPublicConsent=function(e,n){return i.__awaiter(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)return;const i={};if(n.purposes){for(const t of n.purposes){if(!Object.prototype.hasOwnProperty.call(e.purposes,t.code))continue;const n=e.purposes[t.code];let r="";"string"==typeof n?r="true"===n?"granted":"denied":n.allowed&&(r="true"===n.allowed?"granted":"denied"),0!=r.length&&(i[t.code]={status:r},t.canonicalPurposeCodes?i[t.code].canonicalPurposes=t.canonicalPurposeCodes:t.canonicalPurposeCode&&t.canonicalPurposeCode.length>0&&(i[t.code].canonicalPurposes=[t.canonicalPurposeCode]))}if(Object.keys(i).length>0){const e=btoa(JSON.stringify(i));null===localStorage||void 0===localStorage||localStorage.setItem(t.PUBLIC_CONSENT_KEY_V1,e),n.options&&"true"===n.options.cache_cookies_disabled||(0,o.setCookie)(window,t.PUBLIC_CONSENT_KEY_V1,e,t.PUBLIC_CONSENT_TTL)}}}))},t.getLanyardRoot=function(){if(window&&window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM])return window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM];{const e=document.getElementById(a.LANYARD_ID);return window&&(window[t.KEYBOARD_HANDLER_CACHE_KEYS.LANYARD_DOM]=e),e}},t.getCachedNavNode=function(e,t={}){const n=(0,s.wrapLogger)(d.default,"getCachedDomNode");if(!window&&!localStorage)return n.debug("missing storage options"),null;const i=E(e);return i?(0,c.decodeDataNav)(i):(n.debug("cache missing key: ",e),t.ifNull?(n.debug("populating cache"),_(e,t.ifNull),(0,c.decodeDataNav)(t.ifNull)):null)},t.setCachedNavNode=function(e,t){const n=(0,s.wrapLogger)(d.default,"setCachedNavNode"),i=t.src;i?_(e,i):n.debug(`Missing data nav encoding. Cannot cache ${e}`)},t.clearCacheEntry=function(e){window&&(window[e]=void 0),localStorage&&localStorage.removeItem(e)},t.getCacheEntry=E,t.setCacheEntry=_},6092:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LANYARD_ID=t.EMPTY_CONSENT=t.ShowExperienceEvents=void 0,function(e){e.SHOW_CONSENT_EXPERIENCE_EVENT="showConsentExperience",e.SHOW_PREFERENCE_EXPERIENCE_EVENT="showPreferenceExperience",e.SHOW_PROGRESSIVE_EXPERIENCE_EVENT="showProgressiveExperience",e.SHOW_CONSENT_GATE_EXPERIENCE_EVENT="showConsentGateExperience",e.SHOW_EXPERIENCE_EVENT="showExperience",e.RENDER_EXPERIENCE_EVENT="renderExperience"}(n=t.ShowExperienceEvents||(t.ShowExperienceEvents={}));const i=Object.assign(Object.assign({},n),{CONSENT_EVENT:"consent",ENVIRONMENT_EVENT:"environment",FULFILLED_EVENT:"fulfilled",GEOIP_EVENT:"geoip",HANDLE_KEYBOARD_EVENT:"handleKeyboardEvent",HAS_CHANGED_EXPERIENCE_EVENT:"hasChangedExperience",HAS_SHOWN_EXPERIENCE_EVENT:"hasShownExperience",HIDE_EXPERIENCE_EVENT:"hideExperience",HIDE_EXPERIENCE_REASON_EVENT:"hideExperienceReasonUpdated",IDENTITIES_EVENT:"identities",IDENTITY_EVENT:"identity",USER_ATTRIBUTES_EVENT:"userAttributes",USER_ATTRIBUTE_EVENT:"userAttribute",PROFILE_EVENT:"profile",JURISDICTION_EVENT:"jurisdiction",PROTOCOLS_EVENT:"protocols",REGION_INFO_EVENT:"regionInfo",RETURN_KEYBOARD_CONTROL:"returnKeyboardControl",RIGHT_INVOKED_EVENT:"rightInvoked",SUBSCRIPTIONS_EVENT:"subscriptions",SUBSCRIPTION_CONFIG_EVENT:"subscriptionConfig",USER_CONSENT_UPDATED_EVENT:"userConsentUpdated",WILL_CHANGE_EXPERIENCE_EVENT:"willChangeExperience",WILL_SHOW_EXPERIENCE_EVENT:"willShowExperience",NEEDS_CONSENT_EVENT:"needsConsent",CONSENT_SOURCE_OVERRIDE_EVENT:"consentSourceOverride"});t.default=Object.assign(Object.assign({},i),{NONE:"none",ENV:"env",PRODUCTION:"production",REGION:"region",JURISDICTION:"jurisdiction",LANGUAGE:"lang",SHOW:"show",PREFERENCES_TAB:"preferences_tab",PREFERENCES_TABS:"preferences_tabs",CONSENT:"cd",PREFERENCES:"preferences",CONSENT_GATE:"consentGate",API_SERVER:"shoreline",API_SERVER_BASE_URL:"https://global.ketchcdn.com/web/v2",EXPERIENCE_VERSION:"experience_version",EXPERIENCE_RULES_VERSION:"experience_rules_version",NO_CACHE:"no_cache",ROUTER_ACCEPT_ALL_CONSENT_FLAG:"router_accept_all_consent_flag",ROUTER_REJECT_ALL_CONSENT_FLAG:"router_reject_all_consent_flag",EMULATOR_OVERRIDE_CONSENT:"overrideConsent"}),t.EMPTY_CONSENT={purposes:{},vendors:[],googleVendors:[],protocols:{}},t.LANYARD_ID="lanyard_root"},192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window.dataLayer=window.dataLayer||[]}},5834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={actionNotFoundError:e=>new Error(`action "${e}" not found`),expectedFunctionError:e=>new Error(`action "${e}" expected a function`),unrecognizedLocationError:new Error("unrecognized location"),noIdentitiesError:new Error("no identities"),noPurposesError:new Error("no purposes"),noEnvironmentError:new Error("no environment"),noJurisdictionError:new Error("no jurisdiction"),invalidConfigurationError:new Error("invalid configuration"),emptyConsentError:new Error("empty consent")}},300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=i.__importDefault(n(6092)),o=i.__importDefault(n(3449));t.default=function(e){if(e.services){let t=e.services[r.default.API_SERVER];t.endsWith("/")&&(t=t.slice(0,-1));const n=o.default.get(r.default.EXPERIENCE_VERSION);return n&&(t.includes("v3")&&"old"===n?t=t.replace("v3","v2"):t.includes("v2")&&"new"===n&&(t=t.replace("v2","v3"))),t.endsWith("/web/v2")||t.endsWith("/web/v3")||(t+="/web/v2"),t}return r.default.API_SERVER_BASE_URL}},549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ketch=t.boot=void 0;const i=n(5926);Object.defineProperty(t,"Ketch",{enumerable:!0,get:function(){return i.Ketch}});const r=n(8773);Object.defineProperty(t,"boot",{enumerable:!0,get:function(){return r.boot}})},8347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);n(2581);const r=i.__importDefault(n(7931)),o=i.__importDefault(n(5250)),s=i.__importDefault(n(3004)),d=i.__importDefault(n(532)),a=i.__importStar(n(372)),c=i.__importDefault(n(2433)),l=i.__importDefault(n(6092)),u=n(7893);t.default=function(){var e;return i.__awaiter(this,void 0,void 0,(function*(){const t=window.semaphore||[],n=t.shift();if(!Array.isArray(n)||2!=n.length||"init"!=n[0])throw Error("ketch tag command queue is not configured correctly");const i=n[1];r.default.debug("init",i);const E=new o.default(i),_=yield E.build(),g=new s.default(_);for(;t.length>0;)g.push(t.shift());window.semaphore.push=g.push.bind(g),window.semaphore.ketch=_,window.semaphore.loaded=!0;const p="true"===sessionStorage.getItem(l.default.ROUTER_ACCEPT_ALL_CONSENT_FLAG),h="true"===sessionStorage.getItem(l.default.ROUTER_REJECT_ALL_CONSENT_FLAG);if(p)return r.default.debug("hasRouterAcceptAllFlag is set, skipping getConsent"),yield _.acceptAllConsent(),void sessionStorage.removeItem(l.default.ROUTER_ACCEPT_ALL_CONSENT_FLAG);if(h)return r.default.debug("hasRouterRejectAllFlag is set, skipping getConsent"),yield _.rejectAllConsent(),void sessionStorage.removeItem(l.default.ROUTER_REJECT_ALL_CONSENT_FLAG);const S=yield _.getConfig();if((null===(e=S.deployment)||void 0===e?void 0:e.isOrchestrationOnly)||(null==S?void 0:S.isConfigPaused))r.default.debug("exiting early, config is paused or orchestration only");else{if("true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(l.default.EMULATOR_OVERRIDE_CONSENT))){const e=new d.default(_,S);yield e.enableAllConsent()}else{yield _.getConsent();const e={url:window.location.href,path:window.location.pathname};yield _.setProfile(u.ProfileSection.PAGE,e),_.startRuleEngine()}new a.default(_,a.TagsConfig,S).execute(),new c.default(_,S).execute()}}))}},3044:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},8705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},2774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,...t){(window.semaphore=window.semaphore||[]).push([e,...t])}},7262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleNavigation=t.navigateBannerTree=t.getBannerTree=t.navigateModalStacks=t.handleDisabledSwitches=t.getModalStacks=t.getStaticModalNodes=t.handleSelection=t.handleSubExperienceCaching=t.renderNavigation=t.clearCachedNodes=t.getArrowActionFromUserAgent=t.getUserAgent=void 0;const i=n(1635),r=n(5305),o=n(4835),s=n(9305),d=i.__importDefault(n(7931)),a=n(7296);t.getUserAgent=()=>{const e=(0,r.wrapLogger)(d.default,"getUserAgent"),t=navigator.userAgent.toUpperCase();return Object.values(s.SupportedUserAgents).find((e=>-1!==t.search(e)))||void e.debug(`Unsupported userAgent: ${t}`)},t.getArrowActionFromUserAgent=e=>{const n=(0,r.wrapLogger)(d.default,"getArrowActionFromUserAgent"),i=(0,t.getUserAgent)();if(!i)return n.debug(`Unknown userAgent: ${navigator.userAgent}`),s.ArrowActions.UNKNOWN;const o=s.UserAgentHandlerMap[i];return o?o[e.keyCode]?o[e.keyCode]:(n.debug(`Unknown key: ${e.keyCode}`),s.ArrowActions.UNKNOWN):(n.debug(`Misconfigured userAgent: ${i}`),s.ArrowActions.UNKNOWN)},t.clearCachedNodes=()=>{const e=(0,r.wrapLogger)(d.default,"clearCachedNodes");Object.values(o.KEYBOARD_HANDLER_CACHE_KEYS).forEach((t=>{e.trace(`clearing ${t}`),(0,o.clearCacheEntry)(t)}))},t.renderNavigation=e=>{const t=(0,r.wrapLogger)(d.default,"renderNavigation"),n=(0,o.getLanyardRoot)();if(!n)return void t.debug("missing lanyard root");const{prev:i,next:s}=e;if(i){const e=n.querySelector(`[data-nav="${i.src}"]`);e?e.blur():t.debug(`node not found: ${i.src} -- ${i["nav-index"]}`)}if(s){const e=n.querySelector(`[data-nav="${s.src}"]`);e?e.focus():t.debug(`node not found: ${s.src} -- ${s["nav-index"]}`)}},t.handleSubExperienceCaching=(e,t)=>{const n=(0,o.getCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);if(n||e.action!==s.LanyardItemActions.expand){if(e.action===s.LanyardItemActions.expand&&n===e.subExperience)(0,o.clearCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);else if(e.action===s.LanyardItemActions.switch&&n===e.subExperience){const e=t.find((e=>e.subExperience===n&&e.action===s.LanyardItemActions.expand)),i=e&&(0,a.getDomNode)(e);i&&"function"==typeof i.click&&i.click(),(0,o.clearCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX)}else if(n!==e.subExperience&&e.action===s.LanyardItemActions.expand){const i=t.find((e=>e.subExperience===n&&e.action===s.LanyardItemActions.expand)),r=i&&(0,a.getDomNode)(i);r&&"function"==typeof r.click&&r.click(),(0,o.setCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX,e.subExperience)}}else(0,o.setCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX,e.subExperience)},t.handleSelection=(e=!0,n)=>{const i=(0,r.wrapLogger)(d.default,"handleSelection"),s=(0,o.getCachedNavNode)(o.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY),c=(0,a.getDomNode)(s);s&&c&&"function"==typeof c.click?(e&&(0,t.clearCachedNodes)(),Array.isArray(n)&&s.subExperience&&(0,t.handleSubExperienceCaching)(s,n),c.click()):i.debug("Node missing or missing click fn",c)},t.getStaticModalNodes=e=>{const t=(0,r.wrapLogger)(d.default,"getStaticModalNodes");if(0===e.length)return t.debug("no clickable nodes"),{topNodes:[]};const n=(0,a.safeJsonParse)((0,o.getCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.MODAL_STACKS));if(n&&Array.isArray(n.topNodes))return n;const i=e.filter((e=>void 0===e.subExperience)).sort(((e,t)=>e["nav-index"]-t["nav-index"]));t.trace("top nodes:",i);const c=e.filter((e=>e.subExperience&&e.action===s.LanyardItemActions.expand)).sort(((e,t)=>void 0===e.subExperience||void 0===t.subExperience?0:e.subExperience.localeCompare(t.subExperience)));t.trace("expand nodes:",c);const l=e.filter((e=>e.subExperience&&e.action===s.LanyardItemActions.switch)).sort(((e,t)=>void 0===e.subExperience||void 0===t.subExperience?0:e.subExperience.localeCompare(t.subExperience)));t.trace("switch nodes:",l);const u={expandNodes:c.length>0?c:void 0,switchNodes:l.length>0?l:void 0,topNodes:i};return(0,o.setCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.MODAL_STACKS,JSON.stringify(u)),u},t.getModalStacks=e=>{const n=(0,r.wrapLogger)(d.default,"getModalStacks"),i=(0,t.getStaticModalNodes)(e);Array.isArray(i.topNodes)&&0!==i.topNodes.length||n.debug("Missing top nodes in the stack");const s=(0,o.getCacheEntry)(o.KEYBOARD_HANDLER_CACHE_KEYS.SUB_EXPERIENCE_CTX);if(s){if(n.trace("existing subExperienceCtx:",s),!i.expandNodes||0===i.expandNodes.length)return n.debug(`missing expand nodes for ${s}. Returning without subExperience`),i;const t=e.filter((e=>e.subExperience===s)).sort(((e,t)=>e["nav-index"]-t["nav-index"]));n.trace(`found ${t.length} nodes in ${s}`);const r=i.expandNodes.findIndex((e=>e.subExperience===s));if(-1===r)return n.debug(`Expand nodes missing for ${s}. Returning stacks without subExperience`),i;i.expandNodes=[...i.expandNodes.slice(0,r),...t,...i.expandNodes.slice(r+1)],n.trace("updating expand nodes",i.expandNodes)}return i},t.handleDisabledSwitches=(e,t)=>{if(e.action===s.LanyardItemActions.switch&&e.disabled){const n=null==t?void 0:t.find((t=>t.subExperience===e.subExperience));if(n)return n}return e},t.navigateModalStacks=(e,n,i)=>{var a,c,l;const u=(0,r.wrapLogger)(d.default,"navigateModalStacks");if(!e||!e.topNodes||!(null===(a=e.topNodes)||void 0===a?void 0:a.length))return u.debug("no top nodes found in the modal"),null;if(null===i)return u.debug(`Defaulting first selection to node: ${e.topNodes[0]}`),e.topNodes[0];const E=i.action,_=E===s.LanyardItemActions.switch?e.switchNodes:E===s.LanyardItemActions.expand||i.subExperience?e.expandNodes:e.topNodes;if(!_)return u.debug("Storage inconsistent"),null;u.trace("activeStack:",_);const g=_.findIndex((e=>e.src===i.src));u.trace(`moving ${n} from index ${g}`);let p=null;switch(n){case s.ArrowActions.UP:if(0===g){if(E===s.LanyardItemActions.expand||E===s.LanyardItemActions.switch){p=e.topNodes[e.topNodes.length-1];break}{const t=e.switchNodes||e.expandNodes;p=t&&t.length>0?t[t.length-1]:null;break}}p=_[g-1];break;case s.ArrowActions.DOWN:if(g===_.length-1){if(E===s.LanyardItemActions.expand||E===s.LanyardItemActions.switch){p=e.topNodes[0];break}{const t=e.switchNodes||e.expandNodes;p=t&&t.length>0?t[0]:null;break}}p=_[g+1];break;case s.ArrowActions.LEFT:E===s.LanyardItemActions.switch&&(p=null===(c=e.expandNodes)||void 0===c?void 0:c.find((e=>e.subExperience===i.subExperience)));break;case s.ArrowActions.RIGHT:E===s.LanyardItemActions.expand&&(p=null===(l=e.switchNodes)||void 0===l?void 0:l.find((e=>e.subExperience===i.subExperience)));break;case s.ArrowActions.OK:const n=i.action===s.LanyardItemActions.confirm||i.action===s.LanyardItemActions.close||i.action===s.LanyardItemActions.back||Boolean(i.clearCache);(0,t.handleSelection)(n,e.expandNodes);break;case s.ArrowActions.BACK:const r=e.topNodes.find((e=>e.action===s.LanyardItemActions.back));r&&((0,o.setCachedNavNode)(o.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY,r),(0,t.handleSelection)(!0));break;default:return null}return p?(0,t.handleDisabledSwitches)(p,e.expandNodes):null},t.getBannerTree=e=>{const t=(0,r.wrapLogger)(d.default,"getBannerTree");if(0===e.length)return t.debug("no clickable nodes"),[];const n=e.sort(((e,t)=>e["nav-index"]-t["nav-index"]));return t.debug(n),n},t.navigateBannerTree=(e,n,i)=>{const o=(0,r.wrapLogger)(d.default,"navigateBannerTree");if(null===i)return o.debug(`Defaulting first selection to node: ${e[0]}`),e[0];const a=e.findIndex((e=>e.src===i.src));switch(o.debug("Starting at: ",a),n){case s.ArrowActions.UP:case s.ArrowActions.LEFT:return 0===a?(o.debug("Cannot move past last node"),null):e[a-1];case s.ArrowActions.RIGHT:case s.ArrowActions.DOWN:return a===e.length-1?(o.debug("Cannot move beyond first node"),null):e[a+1];case s.ArrowActions.OK:return(0,t.handleSelection)(!0),null;case s.ArrowActions.BACK:return o.trace("cannot back out of banner"),null;default:return o.debug("Unknown arrowAction: ",n),null}},t.handleNavigation=e=>{const n=(0,r.wrapLogger)(d.default,"handleNavigation");n.debug("Navigating ",e);const i=(0,o.getLanyardRoot)();if(null===i)return n.debug("Cannot find lanyard root"),null;if(!(i instanceof HTMLElement))return n.debug("Storage inconsistent"),null;const c=i.querySelectorAll("[data-nav]");if(!c||0===c.length)return n.debug("No tagged DOM nodes found"),null;const l=[];c.forEach((e=>{const t=(0,a.decodeDataNav)(e.dataset.nav||"");null!==t&&l.push(t)})),l.length!==c.length?n.debug("inconsistent encoding of data-nav"):window.decodedNodes=l;let u=null;const E=l[0].experience,_=(0,o.getCachedNavNode)(o.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY);if(E===s.EXPERIENCES.BANNER){const n=(0,t.getBannerTree)(l);u=(0,t.navigateBannerTree)(n,e,_)}else if(E===s.EXPERIENCES.MODAL){const n=(0,t.getModalStacks)(l);u=(0,t.navigateModalStacks)(n,e,_)}else n.debug(`unhandled experience ${E}`);return u&&(n.debug("Updating cached context node: ",u),(0,o.setCachedNavNode)(o.KEYBOARD_HANDLER_CACHE_KEYS.CTX_KEY,u)),{prev:_,next:u}},t.default=function(e,n){const i=(0,r.wrapLogger)(d.default,"onKeyPress"),o="string"==typeof e?e:(0,t.getArrowActionFromUserAgent)(e);if(i.debug("Processing movement: ",o),o===s.ArrowActions.UNKNOWN){const r="string"==typeof e?e:e.keyCode;i.error(`Unknown input: ${r}`),i.debug("returning keyboard control"),(0,t.clearCachedNodes)(),n()}else{const e=(0,t.handleNavigation)(o);e?(0,t.renderNavigation)(e):(i.debug("returning keyboard control"),(0,t.clearCachedNodes)(),n())}}},9305:(e,t)=>{"use strict";var n,i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgentHandlerMap=t.SupportedUserAgents=t.LanyardItemActions=t.EXPERIENCES=t.ArrowActions=void 0,function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.BACK="BACK",e.OK="OK",e.UNKNOWN="UNKNOWN"}(n=t.ArrowActions||(t.ArrowActions={})),t.EXPERIENCES={BANNER:"ketch-consent-banner",MODAL:"ketch-purpose-modal",PREFERENCES:"ketch-preferences",CONSENT_GATE:"ketch-consent-gate"},(r=t.LanyardItemActions||(t.LanyardItemActions={})).back="back",r.close="close",r.confirm="confirm",r.expand="expand",r.switch="switch",function(e){e.TIZEN="TIZEN",e.MACINTOSH="MACINTOSH"}(i=t.SupportedUserAgents||(t.SupportedUserAgents={}));const o={37:n.LEFT,38:n.UP,39:n.RIGHT,40:n.DOWN,13:n.OK,10009:n.BACK},s={37:n.LEFT,38:n.UP,39:n.RIGHT,40:n.DOWN,13:n.OK,27:n.BACK};t.UserAgentHandlerMap={[i.TIZEN]:o,[i.MACINTOSH]:s}},7931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5305);let r=(0,i.getLogLevel)((0,i.getParams)(window.location.search,["ketch_","swb_"]));t.default=(0,i.getLogger)("ketch",r)},3449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=(0,n(5305).getParams)(window.location.search,["ketch_","swb_"]);t.default=i},2581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635).__importDefault(n(7678)),r="function"==typeof globalThis.structuredClone?globalThis.structuredClone:null;r||(globalThis.structuredClone=i.default);const o=r||i.default;t.default=o},838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gpcPlugin=void 0;const i=n(1635);n(2581);const r=n(835),o=n(5305),s=n(8509),d=i.__importDefault(n(7931)),a="gpcsignal";t.gpcPlugin={fn:(e,t)=>i.__awaiter(void 0,void 0,void 0,(function*(){var n,i;const s=(0,o.wrapLogger)(d.default,"gpcPlugin"),c=yield e.getFullConfig();let l=!1;if(!(null===(n=c.jurisdiction)||void 0===n?void 0:n.code)||!c.plugins||!c.plugins.gpc)return s.debug("missing jurisdiction or plugin configuration, skipping"),[t,l];const u=c.plugins.gpc;if(!u.jurisdictions||!u.purposeMappings||!u.jurisdictions.includes(c.jurisdiction.code))return s.debug("invalid plugin configuration, skipping"),[t,l];const E=structuredClone(t),_=!0===(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.globalPrivacyControl),g="true"===(0,r.getCookie)(window,a);return g!==_&&((0,r.setCookie)(window,a,_,2592e3),s.debug("setting gpc signal cookie",_)),_&&!g&&(s.debug("gpc signal is true and existingGpcSignal is false"),E.isGpcEnabled=!0,u.purposeMappings.forEach((e=>{"gpc"===e.pluginPurposeID&&e.purposes&&e.purposes.forEach((e=>{var t;(null===(t=null==c?void 0:c.purposes)||void 0===t?void 0:t.some((t=>t.code===e&&t.allowsOptOut)))&&(E.purposes[e]=!1,l=!0)}))}))),s.debug("provisionalConsent",structuredClone(E)),[E,l]})),source:s.ConsentSource.GpcPlugins}},2186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onetrustPlugin=t.readOneTrustConsentCookie=void 0;const i=n(1635);n(2581);const r=n(8509),o=n(5305),s=i.__importDefault(n(9207)),d=i.__importDefault(n(7931)),a=n(7893);t.readOneTrustConsentCookie=()=>{const e=(0,o.wrapLogger)(d.default,"readOTConsentCookie");try{const t=document.cookie.split(";").filter((e=>e.trim().startsWith("OptanonConsent")));if(0===t.length)return e.debug("OptanonConsent cookie not found"),{};e.debug(`Found ${t.length} OptanonConsent cookie(s)`);const n=t.reduce(((e,t)=>{const n=t.split("=").slice(1).join("="),i=new URLSearchParams(n),r=i.get("groups");return r&&e.push({cookie:t,cookieValue:n,params:i,domain:i.get("domain"),datestamp:i.get("datestamp"),groups:r}),e}),[]);if(0===n.length)return e.debug("No OptanonConsent cookies found with groups parameter"),{};const i=window.location.hostname,r=e=>{if(!e)return null;const t=e.split(".");return t.length<2?e:t.slice(-2).join(".")},o=e=>!!e&&r(i)===r(e),s=t=>{if(!t)return null;try{const e=decodeURIComponent(t).replace(/\+/g," ");return new Date(e)}catch(n){return e.debug("Failed to parse datestamp:",t,n),null}},d=n.filter((e=>o(e.domain)));let a;d.length>0?(e.debug(`Found ${d.length} domain-matching cookie(s)`),a=d.reduce(((e,t)=>{const n=s(e.datestamp),i=s(t.datestamp);return n||i?n?i&&i>n?t:e:t:e}))):(e.debug("No domain-matching cookies found, selecting most recent cookie"),a=n.reduce(((e,t)=>{const n=s(e.datestamp),i=s(t.datestamp);return n||i?n?i&&i>n?t:e:t:e}))),e.debug("Selected OptanonConsent cookie:",a.cookie),e.debug("Selected cookie domain:",a.domain),e.debug("Selected cookie datestamp:",a.datestamp);const c=a.groups;if(!c)return e.debug("groups parameter not found in selected OptanonConsent cookie"),{};e.debug("groups parameter found:",c);const l=decodeURIComponent(c),u={};return l.split(",").reduce(((e,t)=>{const[n,i]=t.split(":");return n&&void 0!==i&&(e[n]="1"===i),e}),u),u}catch(t){return e.error("Error parsing OptanonConsent cookie:",t),{}}};const c=(e,t,n,i,r=!1)=>{const s=(0,o.wrapLogger)(d.default,"applyOneTrustConsent"),a=Object.assign({},e);return i.forEach((i=>{const o=i.pluginPurposeID,d=i.purposes;s.debug("otConsentGroup",o),s.debug("ketchPurposeCodes",d),o&&o in t&&(null==d?void 0:d.length)&&d.forEach((i=>{var d;s.debug("processing purpose:",i);const c=null===(d=null==n?void 0:n.purposes)||void 0===d?void 0:d.find((e=>e.code===i));if(!c)return void s.debug("ketchPurpose not found in config",i);const l=e.purposes[i],u=t[o];c.allowsOptOut||!1!==u?void 0===l||r?(a.purposes[i]=u,s.debug("migrating consent for purpose",i,"setting to",u)):s.debug("skipping migration for purpose",i,"because it already has consent with value:",l):s.debug("ketchPurpose does not allow opt out and otConsentValue is false",i)}))})),a};t.onetrustPlugin={fn:(e,n)=>i.__awaiter(void 0,void 0,void 0,(function*(){var i,l;const u=(0,o.wrapLogger)(d.default,"onetrustPlugin"),E=yield e.getFullConfig(),_=structuredClone(n),g=null===(i=E.plugins)||void 0===i?void 0:i.onetrust;if(!g)return u.debug("onetrust plugin options not found, skipping"),[_,!1];const p=null==g?void 0:g.purposeMappings;if(!p)return u.debug("onetrust plugin purpose mappings not found, skipping"),[_,!1];const h={};p.forEach((e=>{var t;null===(t=e.purposes)||void 0===t||t.forEach((t=>{h[t]=e.pluginPurposeID}))}));const S=(0,t.readOneTrustConsentCookie)();u.debug("otConsent",S),u.debug("ketch consent",Object.assign(Object.assign({},n),{purposes:Object.assign({},n.purposes)}));const f=c(n,S,E,p);return window.OptanonWrapper=()=>{var i;null===(i=window.OneTrust)||void 0===i||i.OnConsentChanged((()=>{u.debug("OneTrust.OnConsentChanged triggered");const i=(0,t.readOneTrustConsentCookie)();u.debug("newOtConsent",i),u.debug("ketch consent",Object.assign(Object.assign({},n),{purposes:Object.assign({},n.purposes)}));const o=c(n,i,E,p,!0);u.debug("After OT consent event - provisionalConsent.purposes keys:",o.purposes),e.setConsent(o,r.ConsentSource.OneTrustMigrator,!1)}))},(null===(l=null==E?void 0:E.purposes)||void 0===l?void 0:l.every((e=>(null==e?void 0:e.code)&&void 0!==h[e.code]&&void 0!==S[h[e.code]])))?(u.debug("all purposes set by OT, updating profile.consent.needsConsent"),yield e.setProfile(a.ProfileSection.CONSENT_NEEDS_CONSENT,!1),e.needsConsent=!1):u.debug("not all purposes set by OT, not updating profile.consent.needsConsent"),[f,!(0,s.default)(_,f)]})),source:r.ConsentSource.OneTrustMigrator}},79:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sourcepointPlugin=t.readSourcepointConsentCookie=void 0;const i=n(1635);n(2581);const r=n(8509),o=n(5305),s=i.__importDefault(n(9207)),d=n(835),a=n(9877),c=i.__importDefault(n(7931)),l=n(7893);t.readSourcepointConsentCookie=(e,t)=>{const n=(0,o.wrapLogger)(c.default,"readSourcepointConsentCookie"),i=["tcfeuv2","tcfcav1","usca","usco","usct","usnat","usut","usva"],r={sale:"SaleOptOut",sharing:"SharingOptOut",personal:"PersonalDataConsents",targeted_advertising:"TargetedAdvertisingOptOut"},s={usca:{sensitiveDataProcessing:{sensitive_identification:0,sensitive_financial:1,sensitive_geolocation:2,sensitive_ethnicity:3,sensitive_communication:4,sensitive_genetic:5,sensitive_biometric:6,sensitive_health:7,sensitive_sex:8},knownChildSensitiveDataConsents:{child_data_sale:0,child_data_share:1}},usco:{sensitiveDataProcessing:{sensitive_ethnicity:0,sensitive_religion:1,sensitive_health:2,sensitive_sex:3,sensitive_immigration:4,sensitive_genetic:5,sensitive_biometric:6},knownChildSensitiveDataConsents:{child_data_process:0}},usct:{sensitiveDataProcessing:{sensitive_ethnicity:0,sensitive_religion:1,sensitive_health:2,sensitive_sex:3,sensitive_immigration:4,sensitive_genetic:5,sensitive_biometric:6,sensitive_geolocation:7},knownChildSensitiveDataConsents:{child_data_process:0,child_data_sale:1,child_targeted_advertising:2}},usnat:{sensitiveDataProcessing:{sensitive_ethnicity:0,sensitive_religion:1,sensitive_health:2,sensitive_sex:3,sensitive_immigration:4,sensitive_genetic:5,sensitive_biometric:6,sensitive_geolocation:7,sensitive_identification:8,sensitive_financial:9,sensitive_union:10,sensitive_communication:11},knownChildSensitiveDataConsents:{child_data_process_age_1316:0,child_data_process_age_under_13:1}},usut:{sensitiveDataProcessing:{sensitive_ethnicity:0,sensitive_religion:1,sensitive_sex:2,sensitive_immigration:3,sensitive_health:4,sensitive_genetic:5,sensitive_biometric:6,sensitive_geolocation:7},knownChildSensitiveDataConsents:{child_data_process:0}},usva:{sensitiveDataProcessing:{sensitive_ethnicity:0,sensitive_religion:1,sensitive_health:2,sensitive_sex:3,sensitive_immigration:4,sensitive_genetic:5,sensitive_biometric:6,sensitive_geolocation:7},knownChildSensitiveDataConsents:{child_data_process:0}}};let d={};if(e){const o=new a.CmpApi(340,1);let c;o.setGppString(e);try{c=o.getObject()}catch(e){return n.debug("Failed to parse GPP object:",e),d}n.debug("Decoded GPP object:",c);const l=Object.keys(c).find((e=>i.includes(e)));l&&(d="tcfeuv2"===l||"tcfcav1"===l?((e,i)=>{var r;n.debug(`parsing ${i} gpp string for sourcepoint consent`);const o={},s=null===(r=t.plugins)||void 0===r?void 0:r[i];if(s&&(null==s?void 0:s.purposeMappings)){const t=null==s?void 0:s.purposeMappings,r=new Map;t.forEach((e=>{e.purposes&&e.pluginPurposeID&&r.set(e.pluginPurposeID.split("_")[1],e.purposes)})),n.debug(`${i} gppPurposeToKetchPurposeCode:`,r);let d=[];d="tcfcav1"===i?e.getFieldValue(i,"PurposesExpressConsent"):e.getFieldValue(i,"PurposeConsents"),n.debug(`GPP ${i} purposeConsents:`,d),r.forEach(((e,t)=>{const n=d[Number(t)-1];e.forEach((e=>{void 0!==o[e]?o[e]=o[e]||n:o[e]=n}))}))}return o})(o,l):((e,i)=>{var o;n.debug(`parsing ${i} gpp string for sourcepoint consent`);const d={},a=null===(o=t.plugins)||void 0===o?void 0:o[i];if(a&&(null==a?void 0:a.purposeMappings)){const t=null==a?void 0:a.purposeMappings,o=new Map;t.forEach((e=>{e.purposes&&e.pluginPurposeID&&o.set(e.pluginPurposeID,e.purposes)})),n.debug(`${i} gppPurposeToKetchPurposeCode:`,o),o.forEach(((t,n)=>{if("sale"===n||"sharing"===n||"personal"===n||"targeted_advertising"===n){const o=r[n];if(o){const n=e.getFieldValue(i,o);if("number"==typeof n&&n>0){const e=1!==n;t.forEach((t=>{void 0!==d[t]?d[t]=d[t]||e:d[t]=e}))}}}else if(n.startsWith("sensitive_")){const r=s[i].sensitiveDataProcessing[n];if(void 0!==r){const n=e.getFieldValue(i,"SensitiveDataProcessing");if(Array.isArray(n)&&n.every((e=>"number"==typeof e))){const e=n;if(e[r]>0){const n=1!==e[r];t.forEach((e=>{void 0!==d[e]?d[e]=d[e]||n:d[e]=n}))}}}}else if(n.startsWith("child_")){const r=s[i].knownChildSensitiveDataConsents[n];if(void 0!==r){const n=e.getFieldValue(i,"KnownChildSensitiveDataConsents");if(Array.isArray(n)&&n.every((e=>"number"==typeof e))){const e=n;if(e[r]>0){const n=1!==e[r];t.forEach((e=>{void 0!==d[e]?d[e]=d[e]||n:d[e]=n}))}}else if("number"==typeof n&&n>0){const e=1!==n;t.forEach((t=>{void 0!==d[t]?d[t]=d[t]||e:d[t]=e}))}}}}))}return d})(o,l))}return d};const u=(e,t,n,i=!1)=>{const r=(0,o.wrapLogger)(c.default,"applySourcepointConsent"),s=Object.assign({},e);return Object.keys(t).forEach((o=>{var d;const a=null===(d=null==n?void 0:n.purposes)||void 0===d?void 0:d.find((e=>e.code===o));if(!a)return void r.debug("ketchPurpose not found in config",o);const c=t[o];if(!a.allowsOptOut&&!1===c)return void r.debug("ketchPurpose does not allow opt out and spConsentValue is false",o);const l=e.purposes[o];void 0===l||i?(s.purposes[o]=t[o],r.debug("migrating consent for purpose",o,"setting to",t[o])):r.debug("skipping migration for purpose",o,"because it already has consent with value:",l)})),s};t.sourcepointPlugin={fn:(e,n)=>i.__awaiter(void 0,void 0,void 0,(function*(){var i,a,E;const _=(0,o.wrapLogger)(c.default,"sourcepointPlugin"),g=yield e.getFullConfig(),p=structuredClone(n),h=null===(i=g.plugins)||void 0===i?void 0:i.sourcepoint;if(!h)return _.debug("sourcepoint plugin options not found, skipping"),[p,!1];const S=null===(a=null==h?void 0:h.config)||void 0===a?void 0:a.sourcepointCookieName;if(!S)return _.debug("sourcepoint plugin cookie name options not found, skipping"),[p,!1];const f=S,T=(0,d.getCookie)(window,f);_.debug(`sourcepoint cookie ${f} value: ${T}`);const O=(0,t.readSourcepointConsentCookie)(T,g);_.debug("sourcepoint consent:",O),_.debug("ketch consent:",Object.assign(Object.assign({},n),{purposes:Object.assign({},n.purposes)}));const N=u(n,O,g);return _.debug("updated consent:",N),window.__gpp&&window.__gpp("addEventListener",((i,o)=>{if(_.debug("GPP event received:",i),!o)return void _.warn("GPP listener failed or unsupported");const s=(0,d.getCookie)(window,f);if(_.debug(`new sourcepoint cookie ${f} value: ${s}`),s&&s!==T){const i=(0,t.readSourcepointConsentCookie)(f,g);_.debug("newSpConsent:",i),_.debug("ketch consent:",Object.assign(Object.assign({},n),{purposes:Object.assign({},n.purposes)}));const o=u(n,i,g,!0);_.debug("After Sourcepoint consent event - provisionalConsent.purposes keys:",o.purposes),e.setConsent(o,r.ConsentSource.SourcepointMigrator,!1)}else _.debug("sourcepoint cookie has not changed, skipping")})),(null===(E=null==g?void 0:g.purposes)||void 0===E?void 0:E.every((e=>(null==e?void 0:e.code)&&void 0!==O[e.code])))?(_.debug("all purposes set by sourcepoint, updating profile.consent.needsConsent"),yield e.setProfile(l.ProfileSection.CONSENT_NEEDS_CONSENT,!1),e.needsConsent=!1):_.debug("not all purposes set by sourcepoint, not updating profile.consent.needsConsent"),[N,!(0,s.default)(p,N)]})),source:r.ConsentSource.SourcepointMigrator}},7296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.santizePaths=t.getDomNode=t.decodeDataNav=t.safeJsonParse=void 0;const i=n(1635),r=n(5305),o=i.__importDefault(n(7931)),s=n(4835);function d(e){const t=(0,r.wrapLogger)(o.default,"safeJsonParse");if(!e||""===e.trim())return{};try{return JSON.parse(e)}catch(n){return t.error(`Could not parse JSON for ${e} - ${n}`),null}}t.safeJsonParse=d,t.decodeDataNav=function(e){const t=(0,r.wrapLogger)(o.default,"decodeDataNav");let n="";try{n=window.atob(e)}catch(n){return t.debug(`Invalid encoding: ${e}`,n),null}const i=d(n);return"[object Object]"!==Object.prototype.toString.call(i)?null:(i.src=e,i)},t.getDomNode=function(e){const t=(0,r.wrapLogger)(o.default,"convertToKetchHTMLElement");if(!e||!e.src)return t.debug("node missing src",e),null;const n=`[data-nav="${e.src}"]`,i=(0,s.getLanyardRoot)();return i?i.querySelector(n):(t.debug("missing lanyard root"),null)},t.santizePaths=function(e){const t=(0,r.wrapLogger)(o.default,"santizePaths"),n=e.replace(/[^a-zA-Z0-9_-]/g,"");return n!==e&&t.debug(`path element "${e}" sanitized to "${n}"`),n}},4999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KetchWebAPI=void 0;const i=n(1635),r=n(5305),o=i.__importDefault(n(7931));class s{constructor(e,t){this._baseUrl=e,this._fetch=t||n.g.fetch.bind(window)}getLocation(){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.get("/ip")}))}getBootstrapConfiguration(e){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.get(`/config/${e.organizationCode}/${e.propertyCode}/boot.json`)}))}getFullConfiguration(e){return i.__awaiter(this,void 0,void 0,(function*(){let t="";return this._baseUrl.includes("web/v3")?(e.environmentCode&&e.jurisdictionCode&&e.languageCode&&(t=`/${e.environmentCode}/${e.jurisdictionCode}/${e.languageCode}`),yield this.get(`/config/${e.organizationCode}/${e.propertyCode}${t}/config.json${e.hash?`?hash=${e.hash}`:""}`)):(e.environmentCode&&e.hash&&e.jurisdictionCode&&e.languageCode&&(t=`/${e.environmentCode}/${e.hash}/${e.jurisdictionCode}/${e.languageCode}`),yield this.get(`/config/${e.organizationCode}/${e.propertyCode}${t}/config.json`))}))}getSubscriptionsConfiguration(e){return i.__awaiter(this,void 0,void 0,(function*(){const{organizationCode:t,propertyCode:n,languageCode:i,experienceCode:r}=e;return yield this.get(`/config/${t}/${n}/${i}/${r}/subscriptions.json`)}))}getConsent(e){return i.__awaiter(this,void 0,void 0,(function*(){(0,r.wrapLogger)(o.default,"webApi - getConsent").debug("started");try{const t=yield this.post(`/consent/${e.organizationCode}/get`,e);return t&&t.purposes&&Object.keys(t.purposes).length?t:e}catch(t){return e}}))}getProtocols(e){return i.__awaiter(this,void 0,void 0,(function*(){(0,r.wrapLogger)(o.default,"webApi - getProtocols").debug("started");try{const t=yield this.post(`/consent/${e.organizationCode}/get`,e);return t&&t.protocols&&Object.keys(t.protocols).length?Object.assign(Object.assign({},e),{protocols:t.protocols}):e}catch(t){return e}}))}setConsent(e){return i.__awaiter(this,void 0,void 0,(function*(){try{const t=yield this.post(`/consent/${e.organizationCode}/update`,e);return t&&t.purposes&&Object.keys(t.purposes).length?t:e}catch(t){return e}}))}getSubscriptions(e){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.post(`/subscriptions/${e.organizationCode}/get`,e)}))}setSubscriptions(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.post(`/subscriptions/${e.organizationCode}/update`,e)}))}invokeRight(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.post(`/rights/${e.organizationCode}/invoke`,e)}))}preferenceQR(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=new URL(`${this._baseUrl}/qr/${e.organizationCode}/${e.propertyCode}/preferences.png`);return e.environmentCode&&t.searchParams.set("env",e.environmentCode),e.imageSize&&t.searchParams.set("size",e.imageSize.toString()),e.path&&t.searchParams.set("path",e.path),e.backgroundColor&&t.searchParams.set("bgcolor",e.backgroundColor),e.foregroundColor&&t.searchParams.set("fgcolor",e.foregroundColor),Object.keys(e.parameters).forEach((n=>{t.searchParams.set(n,e.parameters[n])})),t.toString()}))}webReport(e,t){return i.__awaiter(this,void 0,void 0,(function*(){yield this.post(`/report/${e}`,t)}))}get(e){return i.__awaiter(this,void 0,void 0,(function*(){return this._fetch(this._baseUrl+e,s.fetchOptions("GET")).then((e=>e.json()))}))}post(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const n=yield this._fetch(this._baseUrl+e,s.fetchOptions("POST",t));if(!n.ok)throw new Error(yield n.text());return n.json()}))}static fetchOptions(e,t){const n={method:e,mode:"cors",credentials:"omit"},i="application/json";return t?(n.body=JSON.stringify(t),n.headers={Accept:i,"Content-Type":i}):n.headers={Accept:i},n}}t.KetchWebAPI=s},3165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.map((e=>{try{return window.atob(decodeURIComponent(e))}catch(t){return e}}))}},5962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encoding=void 0;const i=n(1635).__importDefault(n(3165));t.encoding=i.default},4080:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(4615),o=i.__importDefault(n(7029));t.default=function(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];const n=(0,r.getCookie)(e,t);return n&&"0"!==n?[n]:(0,o.default)(e,`ketch_${t}`)}))}},7111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.getCookie=t.fetcher=void 0;const i=n(1635).__importDefault(n(4080));t.fetcher=i.default;const r=n(4615);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return r.getCookie}}),Object.defineProperty(t,"setCookie",{enumerable:!0,get:function(){return r.setCookie}})},4615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.getCookie=void 0;const i=n(835);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return i.getCookie}}),t.setCookie=function(e,t,n,r){(0,i.setCookie)(e,t,n,r?86400*r:r)}},725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);t.default=function(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!e||!e.dataLayer||0===t.length)return[];let n=[];for(const i of e.dataLayer)if(Object.prototype.hasOwnProperty.call(i,t)){const e=i[t];e&&"0"!==e&&(n=n.concat(e))}return n}))}},2302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(725));t.fetcher=i.default},9220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.semicolonStructure=t.queryStructure=t.jwtStructure=t.jsonStructure=t.stringStructure=t.managedFetcher=t.queryStringFetcher=t.sessionStorageFetcher=t.localStorageFetcher=t.windowFetcher=t.dataLayerFetcher=t.setCookie=t.getCookie=t.cookieFetcher=void 0;const i=n(1635),r=n(7111);Object.defineProperty(t,"cookieFetcher",{enumerable:!0,get:function(){return r.fetcher}}),Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return r.getCookie}}),Object.defineProperty(t,"setCookie",{enumerable:!0,get:function(){return r.setCookie}});const o=n(2302);Object.defineProperty(t,"dataLayerFetcher",{enumerable:!0,get:function(){return o.fetcher}});const s=n(3841);Object.defineProperty(t,"windowFetcher",{enumerable:!0,get:function(){return s.fetcher}});const d=n(3861);Object.defineProperty(t,"localStorageFetcher",{enumerable:!0,get:function(){return d.fetcher}});const a=n(6944);Object.defineProperty(t,"sessionStorageFetcher",{enumerable:!0,get:function(){return a.fetcher}});const c=n(4334);Object.defineProperty(t,"queryStringFetcher",{enumerable:!0,get:function(){return c.fetcher}});const l=n(9694);Object.defineProperty(t,"managedFetcher",{enumerable:!0,get:function(){return l.fetcher}});const u=n(164);Object.defineProperty(t,"stringStructure",{enumerable:!0,get:function(){return u.structure}});const E=n(659);Object.defineProperty(t,"jsonStructure",{enumerable:!0,get:function(){return E.structure}});const _=n(7510);Object.defineProperty(t,"jwtStructure",{enumerable:!0,get:function(){return _.structure}});const g=n(4334);Object.defineProperty(t,"queryStructure",{enumerable:!0,get:function(){return g.structure}});const p=n(4774);Object.defineProperty(t,"semicolonStructure",{enumerable:!0,get:function(){return p.structure}});const h=i.__importDefault(n(1031));t.default=h.default},659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structure=void 0;const i=n(1635).__importDefault(n(5062));t.structure=i.default},5062:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("object"==typeof e&&!Array.isArray(e)&&null!==e)return e;const t=JSON.parse(e);return"object"!=typeof t||Array.isArray(t)||null===t?{value:t}:t}},7510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structure=void 0;const i=n(1635).__importDefault(n(2971));t.structure=i.default},2971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e;if(t&&t.length>0)return n;const i=n.split(".")[1],r=atob(i);return JSON.parse(r)}},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6590);t.default=(0,i.fetcher)("localStorage")},3861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(206));t.fetcher=i.default},9573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(835),o=n(2831);t.default=function(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];t="_swb";let n=(0,r.getCookie)(e,t);return n?[n]:((0,r.setCookie)(e,t,(0,o.v4)(),63072e3),n=(0,r.getCookie)(e,t),n?[n]:[])}))}},9694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(9573));t.fetcher=i.default},9528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},2193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encoding=void 0;const i=n(1635).__importDefault(n(9528));t.encoding=i.default},7029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);t.default=function(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!e||!e.location||0===e.location.search.length||0===t.length)return[];const n=e.location.search.replace(/\+/g,"%2B");return new URLSearchParams(n).getAll(t).filter((e=>"0"!==e))}))}},4334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.fetcher=void 0;const i=n(1635),r=i.__importDefault(n(7029));t.fetcher=r.default;const o=i.__importDefault(n(3091));t.structure=o.default},3091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t={},n=String(e).replace(/\+/g,"%2B");for(const[e,i]of new URLSearchParams(n).entries())t[e]=i;return t}},4774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structure=void 0;const i=n(1635).__importDefault(n(955));t.structure=i.default},955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.split(";").map((e=>e.trim().split("="))),n={};for(const[e,i]of t)n[decodeURIComponent(e)]=decodeURIComponent(i);return n}},5063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6590);t.default=(0,i.fetcher)("sessionStorage")},6944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(5063));t.fetcher=i.default},1669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);t.default=function(e){return function(t,n){return i.__awaiter(this,void 0,void 0,(function*(){if(!t||0===n.length)return[];try{const i=("localStorage"===e?t.localStorage:t.sessionStorage).getItem(n);return i&&"0"!==i?[i]:[]}catch(e){return[]}}))}}},6590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(1669));t.fetcher=i.default},164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.structure=void 0;const i=n(1635).__importDefault(n(8805));t.structure=i.default},8805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{value:e}}},1031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635),r=n(7007),o=n(8509),s=n(7111),d=n(2302),a=n(3841),c=n(3861),l=n(6944),u=n(4334),E=n(9694),_=n(164),g=n(659),p=n(7510),h=n(4334),S=n(4774),f=n(5962),T=n(2193),O=i.__importDefault(n(9207)),N=(0,n(5305).getLogger)("trait");t.default=class{constructor(e,t={}){this._emitter=new r.EventEmitter,this._w=e,this._listenerOptions=t,this._fetchers=new Map,this._attributes={}}add(e,t){let n,i;if("function"==typeof t)return void this._fetchers.set(e,(()=>t()));const r=t.format===o.TraitFormat.TRAIT_FORMAT_JWT&&t.verifierID&&t.verifierID.length>0;switch(t.format){case o.TraitFormat.TRAIT_FORMAT_JSON:n=g.structure;break;case o.TraitFormat.TRAIT_FORMAT_JWT:n=r?e=>(0,p.structure)(e,t.verifierID):p.structure;break;case o.TraitFormat.TRAIT_FORMAT_QUERY:n=h.structure;break;case o.TraitFormat.TRAIT_FORMAT_SEMICOLON:n=S.structure;break;default:n=_.structure}const O=t.key||"value";i=t.encoding===o.TraitEncoding.TRAIT_ENCODING_BASE64?f.encoding:T.encoding;const N=(e,t)=>"string"==typeof e?e:String(((e,t)=>t.split(".").reduce(((e,t)=>e&&"object"==typeof e&&t in e?e[t]:void 0),e))(e,t));switch(t.type){case o.TraitType.TRAIT_TYPE_COOKIE:this._fetchers.set(e,(e=>(0,s.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_DATA_LAYER:this._fetchers.set(e,(e=>(0,d.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_WINDOW:this._fetchers.set(e,(e=>(0,a.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_LOCAL_STORAGE:this._fetchers.set(e,(e=>(0,c.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_SESSION_STORAGE:this._fetchers.set(e,(e=>(0,l.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_QUERY_STRING:this._fetchers.set(e,(e=>(0,u.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;case o.TraitType.TRAIT_TYPE_MANAGED:this._fetchers.set(e,(e=>(0,E.fetcher)(e,t.variable).then((e=>i(e).map(n).map((e=>N(e,O)))))));break;default:throw new Error(`unsupported trait type ${t.type} for ${e}`)}}start(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!this._intervalId)return this._listenerOptions.interval&&(this._intervalId=this._w.setInterval(this.notify.bind(this),this._listenerOptions.interval),this._listenerOptions.timeout&&this._w.setTimeout(this.stop.bind(this),this._listenerOptions.timeout)),this.notify(e,t)}))}stop(){this._intervalId&&(this._w.clearInterval(this._intervalId),this._intervalId=void 0)}notify(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const n={};for(const[e,t]of this._fetchers.entries())try{const i=yield t(this._w);for(const t of i)n[e]=t}catch(t){N.warn(`failed to fetch trait for ${e}: ${t}`)}if(!(0,O.default)(n,this._attributes)||t&&0===Object.keys(this._attributes).length){const t=e||o.TraitName.IDENTITY;this._emitter.emit(t,n),this._attributes=n}}))}addListener(e,t){return this.on(e,t)}on(e,t){return this._emitter.on(e,t),this}once(e,t){return this._emitter.once(e,t),this}removeListener(e,t){return this.off(e,t)}off(e,t){return this._emitter.off(e,t),this}removeAllListeners(e){return this._emitter.removeAllListeners(e),this}}},2706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1635);t.default=function(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!e||0===t.length)return[];try{const n=function(e,t){const n=t.split(".");let i=e,r=null;for(;n.length>0;)if("window"===n[0])n.shift();else if("object"==typeof i)"()"===n[0].slice(-2)?(r=i,i=i[n[0].slice(0,-2)]):(r=i,i=i[n.shift()]);else{if("function"!=typeof i)return null;{const e=i.call(r);r=i,i=e,n.shift()}}return i&&"string"!=typeof i&&(i=i.toString(),i.startsWith("[object"))?"":i}(e,t);return n&&"0"!==n?[n]:[]}catch(e){return[]}}))}},3841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=void 0;const i=n(1635).__importDefault(n(2706));t.fetcher=i.default},5305:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLogLevel=t.getLogger=t.wrapLogger=t.getParams=t.DEFAULT_LOG_LEVEL=void 0;const r=i(n(9343));t.DEFAULT_LOG_LEVEL="warn";const o={trace:1,debug:2,info:3,warn:4,error:5,log:6},s=()=>{};function d(e=window.location.search,t=["ketch_","swb_"]){return new r.default(e,t)}function a(e,t){const n=`[${t}]`;return{trace:(...t)=>{e.trace(n,...t)},debug:(...t)=>{e.debug(n,...t)},info:(...t)=>{e.info(n,...t)},log:(...t)=>{e.log(n,...t)},warn:(...t)=>{e.warn(n,...t)},error:(...t)=>{e.error(n,...t)}}}function c(e=d()){const n=e.get("log");if(n&&n.length){const e=n.toLowerCase();if(e&&o[e])return e}else if(e.has("debug"))return"debug";return t.DEFAULT_LOG_LEVEL}t.getParams=d,t.wrapLogger=a,t.getLogger=function(e,t=c(d())){const i={log:n.g.console.log,error:n.g.console.error};t=t.toString().toLowerCase();for(const e of Object.keys(o))i[e]="log"===e||o[e]>=o[t]?"error"===e?i.error:i.log:s;return a(i,e)},t.getLogLevel=c},9343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends URLSearchParams{constructor(e,t){super(e),this._prefixes=t}delete(e){for(const t of this._prefixes)super.delete(`${t}${e}`)}get(e){for(const t of this._prefixes){const n=super.get(`${t}${e}`);if(n)return n}return null}getAll(e){for(const t of this._prefixes)if(super.has(`${t}${e}`))return super.getAll(`${t}${e}`);return[]}has(e){for(const t of this._prefixes)if(super.has(`${t}${e}`))return!0;return!1}}t.default=n},7586:(e,t)=>{"use strict";var n,i,r,o,s,d,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RelationalOperator=t.Operator=t.ConditionType=t.FormFieldVariant=t.FormFieldType=t.FormFieldCategory=t.FormFieldWidth=void 0,(a=t.FormFieldWidth||(t.FormFieldWidth={})).UNSPECIFIED="unspecified",a.HALF="half",a.FULL="full",(d=t.FormFieldCategory||(t.FormFieldCategory={})).UNSPECIFIED="unspecified",d.DEFAULT="default",d.CUSTOM="custom",(s=t.FormFieldType||(t.FormFieldType={})).UNSPECIFIED="unspecified",s.TEXT="text",s.DROPDOWN="dropdown",s.CHECKBOX="checkbox",s.FILE="file",(o=t.FormFieldVariant||(t.FormFieldVariant={})).UNSPECIFIED="unspecified",o.INPUT="input",o.TEXTAREA="textarea",(r=t.ConditionType||(t.ConditionType={})).CONDITION_TYPE_UNSPECIFIED="CONDITION_TYPE_UNSPECIFIED",r.CONDITION_TYPE_FORM_FIELD="CONDITION_TYPE_FORM_FIELD",r.CONDITION_TYPE_DATA_SUBJECT="CONDITION_TYPE_DATA_SUBJECT",r.UNRECOGNIZED="UNRECOGNIZED",(i=t.Operator||(t.Operator={})).OPERATOR_UNSPECIFIED="OPERATOR_UNSPECIFIED",i.OPERATOR_EQUALS="OPERATOR_EQUALS",i.OPERATOR_NOT_EQUALS="OPERATOR_NOT_EQUALS",i.OPERATOR_GREATER_THAN="OPERATOR_GREATER_THAN",i.OPERATOR_LESS_THAN="OPERATOR_LESS_THAN",i.OPERATOR_GREATER_THAN_OR_EQUALS="OPERATOR_GREATER_THAN_OR_EQUALS",i.OPERATOR_LESS_THAN_OR_EQUALS="OPERATOR_LESS_THAN_OR_EQUALS",i.OPERATOR_CONTAINS="OPERATOR_CONTAINS",i.OPERATOR_NOT_CONTAINS="OPERATOR_NOT_CONTAINS",i.OPERATOR_IN="OPERATOR_IN",i.OPERATOR_NOT_IN="OPERATOR_NOT_IN",i.OPERATOR_EMPTY="OPERATOR_EMPTY",i.OPERATOR_NOT_EMPTY="OPERATOR_NOT_EMPTY",i.UNRECOGNIZED="UNRECOGNIZED",(n=t.RelationalOperator||(t.RelationalOperator={})).RELATIONAL_OPERATOR_UNSPECIFIED="RELATIONAL_OPERATOR_UNSPECIFIED",n.RELATIONAL_OPERATOR_AND="RELATIONAL_OPERATOR_AND",n.RELATIONAL_OPERATOR_OR="RELATIONAL_OPERATOR_OR",n.UNRECOGNIZED="UNRECOGNIZED"},8509:(e,t,n)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FormFieldStyle=t.UnsubscribeFromAllPosition=t.SubscriptionChannelArrangementStyle=t.SubscriptionListStyle=t.ExitButtonPosition=t.ModalContainerPosition=t.BannerContainerPosition=t.BannerContainerSize=t.BannerContainerLayout=t.ListLayout=t.ItemStyle=t.BannerModalLogoPosition=t.ButtonVariant=t.SubscriptionStatus=t.RightSource=t.SubscriptionSource=t.ConsentSource=t.SubscriptionExperienceItemType=t.TraitName=t.DeploymentVersion=t.VendorStatus=t.StorageOriginPolicy=t.ExperienceActionKind=t.ModalPosition=t.BannerPosition=t.SubscriptionControlPositionType=t.SubscriptionControlImpactType=t.SwitchTextRenderLogic=t.TraitEncoding=t.TraitFormat=t.TraitType=t.IdentityEncoding=t.IdentityFormat=t.IdentityType=t.CookieCategory=t.CookieProvenance=t.CookieDuration=t.MigrationOption=t.ExperiencePrimaryButtonAction=t.ExperienceButtonDestination=t.ExperienceDefault=t.SetConsentReason=t.ExperienceClosedReason=t.ConsentExperienceType=t.ExperienceDisplayType=t.DisplayConsentExperienceType=t.DisplayExperienceType=t.ExperienceType=t.isTab=t.Tab=void 0,t.FormFieldVariant=t.FormFieldType=t.FormFieldCategory=t.FormFieldWidth=t.PreviewMessageType=t.BannerAutoDismissOverride=t.BannerDismissAnimation=t.RuleTrigger=t.ActionFunction=t.ConditionOperator=t.OperatorType=t.DeploymentExperienceType=t.ExperienceLoadingMethod=t.ConsentGateButtonAction=t.ConsentGateRequirementsNotMatchedState=t.ProgressiveExperienceButtonAction=t.ProgressiveExperiencePosition=t.ProgressiveExperienceConsentLayout=t.ProgressiveExperienceType=t.RightsFormMode=t.CanonicalRightCode=t.SubscriptionItemType=t.UnsubscribeAllImpact=t.PreferenceCenterPage=t.QuickLinkAction=t.BannerButtonAction=t.PurposeStacksMode=t.ExperienceLinkType=t.SwitchButtonDisplay=void 0,function(e){e.Overview="overviewTab",e.Rights="rightsTab",e.Consents="consentsTab",e.Subscriptions="subscriptionsTab",e.Profile="profileTab"}(i=t.Tab||(t.Tab={}));const r=Object.values(i).map((e=>e.toString()));var o,s,d,a,c,l,u,E,_,g,p,h,S,f,T,O,N,I,C,b,v,A,P,w,m,D,y,U,R,M,F,V,L,x,G,j,B,k,H,z,K,Y,W,$,X,J,q,Q,Z,ee,te,ne,ie,re,oe,se,de,ae,ce,le,ue,Ee,_e,ge,pe,he,Se,fe,Te,Oe;t.isTab=function(e){return r.includes(e)},(Oe=t.ExperienceType||(t.ExperienceType={})).Consent="experiences.consent",Oe.Preference="experiences.preference",Oe.ConsentGate="experiences.consentGate",(Te=t.DisplayExperienceType||(t.DisplayExperienceType={})).Banner="banner",Te.Modal="modal",Te.Preference="preference",Te.ConsentGate="consentGate",(fe=t.DisplayConsentExperienceType||(t.DisplayConsentExperienceType={})).Banner="banner",fe.Modal="modal",(Se=t.ExperienceDisplayType||(t.ExperienceDisplayType={})).Banner="experiencedisplays.banner",Se.Modal="experiencedisplays.modal",Se.Preference="experiencedisplays.preference",Se.ConsentGate="experiencedisplays.consentGate",Se.AgeGate="experiencedisplays.ageGate",Se.LeadCapture="experiencedisplays.leadCapture",(he=t.ConsentExperienceType||(t.ConsentExperienceType={})).Banner="experiences.consent.banner",he.Modal="experiences.consent.modal",he.JIT="experiences.consent.jit",(pe=t.ExperienceClosedReason||(t.ExperienceClosedReason={})).SET_CONSENT="setConsent",pe.INVOKE_RIGHT="invokeRight",pe.CLOSE="close",pe.CLOSE_WITHOUT_SETTING_CONSENT="closeWithoutSettingConsent",pe.WILL_NOT_SHOW="willNotShow",pe.SET_SUBSCRIPTIONS="setSubscriptions",(ge=t.SetConsentReason||(t.SetConsentReason={})).USER_UPDATE="userUpdate",ge.USER_EXPERIENCE_DISMISSAL="userExperienceDismissal",ge.DEFAULT_STATE="defaultState",(_e=t.ExperienceDefault||(t.ExperienceDefault={}))[_e.BANNER=1]="BANNER",_e[_e.MODAL=2]="MODAL",(Ee=t.ExperienceButtonDestination||(t.ExperienceButtonDestination={}))[Ee.GOTO_MODAL=1]="GOTO_MODAL",Ee[Ee.GOTO_PREFERENCE=2]="GOTO_PREFERENCE",Ee[Ee.REJECT_ALL=3]="REJECT_ALL",(ue=t.ExperiencePrimaryButtonAction||(t.ExperiencePrimaryButtonAction={}))[ue.SAVE_CURRENT_STATE=1]="SAVE_CURRENT_STATE",ue[ue.ACCEPT_ALL=2]="ACCEPT_ALL",(le=t.MigrationOption||(t.MigrationOption={}))[le.MIGRATE_DEFAULT=0]="MIGRATE_DEFAULT",le[le.MIGRATE_NEVER=1]="MIGRATE_NEVER",le[le.MIGRATE_FROM_ALLOW=2]="MIGRATE_FROM_ALLOW",le[le.MIGRATE_FROM_DENY=3]="MIGRATE_FROM_DENY",le[le.MIGRATE_ALWAYS=4]="MIGRATE_ALWAYS",(ce=t.CookieDuration||(t.CookieDuration={}))[ce.SESSION=1]="SESSION",ce[ce.PERSISTENT=2]="PERSISTENT",(ae=t.CookieProvenance||(t.CookieProvenance={}))[ae.FIRST_PARTY=1]="FIRST_PARTY",ae[ae.THIRD_PARTY=2]="THIRD_PARTY",(de=t.CookieCategory||(t.CookieCategory={}))[de.STRICTLY_NECESSARY=1]="STRICTLY_NECESSARY",de[de.FUNCTIONAL=2]="FUNCTIONAL",de[de.PERFORMANCE=3]="PERFORMANCE",de[de.MARKETING=4]="MARKETING",(se=t.IdentityType||(t.IdentityType={})).IDENTITY_TYPE_UNDEFINED="",se.IDENTITY_TYPE_DATA_LAYER="dataLayer",se.IDENTITY_TYPE_WINDOW="window",se.IDENTITY_TYPE_COOKIE="cookie",se.IDENTITY_TYPE_MANAGED="managedCookie",se.IDENTITY_TYPE_LOCAL_STORAGE="localStorage",se.IDENTITY_TYPE_SESSION_STORAGE="sessionStorage",se.IDENTITY_TYPE_QUERY_STRING="queryString",(oe=t.IdentityFormat||(t.IdentityFormat={})).IDENTITY_FORMAT_UNDEFINED="",oe.IDENTITY_FORMAT_STRING="string",oe.IDENTITY_FORMAT_JSON="json",oe.IDENTITY_FORMAT_JWT="jwt",oe.IDENTITY_FORMAT_QUERY="query",oe.IDENTITY_FORMAT_SEMICOLON="semicolon",(re=t.IdentityEncoding||(t.IdentityEncoding={})).IDENTITY_ENCODING_UNDEFINED="",re.IDENTITY_ENCODING_NONE="none",re.IDENTITY_ENCODING_BASE64="base64",(ie=t.TraitType||(t.TraitType={})).TRAIT_TYPE_UNDEFINED="",ie.TRAIT_TYPE_DATA_LAYER="dataLayer",ie.TRAIT_TYPE_WINDOW="window",ie.TRAIT_TYPE_COOKIE="cookie",ie.TRAIT_TYPE_MANAGED="managedCookie",ie.TRAIT_TYPE_LOCAL_STORAGE="localStorage",ie.TRAIT_TYPE_SESSION_STORAGE="sessionStorage",ie.TRAIT_TYPE_QUERY_STRING="queryString",(ne=t.TraitFormat||(t.TraitFormat={})).TRAIT_FORMAT_UNDEFINED="",ne.TRAIT_FORMAT_STRING="string",ne.TRAIT_FORMAT_JSON="json",ne.TRAIT_FORMAT_JWT="jwt",ne.TRAIT_FORMAT_QUERY="query",ne.TRAIT_FORMAT_SEMICOLON="semicolon",(te=t.TraitEncoding||(t.TraitEncoding={})).TRAIT_ENCODING_UNDEFINED="",te.TRAIT_ENCODING_NONE="none",te.TRAIT_ENCODING_BASE64="base64",(ee=t.SwitchTextRenderLogic||(t.SwitchTextRenderLogic={}))[ee.SWITCH_TEXT_RENDER_ALL=1]="SWITCH_TEXT_RENDER_ALL",ee[ee.SWITCH_TEXT_RENDER_LEGAL_BASIS=2]="SWITCH_TEXT_RENDER_LEGAL_BASIS",ee[ee.SWITCH_TEXT_RENDER_CHANGE=3]="SWITCH_TEXT_RENDER_CHANGE",ee[ee.SWITCH_TEXT_RENDER_NEVER=4]="SWITCH_TEXT_RENDER_NEVER",(Z=t.SubscriptionControlImpactType||(t.SubscriptionControlImpactType={}))[Z.UNSPECIFIED=0]="UNSPECIFIED",Z[Z.GLOBAL=1]="GLOBAL",Z[Z.LOCAL=2]="LOCAL",(Q=t.SubscriptionControlPositionType||(t.SubscriptionControlPositionType={}))[Q.UNSPECIFIED=0]="UNSPECIFIED",Q[Q.TOP=1]="TOP",Q[Q.BOTTOM=2]="BOTTOM",(q=t.BannerPosition||(t.BannerPosition={}))[q.BOTTOM=1]="BOTTOM",q[q.TOP=2]="TOP",q[q.BOTTOM_LEFT=3]="BOTTOM_LEFT",q[q.BOTTOM_RIGHT=4]="BOTTOM_RIGHT",(J=t.ModalPosition||(t.ModalPosition={}))[J.CENTER=1]="CENTER",J[J.LEFT_FULL_HEIGHT=2]="LEFT_FULL_HEIGHT",J[J.RIGHT_FULL_HEIGHT=3]="RIGHT_FULL_HEIGHT",(X=t.ExperienceActionKind||(t.ExperienceActionKind={}))[X.ShowExperience=0]="ShowExperience",X[X.HideExperience=1]="HideExperience",X[X.SetConsent=2]="SetConsent",X[X.SetSubscription=3]="SetSubscription",X[X.InvokeRight=4]="InvokeRight",($=t.StorageOriginPolicy||(t.StorageOriginPolicy={})).CrossOrigin="cross-origin",$.SameOrigin="same-origin,",(W=t.VendorStatus||(t.VendorStatus={})).Granted="granted",W.Denied="denied",(Y=t.DeploymentVersion||(t.DeploymentVersion={})).V1="v1",Y.V2="v2",(K=t.TraitName||(t.TraitName={})).IDENTITY="identity",K.USER_ATTRIBUTE="userAttribute",(z=t.SubscriptionExperienceItemType||(t.SubscriptionExperienceItemType={}))[z.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_UNKNOWN=0]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_UNKNOWN",z[z.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_TOPIC=1]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_TOPIC",z[z.SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_CONTROL=2]="SUBSCRIPTION_EXPERIENCE_ITEM_TYPE_CONTROL",(H=t.ConsentSource||(t.ConsentSource={})).LegalBasisDefault="legalBasisDefault",H.GpcPlugins="plugins.gpc",H.OneTrustMigrator="plugins.onetrust",H.SourcepointMigrator="plugins.sourcepoint",H.BannerSaveCurrentState="banner.saveCurrentState",H.BannerAcceptAll="banner.acceptAll",H.BannerRejectAll="banner.rejectAll",H.BannerCloseButton="banner.closeButton",H.BannerAutoDismiss="banner.autoDismiss",H.BannerAutoDismissLegalBasis="banner.autoDismissLegalBasis",H.BannerAutoDismissTrue="banner.autoDismissTrue",H.BannerAutoDismissFalse="banner.autoDismissFalse",H.BannerAutoDismissNone="banner.autoDismissNone",H.ModalAcceptAll="modal.acceptAll",H.ModalRejectAll="modal.rejectAll",H.ModalDefault="modal.default",H.ModalManual="modal.manual",H.ModalCloseButton="modal.closeButton",H.PreferenceConsentsTabAcceptAll="preference.consentsTab.acceptAll",H.PreferenceConsentsTabRejectAll="preference.consentsTab.rejectAll",H.PreferenceDefault="preference.default",H.PreferenceManual="preference.manual",H.RouterSetConsent="router.setConsent",H.ProgressiveConsent="progressive.consent",H.ConsentGate="consentGate",H.WorkflowSetPermits="workflow.setPermits",H.PushedFromID="id.pushedFromId",H.PushedToID="id.resolved",H.LateArrivingID="id.lateArriving",H.Headless="headless",H.AuditLogAcceptAll="auditLog.acceptAll",H.AuditLogRejectAll="auditLog.rejectAll",H.AuditLogDefault="auditLog.default",H.AuditLogManual="auditLog.manual",H.RouterAcceptAllConsent="router.acceptAllConsent",H.RouterRejectAllConsent="router.rejectAllConsent",H.RecollectAfterInterval="recollectAfterInterval",H.RecollectAfterDate="recollectAfterDate",H.Unknown="unknown",(k=t.SubscriptionSource||(t.SubscriptionSource={})).PreferenceSubscriptionsTabManual="preference.subscriptionsTab.manual",k.PreferenceSubscriptionsTabUnsubscribeAll="preference.subscriptionsTab.unsubscribeAll",k.ProgressiveSubscription="progressive.subscription",k.ConsentGateSubscription="consentGate.subscription",k.RouterSetSubscriptions="router.setSubscriptions",k.AuditLogSubscribeAll="auditLog.subscribeAll",k.AuditLogUnsubscribeAll="auditLog.unsubscribeAll",k.AuditLogDefault="auditLog.default",k.AuditLogManual="auditLog.manual",k.Headless="headless",k.Unknown="unknown",(B=t.RightSource||(t.RightSource={})).PreferenceRightsTabInvoke="preference.rightsTab.invoke",B.Headless="headless",(j=t.SubscriptionStatus||(t.SubscriptionStatus={})).Denied="denied",j.Granted="granted",(G=t.ButtonVariant||(t.ButtonVariant={})).Outlined="outlined",G.Contained="contained",(x=t.BannerModalLogoPosition||(t.BannerModalLogoPosition={})).Top="top",x.Left="left",(L=t.ItemStyle||(t.ItemStyle={})).Filled="filled",L.Outlined="outlined",(V=t.ListLayout||(t.ListLayout={})).Expandable="expandable",V.Cards="cards",(F=t.BannerContainerLayout||(t.BannerContainerLayout={})).Horizontal="horizontal",F.Vertical="vertical",F.Centered="centered",(M=t.BannerContainerSize||(t.BannerContainerSize={})).Standard="standard",M.Compact="compact",(R=t.BannerContainerPosition||(t.BannerContainerPosition={})).Bottom="bottom",R.Top="top",R.LeftCorner="leftCorner",R.RightCorner="rightCorner",R.BottomMiddle="bottomMiddle",R.Center="center",(U=t.ModalContainerPosition||(t.ModalContainerPosition={})).Center="center",U.Left="left",U.Right="right",(y=t.ExitButtonPosition||(t.ExitButtonPosition={})).topRight="topRight",y.bottomLeft="bottomLeft",(D=t.SubscriptionListStyle||(t.SubscriptionListStyle={})).Filled="filled",D.Underlined="underlined",(m=t.SubscriptionChannelArrangementStyle||(t.SubscriptionChannelArrangementStyle={})).Horizontal="horizontal",m.Vertical="vertical",(w=t.UnsubscribeFromAllPosition||(t.UnsubscribeFromAllPosition={})).Top="top",w.Bottom="bottom",(P=t.FormFieldStyle||(t.FormFieldStyle={})).Box="box",P.Underline="underline",(A=t.SwitchButtonDisplay||(t.SwitchButtonDisplay={})).Always="always",A.WhenLegalBasisDiffers="whenLegalBasisDiffers",(t.ExperienceLinkType||(t.ExperienceLinkType={})).Vendor="vendor",(v=t.PurposeStacksMode||(t.PurposeStacksMode={})).AlwaysOpen="alwaysOpen",v.AlwaysClosed="alwaysClosed",v.DefaultOpen="defaultOpen",v.DefaultClosed="defaultClosed",(b=t.BannerButtonAction||(t.BannerButtonAction={})).SaveCurrentState="saveCurrentState",b.AcceptAll="acceptAll",b.OpenModal="openModal",b.OpenPreferences="openPreferences",b.RejectAll="rejectAll",b.OpenURL="openURL",(C=t.QuickLinkAction||(t.QuickLinkAction={})).OpenUrl="openUrl",C.OpenPage="openPage",(I=t.PreferenceCenterPage||(t.PreferenceCenterPage={})).Welcome="welcome",I.PrivacyPolicy="privacyPolicy",I.Purpose="purpose",I.Subscriptions="subscriptions",I.RequestsHome="requestsHome",I.RequestsForm="requestsForm",I.RequestsSubmitted="requestsSubmitted",(N=t.UnsubscribeAllImpact||(t.UnsubscribeAllImpact={})).Universal="universal",N.SingleExperience="singleExperience",(O=t.SubscriptionItemType||(t.SubscriptionItemType={})).Unknown="unknown",O.Topic="topic",O.Control="control",(T=t.CanonicalRightCode||(t.CanonicalRightCode={})).Get="get",T.Delete="delete",T.Restrict="restrict",T.Update="update",(f=t.RightsFormMode||(t.RightsFormMode={})).Single="single",f.Custom="custom",(S=t.ProgressiveExperienceType||(t.ProgressiveExperienceType={})).Consent="consent",S.Subscription="subscription",(h=t.ProgressiveExperienceConsentLayout||(t.ProgressiveExperienceConsentLayout={})).ActionButtons="actionButtons",h.ToggleSwitch="toggleSwitch",(p=t.ProgressiveExperiencePosition||(t.ProgressiveExperiencePosition={})).FollowPointer="followPointer",p.Embed="embed",(g=t.ProgressiveExperienceButtonAction||(t.ProgressiveExperienceButtonAction={})).Accept="accept",g.Reject="reject",g.Dismiss="dismiss",(_=t.ConsentGateRequirementsNotMatchedState||(t.ConsentGateRequirementsNotMatchedState={})).Alert="alert",_.Redirect="redirect",(t.ConsentGateButtonAction||(t.ConsentGateButtonAction={})).AcceptChoices="acceptChoices",(E=t.ExperienceLoadingMethod||(t.ExperienceLoadingMethod={})).Initial="initial",E.Dynamic="dynamic",(u=t.DeploymentExperienceType||(t.DeploymentExperienceType={})).AutoInitiated="autoInitiated",u.UserInitiated="userInitiated",(l=t.OperatorType||(t.OperatorType={})).EQUALS="EQ",l.NOT_EQUALS="NEQ",l.GREATER_THAN="GT",l.LESS_THAN="LT",l.GREATER_THAN_OR_EQUAL="GTE",l.LESS_THAN_OR_EQUAL="LTE",l.CONTAINS="CN",l.NOT_CONTAINS="NCN",l.REGEX_MATCH_FIND="MCH",l.EXISTS="EX",l.NOT_EXISTS="NEX",l.IN="IN",l.UNKNOWN="",l.ENDS_WITH="EW",l.NOT_ENDS_WITH="NEW",(c=t.ConditionOperator||(t.ConditionOperator={})).AND="AND",c.OR="OR",c.NOT="NOT",(t.ActionFunction||(t.ActionFunction={})).SHOW_EXPERIENCE="showExperience",(a=t.RuleTrigger||(t.RuleTrigger={})).ON_LOAD="onPageLoad",a.ON_FUNCTION="onFunction",(d=t.BannerDismissAnimation||(t.BannerDismissAnimation={})).FADE="fade",d.LOWER="lower",(s=t.BannerAutoDismissOverride||(t.BannerAutoDismissOverride={})).NOTHING="none",s.LEGAL_BASIS="legalBasis",s.TRUE="true",s.FALSE="false",(o=t.PreviewMessageType||(t.PreviewMessageType={})).LoadConfig="loadConfig",o.ShowBanner="showBanner",o.ShowModal="showModal",o.ShowPreference="showPreferences",o.SwitchPreferencePage="switchPreferencePage",o.ShowConsentGate="showConsentGate",o.ShowAgeGate="showAgeGate",o.ShowLeadCapture="showLeadCapture";var Ne=n(7586);Object.defineProperty(t,"FormFieldWidth",{enumerable:!0,get:function(){return Ne.FormFieldWidth}}),Object.defineProperty(t,"FormFieldCategory",{enumerable:!0,get:function(){return Ne.FormFieldCategory}}),Object.defineProperty(t,"FormFieldType",{enumerable:!0,get:function(){return Ne.FormFieldType}}),Object.defineProperty(t,"FormFieldVariant",{enumerable:!0,get:function(){return Ne.FormFieldVariant}})},5005:(e,t,n)=>{"use strict";const{VOID:i,PRIMITIVE:r,ARRAY:o,OBJECT:s,DATE:d,REGEXP:a,MAP:c,SET:l,ERROR:u,BIGINT:E}=n(1731),_="object"==typeof self?self:globalThis;t.deserialize=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),g=p=>{if(e.has(p))return e.get(p);const[h,S]=t[p];switch(h){case r:case i:return n(S,p);case o:{const e=n([],p);for(const t of S)e.push(g(t));return e}case s:{const e=n({},p);for(const[t,n]of S)e[g(t)]=g(n);return e}case d:return n(new Date(S),p);case a:{const{source:e,flags:t}=S;return n(new RegExp(e,t),p)}case c:{const e=n(new Map,p);for(const[t,n]of S)e.set(g(t),g(n));return e}case l:{const e=n(new Set,p);for(const t of S)e.add(g(t));return e}case u:{const{name:e,message:t}=S;return n(new _[e](t),p)}case E:return n(BigInt(S),p);case"BigInt":return n(Object(BigInt(S)),p);case"ArrayBuffer":return n(new Uint8Array(S).buffer,S);case"DataView":{const{buffer:e}=new Uint8Array(S);return n(new DataView(e),S)}}return n(new _[h](S),p)};return g})(new Map,e)(0)},7678:(e,t,n)=>{"use strict";const{deserialize:i}=n(5005),{serialize:r}=n(5416);Object.defineProperty(t,"__esModule",{value:!0}).default="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?i(r(e,t)):structuredClone(e):(e,t)=>i(r(e,t)),t.deserialize=i,t.serialize=r},5416:(e,t,n)=>{"use strict";const{VOID:i,PRIMITIVE:r,ARRAY:o,OBJECT:s,DATE:d,REGEXP:a,MAP:c,SET:l,ERROR:u,BIGINT:E}=n(1731),_="",{toString:g}={},{keys:p}=Object,h=e=>{const t=typeof e;if("object"!==t||!e)return[r,t];const n=g.call(e).slice(8,-1);switch(n){case"Array":return[o,_];case"Object":return[s,_];case"Date":return[d,_];case"RegExp":return[a,_];case"Map":return[c,_];case"Set":return[l,_];case"DataView":return[o,n]}return n.includes("Array")?[o,n]:n.includes("Error")?[u,n]:[s,n]},S=([e,t])=>e===r&&("function"===t||"symbol"===t);t.serialize=(e,{json:t,lossy:n}={})=>{const u=[];return((e,t,n,u)=>{const _=(e,t)=>{const i=u.push(e)-1;return n.set(t,i),i},g=u=>{if(n.has(u))return n.get(u);let[f,T]=h(u);switch(f){case r:{let t=u;switch(T){case"bigint":f=E,t=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+T);t=null;break;case"undefined":return _([i],u)}return _([f,t],u)}case o:{if(T){let e=u;return"DataView"===T?e=new Uint8Array(u.buffer):"ArrayBuffer"===T&&(e=new Uint8Array(u)),_([T,[...e]],u)}const e=[],t=_([f,e],u);for(const t of u)e.push(g(t));return t}case s:{if(T)switch(T){case"BigInt":return _([T,u.toString()],u);case"Boolean":case"Number":case"String":return _([T,u.valueOf()],u)}if(t&&"toJSON"in u)return g(u.toJSON());const n=[],i=_([f,n],u);for(const t of p(u))!e&&S(h(u[t]))||n.push([g(t),g(u[t])]);return i}case d:return _([f,u.toISOString()],u);case a:{const{source:e,flags:t}=u;return _([f,{source:e,flags:t}],u)}case c:{const t=[],n=_([f,t],u);for(const[n,i]of u)(e||!S(h(n))&&!S(h(i)))&&t.push([g(n),g(i)]);return n}case l:{const t=[],n=_([f,t],u);for(const n of u)!e&&S(h(n))||t.push(g(n));return n}}const{message:O}=u;return _([f,{name:T,message:O}],u)};return g})(!(t||n),!!t,new Map,u)(e),u}},1731:(e,t)=>{"use strict";t.VOID=-1,t.PRIMITIVE=0,t.ARRAY=1,t.OBJECT=2,t.DATE=3,t.REGEXP=4,t.MAP=5,t.SET=6,t.ERROR=7,t.BIGINT=8},1635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>F,__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>A,__await:()=>C,__awaiter:()=>g,__classPrivateFieldGet:()=>U,__classPrivateFieldIn:()=>M,__classPrivateFieldSet:()=>R,__createBinding:()=>h,__decorate:()=>d,__disposeResources:()=>L,__esDecorate:()=>c,__exportStar:()=>S,__extends:()=>r,__generator:()=>p,__importDefault:()=>y,__importStar:()=>D,__makeTemplateObject:()=>P,__metadata:()=>_,__param:()=>a,__propKey:()=>u,__read:()=>T,__rest:()=>s,__rewriteRelativeImportExtension:()=>x,__runInitializers:()=>l,__setFunctionName:()=>E,__spread:()=>O,__spreadArray:()=>I,__spreadArrays:()=>N,__values:()=>f,default:()=>G});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function d(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(r=e[d])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){return function(n,i){t(n,i,e)}}function c(e,t,n,i,r,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var d,a=i.kind,c="getter"===a?"get":"setter"===a?"set":"value",l=!t&&e?i.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),E=!1,_=n.length-1;_>=0;_--){var g={};for(var p in i)g[p]="access"===p?{}:i[p];for(var p in i.access)g.access[p]=i.access[p];g.addInitializer=function(e){if(E)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var h=(0,n[_])("accessor"===a?{get:u.get,set:u.set}:u[c],g);if("accessor"===a){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(d=s(h.get))&&(u.get=d),(d=s(h.set))&&(u.set=d),(d=s(h.init))&&r.unshift(d)}else(d=s(h))&&("field"===a?r.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),E=!0}function l(e,t,n){for(var i=arguments.length>2,r=0;r<t.length;r++)n=i?t[r].call(e,n):t[r].call(e);return i?n:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function E(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function _(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function d(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}a((i=i.apply(e,t||[])).next())}))}function p(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=d(0),s.throw=d(1),s.return=d(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function d(d){return function(a){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&d[0]?i.return:d[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,d[1])).done)return r;switch(i=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,i=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){o=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){o.label=d[1];break}if(6===d[0]&&o.label<r[1]){o.label=r[1],r=d;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(d);break}r[2]&&o.ops.pop(),o.trys.pop();continue}d=t.call(e,o)}catch(e){d=[6,e],i=0}finally{n=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,a])}}}var h=Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function S(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(T(arguments[t]));return e}function N(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,d=o.length;s<d;s++,r++)i[r]=o[s];return i}function I(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function C(e){return this instanceof C?(this.v=e,this):new C(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),i[Symbol.asyncIterator]=function(){return this},i;function s(e,t){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||d(e,t)}))},t&&(i[e]=t(i[e])))}function d(e,t){try{(n=r[e](t)).value instanceof C?Promise.resolve(n.value.v).then(a,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function a(e){d("next",e)}function c(e){d("throw",e)}function l(e,t){e(t),o.shift(),o.length&&d(o[0][0],o[0][1])}}function v(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:C(e[i](t)),done:!1}:r?r(t):t}:r}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},m=function(e){return m=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},m(e)};function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=m(e),i=0;i<n.length;i++)"default"!==n[i]&&h(t,e,n[i]);return w(t,e),t}function y(e){return e&&e.__esModule?e:{default:e}}function U(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function R(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function F(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(r=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var V="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function L(e){function t(t){e.error=e.hasError?new V(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,i=0;return function r(){for(;n=e.stack.pop();)try{if(!n.async&&1===i)return i=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(r,(function(e){return t(e),r()}))}else i|=1}catch(e){t(e)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function x(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,i,r,o){return n?t?".jsx":".js":!i||r&&o?i+r+"."+o.toLowerCase()+"js":e})):e}const G={__extends:r,__assign:o,__rest:s,__decorate:d,__param:a,__esDecorate:c,__runInitializers:l,__propKey:u,__setFunctionName:E,__metadata:_,__awaiter:g,__generator:p,__createBinding:h,__exportStar:S,__values:f,__read:T,__spread:O,__spreadArrays:N,__spreadArray:I,__await:C,__asyncGenerator:b,__asyncDelegator:v,__asyncValues:A,__makeTemplateObject:P,__importStar:D,__importDefault:y,__classPrivateFieldGet:U,__classPrivateFieldSet:R,__classPrivateFieldIn:M,__addDisposableResource:F,__disposeResources:L,__rewriteRelativeImportExtension:x}},8163:e=>{"use strict";e.exports={version:"0.0.0"}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=n(1635),t=n(549),i=e.__importDefault(n(5307));window.semaphore=window.semaphore||[],window.semaphore.push(["registerPlugin",i.default]),(0,t.boot)()})()})();