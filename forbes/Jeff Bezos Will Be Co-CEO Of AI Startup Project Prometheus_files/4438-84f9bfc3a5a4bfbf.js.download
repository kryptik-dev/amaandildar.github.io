(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4438],{39150:function(e,t,r){"use strict";r.d(t,{BO:function(){return s},tq:function(){return l}});let n=(e,t)=>{t?.classList.toggle(e)};function i(e,t=!1,r=!1){let n=`${e} `;return t&&(n=".gallery-info__section"),n=n.concat(`${r?".truncate-text":".expand-text"}`)}function s(e,t,r,s=!1){let l=document.querySelector(e);if(l&&l.querySelector(".expandable")){let e=l.querySelector(r),o=l.querySelector(t);[i(r,s,!0),i(t,s,!1)].forEach((e,t)=>{document.querySelectorAll(e).forEach(e=>{e.setAttribute("data-ga-track",`${!0===s?"Galleries ":""}Caption - ${0===t?"Expand":"Reduce"}`)})}),[o,e].forEach(t=>{t.hasAttribute("clickable")||(t.addEventListener("click",()=>{n("hidden",o),n("hidden",e)}),t.setAttribute("clickable",""))})}}function l(e){return e.right>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.top<(window.innerHeight||document.documentElement.clientHeight)}},60884:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(52322),i=r(2784),s=r(12524),l=r.n(s),o=r(19185),a=r(49703),c=r(39150),u=e=>{let[t,r]=(0,i.useState)(!1),[n,s]=(0,i.useState)(!1),{adsLoaded:l}=(0,a.R)();return(0,i.useEffect)(()=>{if(!e?.current||!l)return;let t=e.current,n=e=>(0,c.tq)(e.getBoundingClientRect()),i=(e,t)=>{let i=e&&!n(t);r(i),s(!i)},o=t?.querySelector("fbs-ad")||(t?.tagName==="FBS-AD"?t:null);if(!o)return;let a=e=>{let{detail:r}=e,n=r?.size||[],s=r?.isEmpty,l=1===n[0]&&1===n[1];i(s||l,t)};return o.addEventListener("render",a),()=>{o.removeEventListener("render",a)}},[e,l]),{shouldCollapseAd:t,shouldShowLabel:n}},d=r(8823),f=r.n(d),p=(0,i.forwardRef)(({children:e,className:t,fbsAdRef:r,...i})=>{let{shouldCollapseAd:s,shouldShowLabel:a}=u(r);return(0,n.jsx)(o.Z,{className:l()({[f().collapsed]:s},t),showLabel:a,ref:r,...i,children:e})})},29651:function(e,t,r){"use strict";r.d(t,{j:function(){return O},Z:function(){return N}});var n=r(52322),i=r(2784),s=r(12524),l=r.n(s),o=r(13980),a=r.n(o),c=r(53407),u=r(30273),d=r.n(u),f=r(37657),p=r(25563),h=r(35007);let v=e=>({width:400,height:e?225:300}),y=()=>({width:300,height:169}),b=(e,t)=>{let{width:r,height:n}=window.innerWidth<1024?y():v(t),{width:i,height:s}=e.getSize()||{};(i!==r||s!==n)&&e.setSize({width:r,height:n})};var m=r(21991),g=r(84579),E=r(52018),S=r(51724);let w=()=>!!window.fbsCampaignService;var x=()=>{let{data:{swimLane:e,specialSlot:t,isE2E:r}}=(0,m.f)(),{hasDeclinedCookies:n}=(0,g.S)(),s=!e&&!t&&!r&&!n,[l,o]=(0,i.useState)(w()),[a,c]=(0,i.useState)(!s),[u,d]=(0,i.useState)(null),[p,h]=(0,i.useState)(!1),{adsLoaded:v}=(0,f.Z)(),{isInArticleContext:y,isPaywallVerified:b}=(0,S.$Y)();(0,i.useEffect)(()=>{if(w()){o(!0);return}let e=setInterval(()=>{w()&&(o(!0),clearInterval(e))},100);return()=>clearInterval(e)},[]);let x=(0,i.useCallback)(e=>(0,E.fireGAEvent)({eventCategory:"Connatix Video Player",eventAction:"MountingRightRailPlayer",eventLabel:e}),[]);return(0,i.useEffect)(()=>{if(v&&(!y||b)&&l){if(!s){x("NOSCH");return}window.fbsCampaignService.getGAMCampaignVideo().then(({id:e,showAds:t})=>{e?(x(`SCH-${e}`),d(e),h(!t)):x("SCHERROR-OTHER")}).catch(e=>x(e.label)).finally(()=>{c(!0)})}},[s,v,b,l,x,y]),{campaignReady:a,campaignVideoId:u,disableAds:p}},L=r(43402);let C=({article:e})=>{if(!e)return!1;let{channelSectionMappings:t,primaryChannel:{channelId:r,sectionId:n}}=e;return t.some(e=>e.id===r+n&&e.sponsored)};var k=({videoWrapperRef:e,onStickyClose:t,playerType:r,videos:n})=>{let{currentArticle:{article:s}}=(0,L.e)(),{campaignVideoId:l,disableAds:o,campaignReady:a}=x(),c="right-rail"===r,u=!c&&"rtb-video"!==r,{adsLoaded:d,fbsAds:v}=(0,f.Z)(),{isInArticleContext:y,data:m,isPaywallVerified:E}=(0,S.$Y)(),{headerHeight:w}=(0,p.l)(),[k,A]=(0,i.useState)("LOADING VIDEO PLAYER..."),[R,j]=(0,i.useState)(!1),[O,I]=(0,i.useState)(!1),[T,N]=(0,i.useState)(!1),[B,P]=(0,i.useState)(!1),{hasDeclinedCookies:Z}=(0,g.S)(),q=v?.adUnitPath.replace(/\b(fdc\.forbes|fdcmobile)\b/g,"fdcvideo"),H=(0,i.useRef)(),V=T&&!B&&!Z&&y,F=d&&a&&(!y||E),{relativeVideos:D,blogType:M}=s??{relativeVideos:n},W=(0,h.Z)(D?.[0]?.keyValues,M,"vid-lr"),$=C(m);(0,i.useEffect)(()=>{if(!F||!H.current)return;let e=H.current,r=()=>{P(!0),t&&t()};return e.addEventListener("MediaListCompleted",r),()=>{e.removeEventListener("MediaListCompleted",r)}},[t,F]),(0,i.useEffect)(()=>{if(!e.current)return;let t=e.current,r=new IntersectionObserver(([e])=>{N(e.isIntersecting)},{root:t.parentElement,rootMargin:"-1px 0px 0px 0px",threshold:1});return r.observe(t),()=>{r.unobserve(t)}},[e]),(0,i.useEffect)(()=>{if(O&&H.current&&c){if(V){setTimeout(()=>b(H.current,V),200);return}b(H.current,V)}},[c,V,O]),(0,i.useEffect)(()=>{let e=H.current;if(!e)return;let t=()=>{I(!0),A("FORBES’ VIDEO WILL PLAY AFTER THIS AD")},r=e=>{let{videoTitle:t}=e?.detail||{};I(!0),j(!0),A(t?`NOW PLAYING: ${t}`:"FORBES VIDEO")};return e.addEventListener("ad-started",t),e.addEventListener("play",r),()=>{e.removeEventListener("ad-started",t),e.removeEventListener("play",r)}},[H,F]),(0,i.useEffect)(()=>{if(!H.current||!c)return;let e=()=>b(H.current,V);return window.addEventListener("resize",e,{passive:!0}),()=>{window.removeEventListener("resize",e)}},[H,F,V,c]);let _=(0,i.useCallback)(()=>{P(!0),t&&t(),H.current&&H.current.pause()},[t,H]);(0,i.useEffect)(()=>{let e=H.current?.querySelector("cnx-lit-ui-template")?.shadowRoot?.querySelector("cnx-ui-grid cnx-top-bar div");e&&(e.style.marginRight=V?"25px":"auto")},[V]);let z=window.innerWidth>=1024?"4/3":"16/9";return{ready:F,videoIds:[...l?[{videoId:l}]:[],...D||[]].map(e=>e.videoId).slice(0,3).join(","),aspectRatio:z,disableAds:o||$,adUnitPath:q,keyValues:W,messageAbovePlayer:k,fbsVideoRef:H,videoWrapperRef:e,playerStarted:O,isSticky:V,stickyOffset:(w||0)-31,closeButtonOnClick:_,isStickyClosed:B,isRightRailPlayer:c,noLayoutElements:u,closeButtonVisible:R}},A=r(33410),R=r.n(A);let j=({onClick:e})=>(0,n.jsx)("button",{"aria-label":"Close",className:R().closeButton,type:"button",onClick:e,children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"})})});j.propTypes={onClick:a().func.isRequired};let O="rightRailVideoContainer",I=(0,i.forwardRef)(({onStickyClose:e,playerType:t="right-rail",videos:r},i)=>{let{ready:s,videoIds:o,aspectRatio:a,disableAds:c,adUnitPath:u,keyValues:f,messageAbovePlayer:p,fbsVideoRef:h,playerStarted:v,isSticky:y,stickyOffset:b,closeButtonOnClick:m,isStickyClosed:E,isRightRailPlayer:S,noLayoutElements:w,closeButtonVisible:x}=k({onStickyClose:e,videoWrapperRef:i,playerType:t,videos:r}),{hasDeclinedCookies:L}=(0,g.S)(),C=s&&(0,n.jsx)("fbs-video",{ref:h,"video-id-list":o,"player-type":t,autoplay:!0,...S?{}:{autoplayInView:!0},muted:!0,"hide-thumbnail":!0,"aspect-ratio":a,"key-value-string":f,"ad-unit-path":u,"ads-disabled":c||void 0});return w?C:(0,n.jsxs)("div",{className:l()(d().videoContainerWrapper,{[d().isSticky]:y,[d().nonSticky]:E||L,[d().playerStarted]:v}),style:{top:E||L?void 0:b},ref:i,children:[(0,n.jsx)("span",{className:d().textAbovePlayer,children:!L&&p}),(0,n.jsxs)("div",{className:d().videoContainer,children:[s&&y&&x&&(0,n.jsx)(j,{onClick:m}),C]}),(0,n.jsx)("span",{className:d().textBelowPlayer,children:"FORBES’ FEATURED Video"})]})});I.propTypes={playerType:a().string,onStickyClose:a().func,videos:a().arrayOf(a().object)};let T=({onStickyClose:e,playerType:t,videos:r})=>(0,n.jsx)(c.Z,{name:O,children:(0,n.jsx)(I,{onStickyClose:e,playerType:t,videos:r})});T.propTypes={playerType:a().string,onStickyClose:a().func,videos:a().arrayOf(a().object)};var N=T},54438:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(52322),i=r(2784),s=r(13980),l=r.n(s),o=r(12524),a=r.n(o),c=r(53407),u=r(16385),d=r(21991),f=r(49703),p=r(22924),h=r(5083),v=r.n(h),y=e=>t=>{e.forEach(e=>{e&&(e.current=t)})},b=r(89741);let m=({className:e,fbsAdRef:t,shouldRenderFbsAd:r=!0,showCloseButton:s=!1})=>{let{data:{isMobile:l}}=(0,d.f)(),{adsLoaded:o,isMobileStickyAdDisplayed:h,setIsMobileStickyAdDisplayed:b}=(0,f.R)(),[m,g]=(0,i.useState)(!1),E=(0,i.useRef)(null);return((0,p.Z)({fbsAdRef:E,callBackOnRender:e=>{let{detail:{size:t,isEmpty:r}}=e;g(0===(t||[])[0]),b(!r)}}),(0,i.useEffect)(()=>{let e;let t=()=>{e&&clearTimeout(e),E&&E?.current&&(e=setTimeout(()=>{E.current.destroyAd(),E.current.recallAd()},1500))};return window.addEventListener("articleSwitched",t),()=>{window.removeEventListener("articleSwitched",t),e&&clearTimeout(e)}},[]),l&&o)?(0,n.jsx)(c.Z,{name:"stickyAd",children:(0,n.jsx)(u.Z,{className:a()(v().stickyAd,e),visible:h,showLabel:!1,showCloseButton:m||s,children:r&&(0,n.jsx)("fbs-ad",{"fire-render-on-refresh":!0,position:"mobile","ad-id":"mobile-sticky",ref:y([E,t])})})}):null};m.propTypes={className:l().string,fbsAdRef:b.S,shouldRenderFbsAd:l().bool,showCloseButton:l().bool};var g=m},19030:function(e,t,r){"use strict";var n=r(52322);r(2784);var i=r(16234),s=r(13980),l=r.n(s),o=r(12524),a=r.n(o),c=r(25563),u=r(24872),d=r.n(u),f=r(49703);let p=({carouselOptions:e,shouldStick:t,expectedAdHeight:r,expectedAdHeightRenderCallback:s,shouldRenderFbsAd:l=!0,style:o,className:u,stickyPositionLogic:p,adId:h})=>{let{label:v,labelColor:y,carouselItems:b,showCarousel:m,adPosition:g="top"}=e,{headerHeight:E}=(0,c.l)(),{adsLoaded:S}=(0,f.R)();return(0,n.jsx)(i.ZP,{className:a()(u,{[d().topAd]:t}),style:o,stickyPositionLogic:p,adPosition:g,showCarousel:m,carouselItems:b,label:v,labelColor:y,shouldStick:t,stickyTimeout:5,stickyTopOffset:E,expectedAdHeight:r,expectedAdHeightRenderCallback:s,children:l&&S&&(0,n.jsx)("fbs-ad",{position:"top","ad-id":h})})};p.propTypes={shouldRenderFbsAd:l().bool,carouselOptions:l().shape({label:l().string,labelColor:l().string,showCarousel:l().bool,carouselItems:l().array,adPosition:l().string}).isRequired,shouldStick:l().bool,expectedAdHeight:l().number,expectedAdHeightRenderCallback:l().func,style:l().shape({top:l().number}),className:l().string,stickyPositionLogic:l().string,adId:l().string},t.Z=p},22924:function(e,t,r){"use strict";var n=r(2784),i=r(49703);t.Z=({fbsAdRef:e,callBackOnRender:t})=>{let{adsLoaded:r}=(0,i.R)();(0,n.useEffect)(()=>{if(!e.current||!r)return;let n=e.current;return n.addEventListener("render",t),()=>{n.removeEventListener("render",t)}},[e,r,t])}},89741:function(e,t,r){"use strict";r.d(t,{S:function(){return l}});var n=r(13980),i=r.n(n);let s="undefined"==typeof Element?()=>{}:Element,l=i().shape({current:i().instanceOf(s)})},8823:function(e){e.exports={collapsed:"wgMUf"}},30273:function(e){e.exports={videoContainerWrapper:"Ud_Fz",nonSticky:"FIZKt",isSticky:"KLLux",videoContainer:"bPipH",playerStarted:"tS7VO",textBelowPlayer:"WiQgo",textAbovePlayer:"GoDXB"}},33410:function(e){e.exports={closeButton:"MU3_7"}},5083:function(e){e.exports={stickyAd:"mUnMc"}},24872:function(e){e.exports={topAd:"DlCaB"}}}]);