/*! For license information please see nextJS-87e3ce8098cfbbc19e3b.js.LICENSE.txt */
(()=>{var __webpack_modules__={30345:(e,t,n)=>{"use strict";n.d(t,{fw:()=>w});var r=n(84456);const i="3038";class o{get apstag(){return window.apstag}init(e,t){this.initAmazon(e,t),this.subscribeToRemoveTargeting()}fetchBids(e){return new Promise((t,n)=>{(e||[]).length&&this.apstag?this.apstag.fetchBids({slots:e,timeout:2e3},e=>{t(e)}):t([])})}resetAmazonSlots(){}initAmazon(e,t){var n;window.apstagDEBUG={testBidTimeout:90},this.amazonSetup();const r=(null===(n=document.querySelector('link[rel="canonical"]'))||void 0===n?void 0:n.getAttribute("href"))||window.location.href,o={pubID:i,adServer:"googletag",videoServer:"DFP",signals:{ortb2:{site:{page:r,publisher:{id:"d0f8bcd8-7763-43a3-8e1c-45aa811771a5"}}}}};e&&(o.params={si_pageview:e}),t&&(o.useSafeFrames=!0),this.apstag.init(o)}amazonSetup(){if(window.apstag)return;const e=document.createElement("script");e.async=!0,e.src=`https://config.aps.amazon-adsystem.com/configs/${i}`,e.setAttribute("fetchpriority","high"),document.head.appendChild(e),(0,r.loadScript)("//client.aps.amazon-adsystem.com/publisher.js",()=>{console.warn("Amazon APS script loaded.")}),function(){const e=((e=i)=>{window._aps=window._aps||new Map,window._aps.has(e)||window._aps.set(e,{queue:[],store:new Map([["listeners",new Map]])});let t={accountID:e,record:function(e,t){return new Promise((n,r)=>{window._aps.get(this.accountID).queue.push(new CustomEvent(e,{detail:Object.assign(Object.assign({},t),{resolve:n,reject:r})}))})},read:function(e){return this.record("bootstrap/store/willRead",{name:e}),window._aps.get(this.accountID).store.get(e)},run:function(e,t){var n;(null===(n=window._aps.get("_system"))||void 0===n?void 0:n.store.get("listeners").has(e))?this.record(e,t):this.record("bootstrap/run/willDrop",{name:e,detail:t})},react:function(e,t){window._aps.get(this.accountID).store.get("listeners").set(e,t),this.record("bootstrap/react/didExecute",{name:e})}};return t.record("bootstrap/version/declare",{version:5}),t})();((t=e)=>{window.apstag=window.apstag||{init:function(e,n){t.record("legacy/init/enqueue",{config:e,callback:n})},fetchBids:function(e,n){t.record("legacy/fetchBids/enqueue",{bidConfig:e,callback:n})},setDisplayBids:function(){t.run("legacy/setDisplayBids/enqueue",{arguments})},targetingKeys:function(){var e;return null!==(e=t.read("legacy/targetingKeys"))&&void 0!==e?e:[]},rpa:function(e,n,r){t.record("legacy/rpa/enqueue",{tokenConfig:e,callback:n,setCookie:r})},upa:function(e,n,r){t.record("legacy/upa/enqueue",{tokenConfig:e,callback:n,setCookie:r})},dpa:function(e){t.record("legacy/dpa/enqueue",{callback:e})}},t.record("bootstrapExtAPStag/version/declare",{version:1})})(),((t=e)=>{window.apstag=Object.assign(Object.assign({},window.apstag),{queue:{push:function(e){t.record("legacy/queue/push",{callback:e})}}}),t.record("bootstrapExtQueue/version/declare",{version:1})})(),((t=e)=>{window.apstag=Object.assign(Object.assign({},window.apstag),{nativeContent:function(){return{enable:function(){t.record("nativeCommerceAds/service/enable",{})},registerHook:function(e,n){if("nativeCommerceAds.updateClickUrl"!==e)throw new Error("Unsupported event type");t.react("nativeCommerceAds/clickUrl/update",e=>{var t,r;return{status:"completed",value:{url:n(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.url,null===(r=null==e?void 0:e.detail)||void 0===r?void 0:r.element)}}})}}}}),t.record("bootstrapExtNCA/version/declare",{version:1})})()}()}setAmazonTargeting(e,t){const n=(e.getTargeting("pos")||[])[0];t&&t.filter(e=>e&&e.slotID===n).forEach(n=>{((n.helpers||{}).targetingKeys||[]).forEach(t=>{e.setTargeting(t,n.targeting[t])}),t.splice(t.indexOf(n),1)})}subscribeToRemoveTargeting(){document.addEventListener("fbs-ad-render",e=>{const t=e.detail;this.apstag&&this.apstag.targetingKeys&&"function"==typeof this.apstag.targetingKeys&&this.apstag.targetingKeys().forEach(function(e){t.slot.clearTargeting(e)})})}}class s{init(){return this.loadCriteo()}fetchBids(e){try{this.criteo.events.push(()=>{this.criteo.RequestBidsOnGoogleTagSlots({networkId:7525,placements:e,callback:()=>{this.criteo.SetDFPKeyValueTargeting()}})})}catch(e){return void console.error(e)}}loadCriteo(){return new Promise((e,t)=>{(0,r.loadScript)("https://static.criteo.net/js/ld/publishertag.js",()=>{this.criteo=window.Criteo=window.Criteo||{},this.criteo.events=this.criteo.events||[],e()})})}}class a{constructor(){this.apiReady=!1}}var c=n(14239);class l{constructor(e){this.enabled=!1,this.queue=[],this.googletag=e}push(e){this.queue.push(e),this.enabled&&this.flush()}pushFirst(e){this.queue.unshift(e),this.enabled&&this.flush()}flush(){for(;this.queue.length;)this.googletag.cmd.push(this.queue.shift())}enable(){this.enabled=!0,this.flush()}disable(){this.enabled=!1}}const d={mobile:!1,ad_unit_path:"7175/fdc.forbes/article/standard/default/standard",positions:{top:{slot_id:"top",sizes:[[728,90],[970,250],[970,90],[970,66],[1,1],"fluid"],criteoZoneId:1168047},rec:{slot_id:"rec",sizes:[[300,250],[300,600],[1,1],"fluid"],criteoZoneId:1168043},mobile:{slot_id:"mobile",sizes:[[300,50],[320,50],[1,1]],params:{hero:!0}},mobilerec:{slot_id:"mobilerec",sizes:[[300,250],[300,50],[320,180],[320,50],[1,1]]}},params:{},isEurope:!1};class u{constructor(){this.channel="",this.section=""}init(e){const{params:{channel:t=[],section:n=[]}={}}=e,r=navigator.userAgent,i=r.match(/Android/i)&&r.match(/Mobile/i),o=r.match(/Nokia|NOKIA/i)&&r.match(/Symbian|Windows Phone/i),s=r.match(/iP(hone|od)/i)||r.match(/iPod/i)||r.match(/BlackBerry/i)||i||o;this.loadMedianet(!!s),this.setChannelSection({channel:t,section:n})}setChannelSection(e){const{channel:t,section:n}=e;this.channel=(t||[]).join(","),this.section=(n||[]).map(e=>e.split(":")[1]).join(","),this.applyConfig({channel:this.channel,section:this.section})}applyConfig(e){e&&(this.data=e||this.data,window.mnjs=window.mnjs||{},window.mnjs.channel=e.channel||this.channel,window.mnjs.section=e.section||this.section)}loadMedianet(e){if(!(window.forbes||{}).fastFetchMedianet){window.mnjs=window.mnjs||{customerId:e?"8CU243I76":"8CU4ZAPFY",domain:window.location.hostname,version:1};var t="https://warp.media.net/js/tags/clientag.js?cid="+window.mnjs.customerId+"&dn="+window.mnjs.domain+"&version="+window.mnjs.version;(0,r.loadScript)(t)}}}var h=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};class p{init(){return h(this,void 0,void 0,function*(){return Promise.resolve()})}fetchMediaNetBids(e){return h(this,arguments,void 0,function*({adUnitPath:e,isAccompanying:t}){return new Promise(n=>{const r=e=>{if(e&&e.length>0){const t=new URL(e);n(t.searchParams.get("cust_params")||"")}else n("")},i=t?"HB Video2":"HB Video";window.mnjs=window.mnjs||{},window.mnjs.que=window.mnjs.que||[],window.mnjs.que.push(()=>{window.mnjs.requestVideoBids(Object.assign({id:i,callback:r},!!e&&{adUnitPath:e}))})})})}}class f{static getDomain(e){return e?e.replace(/http(s)?:\/\//,"").split("/")[0]:""}}var m=n(60182);const g={google:"goog-o","news.google":"goog-news","news.url.google":"goog-news",bing:"bing-o","search.yahoo":"yaho-o",yahoo:"yaho-ref",facebook:"fb","m.facebook":"fb",linkedin:"li",twitter:"twtr","mobile.twitter":"twtr"};class w extends a{get adUnitPath(){return this._config.ad_unit_path}constructor(){super(),this.googletag=window.googletag=window.googletag||{cmd:[]},this.googleTagProxy=new l(this.googletag),this._config=d,this.initialized=!1,this.adSlots=new Map,this.adCounts={},this.simba=!1,this.trackingService=window.trackingService||new m.FbsTrackingService,this.bids=[],this.medianetService=new u,this.medianetVideoService=new p,this.amazonBiddingService=new o,this.criteoBiddingService=new s,this.simba=!!(navigator.userAgent||"").match(/iPhone OS 13.*? Safari/g)&&-1===(navigator.userAgent||"").indexOf("CriOS")}bootstrap(e){if(!e||"disapproved"===this.trackingService.getConsentState())return;const t=this.trackingService.getConsentState();if("disapproved"===t||"waiting"===t)return;this.loadBomboraTag(),this.apiReady=!0,e&&(this.medianetService.init(e),e.mobile||this.criteoBiddingService.init());const n=e&&this.getShoppingInsightsGroup(e.params||{}),i=e.mobile&&!!e.ad_unit_path.match(/article(-delta-[B-Zb-z])?/g);this.amazonBiddingService.init(n,i),(0,r.loadScript)("//cdn.adsafeprotected.com/iasPET.1.js",()=>{console.warn("integral script already loaded")}),e&&this.applyConfig(e),this.loadGoogletag(),this.loadDoubleVerify(),this.setup(),c.H.mark("Service Bootstrap")}setup(){this.setEventListeners();const e=new CustomEvent("FbsAdsBootstrapped");document.dispatchEvent(e),this.enableAds()}isSafari(){const{vendor:e=""}=navigator||{};return(e.match(/[Aa]+pple/g)||[]).length>0}getiOSVersion(){const{appVersion:e=""}=navigator||{},t=e.match(/OS (\d+_\d+)/i);return(t||[])[1]?+t[1].replace("_","."):0}applyConfig(e){const t=Object.assign({},e),n=Object.assign({},this._config);n.positions=Object.assign({},n.positions,t.positions),n.ad_unit_path=t.ad_unit_path||this.adUnitPath,n.mobile=t.mobile||n.mobile,t.params=t.params||{},t.params.src=this.getTargetingSource(),this._config=Object.assign({},t,n),this._config.params=Object.assign({},t.params||{},n.params||{}),this._config.mobile&&this._config.ad_unit_path.match(/article(-delta-[B-Zb-z])?/g)&&(this.simba&&(this._config.positions.mobile.params.hero=!1),this.isSafari()&&this.getiOSVersion()>=12&&this._config.positions.mobilerec.sizes.push([350,500])),this.applyTargeting(t.params);const{params:{channel:r=[],section:i=[]}}=t;this.medianetService.setChannelSection({channel:r,section:i}),this.fetchAmazonBids(e.amazonSlots).then(e=>{this.bids=e})}initMediaNetVideoBidding(){return this.medianetVideoService.init()}fetchMediaNetVideoBids(e){return this.medianetVideoService.fetchMediaNetBids(e||{})}fetchAmazonBids(e){return this.amazonBiddingService.fetchBids(e)}fetchCriteoBids(e){return this.criteoBiddingService.fetchBids(e)}enableAds(){setTimeout(()=>{this.googleTagProxy.pushFirst(()=>{if(this._config.single_request&&(this.googletag.pubads().enableSingleRequest(),this.googletag.pubads().disableInitialLoad()),this._config.safe_frame&&this.googletag.pubads().setSafeFrameConfig({sandbox:!0}),this._config.mobile&&this.simba&&this._config.ad_unit_path.match(/article(-delta-[B-Zb-z])?/g)&&this.googletag.pubads().setForceSafeFrame(!0),(this._config.params||{}).fvid&&this.googletag.pubads().setPublisherProvidedId(this._config.params.fvid),this.setProductTaxonomyTargeting(),this.googletag.pubads().enableAsyncRendering(),this.googletag.pubads().collapseEmptyDivs(),c.H.mark("Enable Services"),this.googletag.enableServices(),this._config.enable_newrelic_tracker)if(window.nrvideo)window.nrvideo.GooglePublisherTagTracker.init();else{const e=window.setInterval(()=>{window.nrvideo&&(window.nrvideo.GooglePublisherTagTracker.init(),clearInterval(e))},100);window.setTimeout(()=>{clearInterval(e)},1e4)}}),this.googleTagProxy.enable()},100)}createSlot(e,t,n,r,i,o){const s=this.getPosition(e),a=(t||s.slot_id||"").replace(/-\d+$/,"");s.incremental&&!r&&this.incrementAd(a);const l=this.adCounts[a];t=r||this.getDivId(s.slot_id,t),this.adSlots.get(t)||this.googleTagProxy.push(()=>{let e;c.H.mark(`Created ${t}`);try{e=this.googletag.defineSlot(s.ad_unit_path||this.adUnitPath,[...s.sizes,...i||[]],t),e.setForceSafeFrame(!0),(["scheduler","ntv-contentm","ntv-contentd"].includes(t)||o||this._config.mobile)&&e.setForceSafeFrame(!1)}catch(e){return}if(!e)return;this.adSlots.set(t,e.setTargeting("pos",s.slot_id).setTargeting("slotId",t).addService(this.googletag.pubads())),s.criteoZoneId&&this.fetchCriteoBids([e]);const r=Array.from(this.adSlots.keys()),a=new CustomEvent("fbs-ad-slots",{detail:r});if(document.dispatchEvent(a),this.amazonBiddingService.setAmazonTargeting(e,this.bids),function(e){const t=window.__iasPET||{};t.queue=t.queue||[],t.pubId="930392";const n=e.getSizes().map(function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]}),r=[{adSlotId:e.getSlotElementId(),adUnitPath:e.getAdUnitPath(),size:n}];t.queue.push({adSlots:r,dataHandler:function(t){if(t){const n=window.googletag=window.googletag||{cmd:[]},r=JSON.parse(t);Object.keys(r).map(t=>{const i=r[t];"slots"===t?Object.keys(i).forEach(t=>{e.setTargeting("iasId",i[t].id)}):"fr"===t?n.pubads().setTargeting(t,r[t]):Object.keys(i).forEach(e=>{n.pubads().setTargeting(e,i[e])})})}}})}(e),this.applyTargeting(s.params,this.adSlots.get(t)),s.incremental&&this.adSlots.get(t).setTargeting(s.slot_id,l.toString()),["top","rec","mobilerec"].indexOf(s.slot_id)>-1){const e="mobilerec"===s.slot_id?"mobilex":`${s.slot_id}x`;this.adSlots.get(t).setTargeting(e,"0")}this._config.mobile||this.googletag.pubads().setTargeting("adcount",Array.from(this.adSlots.keys()).filter(e=>-1===e.indexOf("ntv")).length.toString()),n&&n.split(",").forEach(e=>{const n=e.split(":");this.adSlots.get(t).setTargeting(n[0]||"",n[1]||"")}),this._config.single_request&&(this.googletag.pubads().enableSingleRequest(),this.googletag.pubads().disableInitialLoad()),this.googletag.enableServices()})}checkPerformance(){const e=[];return performance.getEntriesByType("mark").forEach(t=>{e.push([t.name,t.startTime])}),console.table(e),e}display(e){this.googleTagProxy.push(()=>{setTimeout(()=>{c.H.mark(`Called ${e}`),this.googletag.display(e),this._config.single_request&&this.refresh(e)})})}displayBatch(e){const t=e.map(e=>this.adSlots.get(e));this.googleTagProxy.push(()=>{setTimeout(()=>{this.googletag.pubads().refresh(t,{changeCorrelator:!1})})}),e.forEach(e=>{document.querySelector(`[ad-id=${e}]`).setAttribute("display-called","")})}refresh(e){return new Promise(t=>{this.googleTagProxy.push(()=>{const n=this.adSlots.get(e);t(this.googletag.pubads().refresh([n],{changeCorrelator:!1}))})})}destroySlots(e){const t=this.adSlots.get(e);this.adSlots.delete(e),this.googleTagProxy.push(()=>this.googletag.destroySlots([t]))}resetIncrements(e){this.adCounts[e]=0}getPosition(e){if(!this._config.positions[e])throw new Error(`The position ${e} was not defined in the config.\r\nPlease use another position or define it.`);return this._config.positions[e]}getSite(){return this.adUnitPath.split("/")[2]}getZone(){const e=this.adUnitPath.split("/");return e.splice(0,3),e.join("/")}isIncremental(e){return this.getPosition(e).incremental}getDivId(e,t){const n=this.getPosition(e);return t=t||n.ad_id||n.slot_id,!this.isIncremental(e)||t.match(/-\d+$/)?t:`${t}-${this.adCounts[t]}`}getSlotId(e){return this.getPosition(e).slot_id}getSizes(e){try{return this.getPosition(e).sizes}catch(e){return console.error(e.stack),[[0,0]]}}getMaxWidth(e){let t=0;return this.getSizes(e).forEach(e=>{Array.isArray(e)&&(t=e[0]>t?e[0]:t)}),t}getMaxHeight(e){let t=0;return this.getSizes(e).forEach(e=>{Array.isArray(e)&&(t=e[1]>t?e[1]:t)}),t}getMaxSize(e){return[this.getMaxWidth(e),this.getMaxHeight(e)]}getTargeting(e){return new Promise(t=>{this.googleTagProxy.push(()=>{t(this.googletag.pubads().getTargeting(e))})})}getPageTargeting(){return new Promise(e=>{this.googleTagProxy.push(()=>{const t=this.googletag.pubads().getTargetingKeys().reduce((e,t)=>(e[t]=this.googletag.pubads().getTargeting(t),e),{});e(t)})})}resetAmazonSlots(){this.amazonBiddingService.resetAmazonSlots()}incrementAd(e){e&&(this.adCounts[e]=this.adCounts[e]||0,this.adCounts[e]++)}setEventListeners(){this.listenToRender(),this.listenToViewable()}listenToRender(){this.googleTagProxy.push(()=>{this.googletag.pubads().addEventListener("slotRenderEnded",e=>{const t=new CustomEvent("fbs-ad-render",{detail:e});document.dispatchEvent(t)})}),this.googleTagProxy.push(()=>{this.googletag.pubads().addEventListener("slotOnload",e=>{const t=new CustomEvent("fbs-ad-load",{detail:e});document.dispatchEvent(t)})}),window.aax=window.aax||{},window.aax.cmd=window.aax.cmd||[],window.aax.cmd.push(function(){window.aax.addEventListener("slotRenderEnded",function(e){e.dfpDetails.aax=!0;const{size:t}=e.dfpDetails;if(!Array.isArray(t)){const n=t.split("x").map(Number);e.dfpDetails.size=n}const n=new CustomEvent("fbs-ad-render",{detail:e.dfpDetails});document.dispatchEvent(n)})})}listenToViewable(){this.googleTagProxy.push(()=>{this.googletag.pubads().addEventListener("impressionViewable",e=>{const t=new CustomEvent("fbs-ad-viewable",{detail:e});document.dispatchEvent(t)})})}loadBomboraTag(){var e,t,n,r,i,o;e=window,t=document,n="script",e._bmb||(r=e._bmb=function(){r.x?r.x.apply(r,arguments):r.q.push(arguments)},r.q=[],(i=t.createElement(n)).async=!0,i.src="https://vi.ml314.com/get?eid=50061&tk=sykDcPW1eBz09sUvMFxZoRHVMwdQVYsDGLWIVHi2fGVg3d&fp="+(e.localStorage&&e.localStorage.getItem("_ccmaid")||""),(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,o));const s=this.googletag;s.cmd.push(function(){window._bmb("vi",function(e){if(null!=e){const t=[e.industry_id,e.revenue_id,e.size_id,e.functional_area_id,e.professional_group_id,e.seniority_id,e.decision_maker_id,e.install_data_id,e.topic_id,e.interest_group_id,e.b2b_interest_cluster_id,e.segment].filter(Boolean).join(",");""!==t&&s.pubads().setTargeting("bmb",t.split(","))}})})}loadGoogletag(){(0,r.loadScript)("https://securepubads.g.doubleclick.net/tag/js/gpt.js",()=>{})}loadDoubleVerify(){(0,r.loadScript)("https://pub.doubleverify.com/dvtag/30290112/DV1428832/pub.js",()=>{})}applyTargeting(e,t){e&&(e=this.setCustomParams(window,e),this.googleTagProxy.push(()=>{if(!t){const e=(t=this.googletag.pubads()).getTargetingKeys();for(const n in e)"bmb"!==n&&t.clearTargeting(n)}Object.keys(e).forEach(n=>{let r=e[n];r=!Array.isArray(r)&&null!=r&&r.toString?r.toString():r,r||"mnet_adi"===n?t.setTargeting(n,r):t.clearTargeting(n)})}))}getTargetingSource(){if(this.originalSource)return this.originalSource;const e=this.trackingService?this.trackingService.getPreviousUrl():document.referrer;if(!e)return"";let t=f.getDomain(e).replace("www.","");return t=t.slice(0,t.lastIndexOf(".")),this.originalSource=g[t]||"",this.originalSource}getChannelSection(e){return Array.isArray(e)?e[0]:(e||"").toString().split(",")[0]}getShoppingInsightsGroup(e){const{specialslot:t,section:n,channel:r,displaychannel:i,displaysection:o}=e,s=this.getChannelSection(n)||o,a=this.getChannelSection(r)||i;return t||s||a}setCustomParams(e,t){const n=e.location.search.substring(1).split("&");let r;for(let e=0;e<n.length;e++){const t=decodeURIComponent(n[e]||"").split("=");t[0].indexOf("ad_target_override")>-1&&(r=(t[1]||"").split(","))}if(!r)return t;for(let e=0;e<r.length;e++){const n=r[e].split(":");n[0]&&(t[n[0]]=n[1]||"")}return t}setProductTaxonomyTargeting(){const e=document.querySelectorAll('meta[name="article-category"]'),t=[];e&&0!==e.length&&(e.forEach(e=>{if(!e)return;const n=e.getAttribute("content");if(!n||!n.trim())return;const r=document.createElement("div");if(!r)return;r.innerHTML=n;const i=r.textContent||r.innerText||n;if(!i)return;const o=i.trim();o&&t.push(o)}),t.length>0&&this.googletag.pubads().setTargeting("product_taxonomy",t))}}},14239:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class r{static mark(e){window.performance&&performance.mark&&performance.mark(`FbsAds_${e.replace(" ","_")}`)}}},84456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{loadScript:()=>i,loadStyle:()=>o});var r=new Map;function i(e,t){if(!e.includes(".js"))throw new Error("You can only load JS files with this function.");var n=r.get(e);return n?"false"!==n.dataset.loaded?t():n.addEventListener("load",t):(n=document.createElement("script"),r.set(e,n),n.dataset.loaded="false",Object.assign(n,{async:!0,defer:!0,src:e}),n.addEventListener("load",function(){return n.dataset.loaded="true"}),n.addEventListener("load",t),document.head.appendChild(n)),n}function o(e,t){if(!e.includes(".css"))throw new Error("You can only load CSS files with this function.");var n=r.get(e);return n?"false"!==n.dataset.loaded?t():n.addEventListener("load",t):(n=document.createElement("link"),r.set(e,n),n.dataset.loaded="false",Object.assign(n,{href:e,rel:"stylesheet",type:"text/css"}),n.addEventListener("load",function(){return n.dataset.loaded="true"}),n.addEventListener("load",t),document.head.appendChild(n)),n}},30938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(76474);new r.Fp({ensureTasksRun:!0});const i=()=>{var e,t;return(null===(e=null===window||void 0===window?void 0:window.Zephr)||void 0===e?void 0:e.user)||(null===(t=null===window||void 0===window?void 0:window.Zephr)||void 0===t?void 0:t.error)},o=()=>{var e;return!!(null===(e=null===window||void 0===window?void 0:window.Zephr)||void 0===e?void 0:e.user)},s=(e,t,n=0)=>{return r=void 0,a=void 0,l=function*(){const r=new Promise(e=>{!i()&&n<=t?setTimeout(()=>{s(e,t,n+=100)},100):i()?e(o()):e(!1)}),a=yield r;return yield e(a),!!a},new((c=void 0)||(c=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function i(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof c?r:new c(function(e){e(r)})).then(n,i)}o((l=l.apply(r,a||[])).next())});var r,a,c,l};var a=n(73158),c=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};class l{constructor(e){this.window=window,this.beforeLoginReloadQueue=[],this.cordialEls=[],e&&(this.userCordialData=Promise.resolve(e))}setCordialCustomVariables(e,t,n,r){return c(this,void 0,void 0,function*(){yield s(i=>c(this,void 0,void 0,function*(){if(i){const i={};for(const e of t)i[`Newsletter:${e}`]=!0;for(const e of n)i[`FollowedAuthor:${e}`]=!0;for(const e of r)i[`EventInterest:${e}`]=!0;this.window.localStorage.setItem("fbs-tp-customVariables",JSON.stringify(Object.assign(Object.assign({},i),{expiration:(new Date).getTime()+2592e6}))),e&&this.window.localStorage.setItem("cID",e),this.window.localStorage.setItem("newslettersList",t.join(","))}}),3e3)})}getUserCordialDataFromServer(){return c(this,void 0,void 0,function*(){let e={};return yield s(t=>c(this,void 0,void 0,function*(){if(t){const t=yield fetch(`https://${Object.keys(window.forbes||{}).some(e=>{var t,n;return null===(n=null===(t=null===window||void 0===window?void 0:window.forbes)||void 0===t?void 0:t[e])||void 0===n?void 0:n.isProd})||window.location.host.match(/^(www|account).forbes.com/)?"":"staging-"}account.forbes.com/api-data/get-cordial-data`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store, must-revalidate",Pragma:"no-cache"}}).then(e=>e.json()).catch(e=>(console.error("cordial post error: ",e),{})),{attributes:{cID:n="",lists:r=[],followed_natural_id:i=[],eventinterests:o=[],title:s="","company-industry":c=""}={}}=t;e={cID:n,lists:r,followedAuthors:i,eventinterests:o,title:s,industry:c},(0,a.M)({cordialData:e,context:this.window}),this.setCordialCustomVariables(n,r,i,o)}}),3e3),e})}getUserCordialData(){return c(this,void 0,void 0,function*(){if(i()||(yield new Promise(e=>{document.addEventListener("fbs-zephr-init",()=>{e()})})),Object.keys(this.userCordialData||{}).length){const{cID:e,lists:t=[],followedAuthors:n=[],eventinterests:r=[]}=yield this.userCordialData;return yield this.setCordialCustomVariables(e,t,n,r),this.userCordialData}return this.userCordialData=yield this.getUserCordialDataFromServer(),this.userCordialData})}subscribe(e){this.cordialEls.push(e)}publish(){for(const e of this.cordialEls)e.update()}identify(){return c(this,void 0,void 0,function*(){return yield s(e=>{var t,n,r;e&&this.window.crdl("contact",{email:null===(r=null===(n=null===(t=this.window)||void 0===t?void 0:t.Zephr)||void 0===n?void 0:n.user)||void 0===r?void 0:r.email},{})},5e3),!!i()&&o()})}forget(){this.window.crdl("forget")}toggleFollowedAuthors(e,t,n=!0){return c(this,void 0,void 0,function*(){yield s(r=>c(this,void 0,void 0,function*(){var i,o,s;if(r){const r=yield this.getUserCordialData(),c=e.every(e=>(r.followedAuthors||[]).includes(e)),l=(null===(s=null===(o=null===(i=this.window)||void 0===i?void 0:i.Zephr)||void 0===o?void 0:o.user)||void 0===s?void 0:s.email)||"";if(!c&&n)this.window.crdl("contact",{email:l},{Follow:!0}),this.window.crdl("contact",{email:l},{followed_natural_id:{add:e}}),this.window.crdl("contact",{email:l},{followed_author_slug:{add:t}}),this.window.crdl("contact",{email:l},{follow_source:{add:[this.pageType]}}),e.forEach(e=>(0,a.M)({eventType:"followSuccess",eventLabel:e})),this.window.crdl("event","followed_author_newsletter"),e.forEach(e=>{const{followedAuthors:t=[]}=r;t.push(e)}),this.userCordialData=r,this.window.followAuthorFromAuth&&this.window.localStorage.setItem("fbs-auth-followed-author",JSON.stringify(e));else if(c&&!n){const{followedAuthors:n=[]}=r;0===n.filter(t=>!e.includes(t)).length&&this.window.crdl("contact",{email:l},{Follow:!1}),this.window.crdl("contact",{email:l},{followed_natural_id:{remove:e}}),this.window.crdl("contact",{email:l},{followed_author_slug:{remove:t}}),r.followedAuthors=n.filter(t=>!e.includes(t))}this.publish()}}),3e3)})}}},73158:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});const r=new(n(76474).Fp)({ensureTasksRun:!0}),i=({eventType:e,eventLabel:t="",cordialData:n={},context:i=window})=>{if(Object.keys(n).length>0)r.pushTask(()=>{i.dataLayer.push({cordialData:n})});else if(e||t){let n;switch(e){case"followSuccess":n="followSuccess";break;case"click":n="click";break;default:n=e}const o={event:"analyticsEvent","event category":"newsletters","event action":n,"event label":t,onboardingStep:""};r.pushTask(()=>{i.dataLayer.push(o)})}}},60182:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(10252),t)},37230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookiesService=void 0;const r=n(63781),i={path:"/",domain:".forbes.com"};t.CookiesService=class{get(e){return(0,r.get)(e)}set(e,t,n){const i=this.getOptions(n);(0,r.set)(e,t,i)}remove(e,t){const n=this.getOptions(t);(0,r.remove)(e,n)}getOptions(e){return Object.assign(Object.assign({},i),e)}}},26542:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(37230),t)},55703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cordialInit=void 0,t.cordialInit=e=>{var t,n,r,i,o,s;t=window,n=document,r="script",i="crdl",t.CordialObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,t[i].q=[],o=n.createElement(r),s=n.getElementsByTagName(r)[0],o.async=1,o.src="//d.email.forbes.com/track.v2.js",s.parentNode.insertBefore(o,s),window.crdl("connect",!0===e?"forbes-live":"forbes",{trackUrl:"se.email.forbes.com",connectUrl:"d.email.forbes.com",cookieDomain:"email.forbes.com",cookieLife:365}),window.cordialIsProd=e,window.cordialInitialized=!0}},22183:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.FbsTrackingService=void 0;const i=n(43611),o=n(88637),s=n(45387),a=n(26542),c=n(80803),l=n(10898),d=n(77969),u=n(55703);t.FbsTrackingService=class{constructor(){this.gaPreviousUrl=null,this.previousUrl=null,this.previousPath=null,this.cookiesService=new a.CookiesService,this.googleAnalyticsService=new c.GoogleAnalyticsService,this.trackingCalls=[],this.isGPCEnabled=!1,this.isEurope=!1,this.isChina=!1,this.isUsDpa=!1,this.pianoInitialized=!0,this.zephrFuseTimeout=void 0,this.zephrFuseListener=void 0}getConsentData(){return{isGPCEnabled:this.isGPCEnabled,isEurope:this.isEurope,isChina:this.isChina,isUsDpa:this.isUsDpa}}getSwbCookieValue(){return(0,d.getSwbCookieValue)()}getSwbCookie(){return(0,d.getSwbCookie)()}getFullConsent(e){return(0,d.getFullConsent)(e)}getUserConsent(e="all"){return(0,d.getUserConsent)(e)}checkJurisdictionCode(){return(0,d.checkJurisdictionCode)(this.getConsentData())}getConsentState(){return(0,d.getConsentState)(this.getConsentData())}cordialTracking(e){var t;const n=null===(t=null===document||void 0===document?void 0:document.title)||void 0===t?void 0:t.replace(/\s-\shttps?:\/\/[\n\S]+/g,"");(0,i.trackCordial)(Object.assign({customPageTitle:n},e))}clearZephrFuseListeners(){this.zephrFuseTimeout&&(clearTimeout(this.zephrFuseTimeout),this.zephrFuseTimeout=void 0),this.zephrFuseListener&&(window.removeEventListener("fuseDataResolved",this.zephrFuseListener),this.zephrFuseListener=void 0)}postBlueConicSegment(){var e,t;(null===(t=null===(e=null===window||void 0===window?void 0:window.blueConicClient)||void 0===e?void 0:e.event)||void 0===t?void 0:t.subscribe)?(0,s.postBlueConicSegments)():window.addEventListener("onBlueConicLoaded",s.postBlueConicSegments,!1)}callZephrAfterFuse(e,t){return r(this,void 0,void 0,function*(){this.clearZephrFuseListeners(),this.postBlueConicSegment(),window.fuseDataResolved||!e?this.callZephrRun(t):(this.zephrFuseTimeout=setTimeout(()=>{this.clearZephrFuseListeners(),this.callZephrRun(t)},e),window.addEventListener("fuseDataResolved",this.zephrFuseListener=()=>{this.clearZephrFuseListeners(),this.callZephrRun(t)}))})}callZephrRun(e){(0,s.zephrRun)("",e)}checkIsPrivateBrowser(){return r(this,void 0,void 0,function*(){try{const{isPrivate:e}=yield(0,o.detectIncognito)();return e}catch(e){return}})}track(e,t,n={}){return r(this,void 0,void 0,function*(){const{zephrFuseWaitTimeout:r}=n;if(window.pianoInitialized=!0,navigator.userAgent.includes("Google-CloudVertexBot"))return;const i=(0,d.getConsentState)({isGPCEnabled:this.isGPCEnabled,isEurope:this.isEurope,isChina:this.isChina,isUsDpa:this.isUsDpa});i!==d.Status.Disapproved&&i!==d.Status.Waiting&&e&&(t&&this.updatePreviousUrl(),this.getOrCreateClientId(),e=Object.assign(Object.assign({},e),{isPrivate:yield this.checkIsPrivateBrowser(),referrer:this.gaPreviousUrl,isEurope:this.isEurope.toString(),isChina:this.isChina.toString()}),window.cordialInitialized||(0,u.cordialInit)(e.isProd),this.cordialTracking(e),this.callZephrAfterFuse(r,Object.assign({},e)),delete e.isProd,delete e.swimLane,this.googleAnalyticsService.track(e),this.trackingCalls.push(e))})}getOrCreateClientId(){if((0,d.getConsentState)({isGPCEnabled:this.isGPCEnabled,isEurope:this.isEurope,isChina:this.isChina,isUsDpa:this.isUsDpa})===d.Status.Ready){let e=this.cookiesService.get("client_id");if(!e){e=l.TrackingUtil.generateClientId();const t=new Date;t.setFullYear(t.getFullYear()+2),this.cookiesService.set("client_id",e,{expires:t})}return e}return""}getPreviousUrl(){return this.previousUrl||this.cookiesService.get("refURL")||document.referrer||""}getGAPreviousUrl(){return this.gaPreviousUrl||document.referrer||""}updatePreviousUrl(){this.previousPath&&this.previousPath!==window.location.pathname?(this.previousUrl=`${window.location.protocol}//${window.location.host}${this.previousPath}`,this.gaPreviousUrl=`${window.location.protocol}//${window.location.host}${this.previousPath}`):(this.gaPreviousUrl=this.getGAPreviousUrl(),this.previousUrl=this.getPreviousUrl(),this.cookiesService.remove("refURL",{path:"/",domain:".forbes.com"}),this.cookiesService.remove("toURL",{path:"/",domain:".forbes.com"})),this.previousPath=window.location.pathname}}},10898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingUtil=void 0,t.TrackingUtil=class{static generateClientId(){const e=this.hash31(window.location.pathname+window.location.hash),t=2147483647&(new Date).getTime(),n=[];let r="";for(let e=0;e<5;e++)n[e]=268435456*Math.random()&2147483647;return n[0]^=268435455&e,n[1]^=268435455&t,n[2]^=t>>28<<3|e>>28,n.forEach(e=>{r+=this.pad(e.toString(16),7,"0",!1)}),r}static hash31(e){let t=2147483647,n=e.length;for(;n--;)t=(t<<5)-t+e.charCodeAt(n)&2147483647;return t}static pad(e,t,n,r){for(e=`${e}`;e.length<t;)e=r?e+n:n+e;return e}}},45387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postBlueConicSegments=t.unlimitedSubscriptionBundleProducts=t.saveArticleProducts=t.zephrProductBundle=t.premiumPaywallProducts=t.clientSubscriptionProducts=t.unlimitedSubscriptionProducts=t.updateCordialListData=t.doesUserHaveProduct=t.shouldShowListProfile=t.shouldHideForbesServices=t.createZephrModalContainer=t.hideModal=t.showModal=t.logout=t.hideLogin=t.showLogin=t.zephrRun=void 0;var r=n(4664);Object.defineProperty(t,"zephrRun",{enumerable:!0,get:function(){return r.zephrRun}}),Object.defineProperty(t,"showLogin",{enumerable:!0,get:function(){return r.showLogin}}),Object.defineProperty(t,"hideLogin",{enumerable:!0,get:function(){return r.hideLogin}}),Object.defineProperty(t,"logout",{enumerable:!0,get:function(){return r.logout}}),Object.defineProperty(t,"showModal",{enumerable:!0,get:function(){return r.showModal}}),Object.defineProperty(t,"hideModal",{enumerable:!0,get:function(){return r.hideModal}}),Object.defineProperty(t,"createZephrModalContainer",{enumerable:!0,get:function(){return r.createZephrModalContainer}}),Object.defineProperty(t,"shouldHideForbesServices",{enumerable:!0,get:function(){return r.shouldHideForbesServices}}),Object.defineProperty(t,"shouldShowListProfile",{enumerable:!0,get:function(){return r.shouldShowListProfile}}),Object.defineProperty(t,"doesUserHaveProduct",{enumerable:!0,get:function(){return r.doesUserHaveProduct}}),Object.defineProperty(t,"updateCordialListData",{enumerable:!0,get:function(){return r.updateCordialListData}}),Object.defineProperty(t,"unlimitedSubscriptionProducts",{enumerable:!0,get:function(){return r.unlimitedSubscriptionProducts}}),Object.defineProperty(t,"clientSubscriptionProducts",{enumerable:!0,get:function(){return r.clientSubscriptionProducts}}),Object.defineProperty(t,"premiumPaywallProducts",{enumerable:!0,get:function(){return r.premiumPaywallProducts}}),Object.defineProperty(t,"zephrProductBundle",{enumerable:!0,get:function(){return r.zephrProductBundle}}),Object.defineProperty(t,"saveArticleProducts",{enumerable:!0,get:function(){return r.saveArticleProducts}}),Object.defineProperty(t,"unlimitedSubscriptionBundleProducts",{enumerable:!0,get:function(){return r.unlimitedSubscriptionBundleProducts}}),Object.defineProperty(t,"postBlueConicSegments",{enumerable:!0,get:function(){return r.postBlueConicSegments}})},68449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalyticsService=void 0;const r=n(84456);class i{constructor(){this.initialized=!1,this.dataLayer=window.dataLayer=window.dataLayer||[],this.containerId="GTM-NMQJM4"}static convertData(e){e.eventLabel&&(e["event label"]=e.eventLabel),e.eventCategory&&(e["event category"]=e.eventCategory),e.eventAction&&(e["event action"]=e.eventAction),e.eventValue&&(e["event value"]=e.eventValue),delete e.eventLabel,delete e.eventCategory,delete e.eventAction,delete e.eventValue}track(e){e&&(i.convertData(e),this.dataLayerPush(e),this.initialized||this.init())}init(){this.initialized=!0,this.dataLayerPush({"gtm.start":(new Date).getTime(),event:"gtm.js"}),window.analyticsEvent=window.analyticsSocial=window.analyticsVPV=window.analyticsClearVPV=window.analyticsForm=function(){},(0,r.loadScript)(`https://www.googletagmanager.com/gtm.js?id=${this.containerId}`,()=>{const e=new CustomEvent("fbs-gtm-init");window.dispatchEvent(e)})}dataLayerPush(e){this.dataLayer.push(e)}}t.GoogleAnalyticsService=i},80803:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(56611),t),i(n(68449),t)},10252:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.zephr=t.TrackingService=void 0;var o=n(90325);Object.defineProperty(t,"TrackingService",{enumerable:!0,get:function(){return o.TrackingService}}),i(n(22183),t),i(n(10898),t),i(n(80803),t),t.zephr=n(45387),i(n(77969),t)},77969:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17730),t)},17730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConsentState=t.getIsConsentCookieSet=t.checkJurisdictionCode=t.getUserConsent=t.getFullConsent=t.getSwbCookie=t.getSwbCookieValue=t.hasUserElectedGPC=t.hasGpcSourceSignal=t.EXCLUDED_JURISDICTIONS=t.EXCLUDED_GPC_JURISDICTIONS=t.Status=void 0;const r=n(37230);t.Status={Ready:"ready",Waiting:"waiting",Disapproved:"disapproved"},t.EXCLUDED_GPC_JURISDICTIONS=new Set(["gdpr","PIPL","default","uk___ireland"]),t.EXCLUDED_JURISDICTIONS=new Set(["us_general","default"]),t.hasGpcSourceSignal=e=>{var t;if(navigator.globalPrivacyControl)return!0;if("true"===e.get("gpcsignal"))return!0;const n=e.get("us_privacy")||e.get("usprivacy");return!(!n||"y"!==(null===(t=n[2])||void 0===t?void 0:t.toLowerCase()))},t.hasUserElectedGPC=(e,n)=>{const{isGPCEnabled:r,isUsDpa:i}=e;if(r)return!0;if(i&&(0,t.hasGpcSourceSignal)(n))return!0;const o=(0,t.getSwbCookie)();return!(!o||!o.jurisdictionCode||t.EXCLUDED_GPC_JURISDICTIONS.has(o.jurisdictionCode)||!(0,t.hasGpcSourceSignal)(n))},t.getSwbCookieValue=()=>{let e="";return document.cookie.match(/_swb_consent_=/)?(document.cookie.split(";").forEach(t=>{t.trim().startsWith("_swb_consent_=")&&(e=decodeURIComponent(t.split("=")[1]))}),e):e},t.getSwbCookie=()=>{const e=(0,t.getSwbCookieValue)();try{const t=window.atob(e);return JSON.parse(t)}catch(e){return}},t.getFullConsent=e=>{let t=!0,n=[];try{n=Object.keys((e||{}).purposes||{})}catch(e){console.log("no keys found")}return!(n.length<=1)&&(n.forEach(n=>{"false"===e.purposes[n].allowed&&(t=!1)}),t)},t.getUserConsent=(e="all")=>{const n=(0,t.getSwbCookie)();return!!n&&("all"===e?(0,t.getFullConsent)(n):!!n.purposes[e]&&"false"!==n.purposes[e].allowed)},t.checkJurisdictionCode=e=>{const{isEurope:n,isChina:r,isUsDpa:i}=e;if(n||r||i)return!0;const o=(0,t.getSwbCookie)();return!(!o||!o.jurisdictionCode||t.EXCLUDED_JURISDICTIONS.has(o.jurisdictionCode))},t.getIsConsentCookieSet=()=>!!document.cookie.match(/_swb_consent_=/),t.getConsentState=(e={})=>{const n=(0,t.getIsConsentCookieSet)(),{isEurope:i,isChina:o}=e,s=new r.CookiesService;return(0,t.hasUserElectedGPC)(e,s)?t.Status.Disapproved:n||!i&&!o?n&&(0,t.checkJurisdictionCode)(e)&&!(0,t.getUserConsent)()?t.Status.Disapproved:t.Status.Ready:t.Status.Waiting}},90325:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingService=void 0,t.TrackingService=class{}},43611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FbsCordial:()=>w,trackCordial:()=>y});var r=n(76474);new r.Fp({ensureTasksRun:!0});const i=()=>{var e,t;return(null===(e=null===window||void 0===window?void 0:window.Zephr)||void 0===e?void 0:e.user)||(null===(t=null===window||void 0===window?void 0:window.Zephr)||void 0===t?void 0:t.error)},o=()=>{var e;return!!(null===(e=null===window||void 0===window?void 0:window.Zephr)||void 0===e?void 0:e.user)},s=(e,t,...n)=>{return r=void 0,a=[e,t,...n],l=function*(e,t,n=0){const r=new Promise(e=>{!i()&&n<=t?setTimeout(()=>{s(e,t,n+=100)},100):i()?e(o()):e(!1)}),a=yield r;return yield e(a),!!a},new((c=void 0)||(c=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function i(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof c?r:new c(function(e){e(r)})).then(n,i)}o((l=l.apply(r,a||[])).next())});var r,a,c,l},a=new r.Fp({ensureTasksRun:!0}),c=({eventType:e,eventLabel:t="",cordialData:n={},context:r=window})=>{if(Object.keys(n).length>0)a.pushTask(()=>{r.dataLayer.push({cordialData:n})});else if(e||t){let n;switch(e){case"followSuccess":n="followSuccess";break;case"click":n="click";break;default:n=e}const i={event:"analyticsEvent","event category":"newsletters","event action":n,"event label":t,onboardingStep:""};a.pushTask(()=>{r.dataLayer.push(i)})}};var l,d,u=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};class h{constructor(e){this.window=window,this.beforeLoginReloadQueue=[],this.cordialEls=[],e&&(this.userCordialData=Promise.resolve(e))}setCordialCustomVariables(e,t,n,r){return u(this,void 0,void 0,function*(){yield s(i=>u(this,void 0,void 0,function*(){if(i){const i={};for(const e of t)i[`Newsletter:${e}`]=!0;for(const e of n)i[`FollowedAuthor:${e}`]=!0;for(const e of r)i[`EventInterest:${e}`]=!0;this.window.localStorage.setItem("fbs-tp-customVariables",JSON.stringify(Object.assign(Object.assign({},i),{expiration:(new Date).getTime()+2592e6}))),e&&this.window.localStorage.setItem("cID",e),this.window.localStorage.setItem("newslettersList",t.join(","))}}),3e3)})}getUserCordialDataFromServer(){return u(this,void 0,void 0,function*(){let e={};return yield s(t=>u(this,void 0,void 0,function*(){if(t){const t=yield fetch(`https://${Object.keys(window.forbes||{}).some(e=>{var t,n;return null===(n=null===(t=null===window||void 0===window?void 0:window.forbes)||void 0===t?void 0:t[e])||void 0===n?void 0:n.isProd})||window.location.host.match(/^(www|account).forbes.com/)?"":"staging-"}account.forbes.com/api-data/get-cordial-data`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store, must-revalidate",Pragma:"no-cache"}}).then(e=>e.json()).catch(e=>(console.error("cordial post error: ",e),{})),{attributes:{cID:n="",lists:r=[],followed_natural_id:i=[],eventinterests:o=[],title:s="","company-industry":a=""}={}}=t;e={cID:n,lists:r,followedAuthors:i,eventinterests:o,title:s,industry:a},c({cordialData:e,context:this.window}),this.setCordialCustomVariables(n,r,i,o)}}),3e3),e})}getUserCordialData(){return u(this,void 0,void 0,function*(){if(i()||(yield new Promise(e=>{document.addEventListener("fbs-zephr-init",()=>{e()})})),Object.keys(this.userCordialData||{}).length){const{cID:e,lists:t=[],followedAuthors:n=[],eventinterests:r=[]}=yield this.userCordialData;return yield this.setCordialCustomVariables(e,t,n,r),this.userCordialData}return this.userCordialData=yield this.getUserCordialDataFromServer(),this.userCordialData})}subscribe(e){this.cordialEls.push(e)}publish(){for(const e of this.cordialEls)e.update()}identify(){return u(this,void 0,void 0,function*(){return yield s(e=>{var t,n,r;e&&this.window.crdl("contact",{email:null===(r=null===(n=null===(t=this.window)||void 0===t?void 0:t.Zephr)||void 0===n?void 0:n.user)||void 0===r?void 0:r.email},{})},5e3),!!i()&&o()})}forget(){this.window.crdl("forget")}toggleFollowedAuthors(e,t){return u(this,arguments,void 0,function*(e,t,n=!0){yield s(r=>u(this,void 0,void 0,function*(){var i,o,s;if(r){const r=yield this.getUserCordialData(),a=e.every(e=>(r.followedAuthors||[]).includes(e)),l=(null===(s=null===(o=null===(i=this.window)||void 0===i?void 0:i.Zephr)||void 0===o?void 0:o.user)||void 0===s?void 0:s.email)||"";if(!a&&n)this.window.crdl("contact",{email:l},{Follow:!0}),this.window.crdl("contact",{email:l},{followed_natural_id:{add:e}}),this.window.crdl("contact",{email:l},{followed_author_slug:{add:t}}),this.window.crdl("contact",{email:l},{follow_source:{add:[this.pageType]}}),e.forEach(e=>c({eventType:"followSuccess",eventLabel:e})),this.window.crdl("event","followed_author_newsletter"),e.forEach(e=>{const{followedAuthors:t=[]}=r;t.push(e)}),this.userCordialData=r,this.window.followAuthorFromAuth&&this.window.localStorage.setItem("fbs-auth-followed-author",JSON.stringify(e));else if(a&&!n){const{followedAuthors:n=[]}=r;0===n.filter(t=>!e.includes(t)).length&&this.window.crdl("contact",{email:l},{Follow:!1}),this.window.crdl("contact",{email:l},{followed_natural_id:{remove:e}}),this.window.crdl("contact",{email:l},{followed_author_slug:{remove:t}}),r.followedAuthors=n.filter(t=>!e.includes(t))}this.publish()}}),3e3)})}}!function(e){e.Follow="Follow"}(l||(l={})),function(e){e.Follow="Follow",e.Unfollow="Unfollow"}(d||(d={}));var p=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};const f={[d.Follow]:"follow-button",[d.Unfollow]:"unfollow-button"},m={[d.Follow]:"Follow Author",[d.Unfollow]:"Unfollow Author"},g={[d.Follow]:"Follow",[d.Unfollow]:"Unfollow"};class w extends HTMLElement{static get observedAttributes(){return["type","state"]}constructor(){super(),this.window=window,this.window.fbsCordial=this.window.fbsCordial||new h,this.cordialService=this.window.fbsCordial}attributeChangedCallback(e,t,n){return p(this,void 0,void 0,function*(){this.button&&this.isConnected&&("type"===e&&t!==n&&(this.disconnectedCallback(),yield this.connectedCallback()),this.type===l.Follow&&"state"===e&&t!==n&&(this.button.classList.add(f[n]),this.button.classList.remove(f[t]),this.button.setAttribute("aria-label",m[n]),this.button.innerText=this.buttonText(n)))})}toggleFollowState(e){return p(this,void 0,void 0,function*(){yield this.cordialService.toggleFollowedAuthors([this.naturalId],[this.authorSlug],e),this.state=e?d.Unfollow:d.Follow})}followButtonClickEventListener(){return p(this,void 0,void 0,function*(){var e,t,n,r,i,o,s,a,l,u;let h=this.state.toString();this.pagePosition&&(h+=`-${this.pagePosition}`),c({eventType:"click",eventLabel:h}),(null===(e=null===window||void 0===window?void 0:window.Zephr)||void 0===e?void 0:e.user)?yield this.toggleFollowState(this.state===d.Follow):(null===(r=null===(n=null===(t=this.window)||void 0===t?void 0:t.Zephr)||void 0===n?void 0:n.utils)||void 0===r||r.appendToRegistrationQueue(()=>p(this,void 0,void 0,function*(){this.window.followAuthorFromAuth=!0,yield this.toggleFollowState(!0)}),"follow-author"),null===(s=null===(o=null===(i=this.window)||void 0===i?void 0:i.Zephr)||void 0===o?void 0:o.utils)||void 0===s||s.appendToLoginQueue(()=>p(this,void 0,void 0,function*(){this.window.followAuthorFromAuth=!0,yield this.toggleFollowState(!0)}),"follow-author"),null===(u=null===(l=null===(a=this.window)||void 0===a?void 0:a.Zephr)||void 0===l?void 0:l.utils)||void 0===u||u.showLogin("following"))})}createFollowButton(){this.button=document.createElement("button"),this.button.setAttribute("aria-label",m[this.state]),this.button.classList.add(f[this.state]),this.button.innerText=this.buttonText(this.state),this.appendChild(this.button),this.button.addEventListener("click",()=>this.followButtonClickEventListener()),this.cordialService.subscribe(this)}update(){return p(this,void 0,void 0,function*(){if(this.type===l.Follow){const e=yield this.cordialService.getUserCordialData();this.state=(e.followedAuthors||[]).includes(this.naturalId)?d.Unfollow:d.Follow}})}connectedCallback(){return p(this,void 0,void 0,function*(){if(this.type===l.Follow){const e=yield this.cordialService.getUserCordialData();this.window.localStorage.getItem("fbs-auth-followed-author")&&(JSON.parse(this.window.localStorage.getItem("fbs-auth-followed-author")||"").includes(this.naturalId)&&!e.followedAuthors.includes(this.naturalId)&&e.followedAuthors.push(this.naturalId),setTimeout(()=>{this.window.localStorage.removeItem("fbs-auth-followed-author")},100)),this.state=(e.followedAuthors||[]).includes(this.naturalId)?d.Unfollow:d.Follow,this.createFollowButton()}})}disconnectedCallback(){this.button&&(this.removeChild(this.button),delete this.button)}set type(e){this.setAttribute("type",e)}get type(){const e=this.getAttribute("type");return l[e]}set pagePosition(e){this.setAttribute("page-position",e)}get pagePosition(){return this.getAttribute("page-position")}set state(e){this.setAttribute("state",e)}get state(){const e=this.getAttribute("state");return d[e]}set naturalId(e){this.setAttribute("natural-id",e)}get naturalId(){return this.getAttribute("natural-id")}buttonText(e){return e===d.Follow?this.followText||g.Follow:this.unfollowText||g.Unfollow}set authorSlug(e){this.setAttribute("author-slug",e)}set followText(e){this.setAttribute("follow-text",e)}set unfollowText(e){this.setAttribute("unfollow-text",e)}get authorSlug(){return this.getAttribute("author-slug")}get followText(){return this.getAttribute("follow-text")}get unfollowText(){return this.getAttribute("unfollow-text")}}const y=e=>{var t;(null===(t=window.fbsCordial)||void 0===t?void 0:t.identify)&&window.fbsCordial.identify().then(t=>{var n,r,i;(t||null!==localStorage.getItem("contactID"))&&((null===(n=null==e?void 0:e.DFPZone)||void 0===n?void 0:n.includes("article-"))?(({author:e,published:t,primarySection:n,referrer:r,customPageTitle:i})=>{window.crdl("event","browseArticle",{author:e,pubDate:t,section:n,source:r,title:i})})(e):(null===(r=null==e?void 0:e.DFPZone)||void 0===r?void 0:r.includes("video"))?(({published:e,primarySection:t,referrer:n,customPageTitle:r})=>{window.crdl("event","browseVideo",{pubDate:e,section:t,source:n,title:r})})(e):(null===(i=null==e?void 0:e.DFPZone)||void 0===i?void 0:i.includes("contrib"))&&window.forbes["simple-site"].showFollowButton?(({author:e,primarySection:t,referrer:n})=>{window.crdl("event","browseCHPS",{author:e,section:t,source:n})})(e):e&&(({referrer:e,primarySection:t})=>{window.crdl("event","browseLanding",{section:t,source:e})})(e))})};customElements.get("fbs-cordial")||customElements.define("fbs-cordial",w)},63781:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},21615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchAsync=void 0;var n=function(){function e(e){void 0===e&&(e={}),this.tasks={resolved:{},active:{},waiting:{},timedOut:{}},this.resolvedData={},this.init(e)}return e.prototype.init=function(e){var t=this;this.promise=new Promise(function(n,r){t._resolve=n,t._reject=r,Object.keys(e).forEach(function(n){var r=e[n];(r.requires||[]).length>0?t.tasks.waiting[n]=r:t.tasks.active[n]=r}),Object.keys(t.tasks.active).forEach(function(e){var n=t.tasks.active[e];t.createTask(e,n).catch(function(e){return t._reject(e)})}),0===Object.keys(t.tasks.active).length&&t._resolve({})})},e.prototype.createTask=function(e,t){var n=this;return new Promise(function(r,i){var o=[];t.params&&o.push(t.params),(t.requires||[]).forEach(function(e){o.push(n.resolvedData[e])}),t.task.apply(null,o).then(function(i){clearTimeout(t.timeoutObj),n.completeTask(e,i,!0),r(i)}).catch(function(o){t.optional?(n.completeTask(e,o),r(o)):i(o)}),t.timeout&&(t.timeoutObj=setTimeout(function(){var o=!1;if(Object.keys(n.tasks.waiting).forEach(function(t){o=o||n.tasks.waiting[t].requires.indexOf(e)>=0}),o||Object.keys(n.tasks.active).length<=Object.keys(n.tasks.timedOut).length+1){var s=new Error("Task '".concat(e,"' timed out!"));t.optional?(n.completeTask(e,s),r(s)):i(s)}else n.tasks.timedOut[e]=t},t.timeout))})},e.prototype.completeTask=function(e,t,n){void 0===n&&(n=!1),this.tasks.active[e]&&(this.tasks.active[e].succeeded=n,this.tasks.resolved[e]=this.tasks.active[e],this.resolvedData[e]=t,delete this.tasks.active[e],delete this.tasks.timedOut[e],n||!this.tasks.resolved[e].optional||this.tasks.resolved[e].silenceOptionalErrors||console.error(t),this.initWaitingTasks(),this.checkAllTasksResolved())},e.prototype.initWaitingTasks=function(){var e=this;Object.keys(this.tasks.waiting).forEach(function(t){var n=e.tasks.waiting[t],r={ready:!0,anyParentSuccess:!1,allParentsSucceeded:!0};if(n.requires.forEach(function(t){e.tasks.resolved[t]?e.tasks.resolved[t].succeeded?r.anyParentSuccess=!0:r.allParentsSucceeded=!1:r.ready=!1}),r.ready){var i=n;r.allParentsSucceeded||n.allowSingleParentSuccess&&r.anyParentSuccess||(i={task:function(){return new Promise(function(e,n){return n(new Error("Precondition not met: ".concat(t)))})},optional:!0}),e.tasks.active[t]=i,delete e.tasks.waiting[t],e.createTask(t,i).catch(function(t){return e._reject(t)})}})},e.prototype.checkAllTasksResolved=function(){var e=this;if(Object.keys(this.tasks.active).length<=Object.keys(this.tasks.timedOut).length){var t=!0;Object.keys(this.tasks.timedOut).forEach(function(n){if(t){var r=new Error("Task '".concat(n,"' timed out!"));if(!e.tasks.timedOut[n].optional)return t=!1,void e._reject(r);e.resolvedData[n]=r,delete e.tasks.timedOut[n]}}),t&&this._resolve(this.resolvedData)}},e}();t.batchAsync=function(e){return new n(e).promise}},97849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieValue=t.getCookie=void 0,t.getCookie=function(e,t){if(e)return e.split(";").find(function(e){return e.indexOf("".concat(t,"="))>-1})},t.getCookieValue=function(e,n){if(e)return((0,t.getCookie)(e,n)||"").split("=")[1]}},35303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidStudentEmail=t.emailRegex=t.studentEmailRegex=void 0,t.studentEmailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.+-]+\.edu$/,t.emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/,t.isValidStudentEmail=function(e){return t.studentEmailRegex.test(e)},t.isValidEmail=function(e){return t.emailRegex.test(e)}},43398:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidStudentEmail=t.emailRegex=t.studentEmailRegex=t.getCookieValue=t.getCookie=t.checkIsIOS=t.checkIsTablet=t.checkIsMobile=t.throttle=t.batchAsync=void 0;var i=n(21615);Object.defineProperty(t,"batchAsync",{enumerable:!0,get:function(){return i.batchAsync}});var o=n(68595);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return r(o).default}});var s=n(47803);Object.defineProperty(t,"checkIsMobile",{enumerable:!0,get:function(){return s.checkIsMobile}}),Object.defineProperty(t,"checkIsTablet",{enumerable:!0,get:function(){return s.checkIsTablet}}),Object.defineProperty(t,"checkIsIOS",{enumerable:!0,get:function(){return s.checkIsIOS}});var a=n(97849);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return a.getCookie}}),Object.defineProperty(t,"getCookieValue",{enumerable:!0,get:function(){return a.getCookieValue}});var c=n(35303);Object.defineProperty(t,"studentEmailRegex",{enumerable:!0,get:function(){return c.studentEmailRegex}}),Object.defineProperty(t,"emailRegex",{enumerable:!0,get:function(){return c.emailRegex}}),Object.defineProperty(t,"isValidStudentEmail",{enumerable:!0,get:function(){return c.isValidStudentEmail}}),Object.defineProperty(t,"isValidEmail",{enumerable:!0,get:function(){return c.isValidEmail}})},47803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsIOS=t.checkIsTablet=t.checkIsMobile=void 0,t.checkIsMobile=function(e){return Boolean(e&&(e.match(/iP(hone|od)/i)||e.match(/BlackBerry/i)||e.match(/Android/i)&&e.match(/Mobile/i)||e.match(/Android/i)&&!e.match(/Tablet/i)&&!e.match(/CrKey\w*/i)&&!e.match(/AFT\w*/i)||e.match(/Nokia/i)&&e.match(/Symbian|Windows Phone/i)))},t.checkIsTablet=function(e){return Boolean(e&&e.match(/Tablet|iPad/i))},t.checkIsIOS=function(e,t){return Boolean(e&&t&&/iPad|iPhone|iPod/.test(e)&&!t.MSStream)}},68595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,i,o=this;return t||(t=100),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=n||o||{},l=+new Date;r&&l<r+t?(clearTimeout(i),i=setTimeout(function(){r=l,c.deferred=!0,e.apply(c,s)},t+l+1-r)):(r=l,e.apply(c,s))}}},35910:()=>{"use strict";!function(e){const t=function(e){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==e&&this.setOption(e);const t=this;setTimeout(()=>{!0===t._options.checkOnLoad&&(!0===t._options.debug&&t._log("onload->eventCallback","A check loading is launched"),null===t._var.bait&&t._creatBait(),setTimeout(()=>{t.check()},1))},1)};t.prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(e,t){console.log(`[BlockAdBlock][${e}] ${t}`)},t.prototype.setOption=function(e,t){if(void 0!==t){const n=e;(e={})[n]=t}for(const t in e)this._options[t]=e[t],!0===this._options.debug&&this._log("setOption",`The option "${t}" he was assigned to "${e[t]}"`);return this},t.prototype._creatBait=function(){const t=document.createElement("div");t.setAttribute("class",this._options.baitClass),t.setAttribute("style",this._options.baitStyle),this._var.bait=e.document.body.appendChild(t),!0===this._options.debug&&this._log("_creatBait","Bait has been created")},t.prototype._destroyBait=function(){e.document.body.removeChild(this._var.bait),this._var.bait=null,!0===this._options.debug&&this._log("_destroyBait","Bait has been removed")},t.prototype.check=function(e){if(void 0===e&&(e=!0),!0===this._options.debug&&this._log("check",`An audit was requested ${!0===e?"with a":"without"} loop`),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();const t=this;return this._var.loopNumber=0,!0===e&&(this._var.loop=setInterval(()=>{t._checkBait(e)},this._options.loopCheckTime)),setTimeout(()=>{t._checkBait(e)},1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},t.prototype._checkBait=function(t){let n=!1;if(null===this._var.bait&&this._creatBait(),null===e.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(n=!0),void 0!==e.getComputedStyle){const t=e.getComputedStyle(this._var.bait,null);!t||"none"!=t.getPropertyValue("display")&&"hidden"!=t.getPropertyValue("visibility")||(n=!0)}!0===this._options.debug&&this._log("_checkBait",`A check (${this._var.loopNumber+1}/${this._options.loopMaxNumber} ~${1+this._var.loopNumber*this._options.loopCheckTime}ms) was conducted and detection is ${!0===n?"positive":"negative"}`),!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===n?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))},t.prototype._stopLoop=function(e){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,!0===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},t.prototype.emitEvent=function(e){!0===this._options.debug&&this._log("emitEvent",`An event with a ${!0===e?"positive":"negative"} detection was called`);const t=this._var.event[!0===e?"detected":"notDetected"];for(const e in t)!0===this._options.debug&&this._log("emitEvent",`Call function ${parseInt(e)+1}/${t.length}`),t.hasOwnProperty(e)&&t[e]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},t.prototype.on=function(e,t){return this._var.event[!0===e?"detected":"notDetected"].push(t),!0===this._options.debug&&this._log("on",`A type of event "${!0===e?"detected":"notDetected"}" was added`),this},t.prototype.onDetected=function(e){return this.on(!0,e)},t.prototype.onNotDetected=function(e){return this.on(!1,e)},e.BlockAdBlock=t,void 0===e.blockAdBlock&&(e.blockAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))}(window),window.forbes=window.forbes||{},window.blockAdBlock.onDetected(()=>{window.forbes.hasAdBlocker=!0,document.dispatchEvent(new CustomEvent("fbs-ad-block-init"))}),window.blockAdBlock.onNotDetected(()=>{window.forbes.hasAdBlocker=!1,document.dispatchEvent(new CustomEvent("fbs-ad-block-init"))})},33315:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.saveBlueConicIdToProfile=t.postBlueConicSegments=void 0;const i=n(76240);t.postBlueConicSegments=()=>r(void 0,void 0,void 0,function*(){const{blueConicClient:e}=window;if(!e||"function"!=typeof e.getSegments)return;const t=yield new Promise(t=>{const n=setInterval(()=>{const r=e.getSegments().map(e=>e.id);r.length>0&&(clearInterval(n),t(r))},50);setTimeout(()=>{clearInterval(n),t([])},5e3)});if(t.length)try{yield fetch("/plugins/public/blueconic/segments",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})}catch(e){console.error("Error posting segments:",e)}}),t.saveBlueConicIdToProfile=()=>r(void 0,void 0,void 0,function*(){var e,n,o;const s=null===(o=null===(n=null===(e=null===window||void 0===window?void 0:window.blueConicClient)||void 0===e?void 0:e.profile)||void 0===n?void 0:n.getProfile())||void 0===o?void 0:o.getId();s?yield(0,i.updateUserProfile)({"blueconic-id":s}):window.addEventListener("onBlueConicLoaded",()=>r(void 0,void 0,void 0,function*(){yield(0,t.saveBlueConicIdToProfile)()}),{once:!0})})},44575:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(99233),s=i(n(23836)),a=n(91397),c=i(n(14912));t.default=e=>r(void 0,void 0,void 0,function*(){var t,n,r,i;const{isProd:l,fvid:d,containerId:u,categoryId:h,DFPZone:p,author:f,login:m,contribType:g,templateType:w,templateSubType:y,isRetracted:v,slot:b,site:_,swimLane:S,blogType:k,edit:E,bertieBadgeSlugs:A,entitySegments:P,primaryChannel:C,primarySection:T,channelNames:I,sectionNames:x,published:O,streamPosition:j,isEurope:D,isChina:L,resourceId:R,contentPaywall:H,listProfileType:M=""}=e;window.dispatchEvent(new CustomEvent("zephr-data-building",{detail:Math.floor(performance.now())}));const U={"Paid Content":o.paidContentNameMapping[k],"Primary Channel":C,"Primary Section":T,"Channel Names":I,"Section Names":x,blog:_,fvid:d||"","Content Paywall":"true"===m?"free":H||"none"},F=null===(t=JSON.parse(window.localStorage.getItem("fpd_fuse")||"{}"))||void 0===t?void 0:t.kvs;(0,o.expandFuseValues)(F,U);const B=[(yield(0,a.prepareWeb3Access)()).join(","),(yield(0,a.prepareFbsExternalAccess)()).join(",")].filter(Boolean).join(","),z=localStorage.getItem("newslettersList")||"",N=(0,c.default)(null===(r=null===(n=null===window||void 0===window?void 0:window.forbes)||void 0===n?void 0:n["simple-site"])||void 0===r?void 0:r.forbesOneContext),K=(0,s.default)({DFPZone:p,author:f,login:m,contribType:g,templateType:w,templateSubType:y,isRetracted:v,slot:b,swimLane:S,blogType:k,edit:E,bertieBadgeSlugs:A,entitySegments:P,streamPosition:j,resourceId:R});return Object.assign(Object.assign(Object.assign(Object.assign({},U),K),N),{isProd:l,categoryId:h,containerId:u,published:O,isEurope:D,isChina:L,listProfileType:M,hasAdBlocker:"pref-center"!==_?null===(i=window.forbes)||void 0===i?void 0:i.hasAdBlocker:"",newslettersList:z,jwt_access:B})})},43650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCordialListData=void 0;const r=n(76240),i=n(57627);t.updateCordialListData=e=>{const t={"channels.email.subscribeStatus":"subscribed"};t[e.newsletter]=!0,e.additionalFieldKey&&(t[e.additionalFieldKey]=e.additionalFieldValue);const n="US"===e.geolocation;if((n||e.Announcements)&&(t.Announcements=!0,window.dataLayer.push({event:"analyticsEvent","event category":"Editorial Newsletters","event action":`Announcements | ${n?"united states":"international"} opt-in`,"event label":"marketing opt-in"})),e.lander){const e=(0,r.getParameterByName)("utm_source",window.location.search),n=(0,r.getParameterByName)("utm_medium",window.location.search),i=(0,r.getParameterByName)("utm_campaign",window.location.search);t.sourcearray=[`{${e}}-{${n}}-{${i}}`]}((e,t)=>{window.crdl("contact",{email:e.userEmailInput?e.userEmailInput:window.Zephr.user.email},t,{forceSubscribe:{email:!0},upsert:!0})})(e,t);let o=e.newsletter;e.outcomeLabel&&(o=`${e.newsletter} | ${e.outcomeLabel}`);let s=e.lander?"Zephr":"Editorial Newsletters";e.trackingDomain&&(s=e.trackingDomain),(0,i.trackingHandler)({eventCategory:s,eventAction:o,eventLabel:e.lander?"Successful Sign up":"Successful Submit",onboardingStep:""}),((e,t,n,i)=>{if(!e&&!t&&!n)return;const o=(e={})=>{var i;(t||(null==e?void 0:e.cID))&&(0,r.handleLocalStorage)("cID",t||e.cID);const o=[],s=(null===(i=localStorage.getItem("newslettersList"))||void 0===i?void 0:i.split(","))||"";s&&!s.includes(n)?(s.push(n),(0,r.handleLocalStorage)("newslettersList",s.join(","))):s||(o.push(n),(0,r.handleLocalStorage)("newslettersList",o.join(",")))};t?o():fetch(`https://${!0===i?"":"staging-"}account.forbes.com/api-data/get-cordial-data?email=${e}`,{credentials:"include"}).then(e=>{e.json().then(e=>{o(e)})}).catch(e=>{console.error("Error getting cordial data: ",e)})})(e.userEmailInput?e.userEmailInput:window.Zephr.user.email,e.cID,e.newsletter,window.cordialIsProd)}},21868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executionDetails=t.flaggedTriggerArrays=t.winnerInfo=t.site=t.exitIntentMobileActions=t.exitIntentRightActions=t.exitIntentLeftActions=t.exitIntentBottomActions=t.exitIntentTopActions=t.actionQueue=t.scrollPercentageActions=t.timeDelayActions=t.immediatelyActions=t.timeoutIds=t.errorTracker=t.boundListeners=void 0;const r=n(76240);t.boundListeners=[],t.errorTracker=[],t.timeoutIds=[],t.immediatelyActions=[],t.timeDelayActions=[],t.scrollPercentageActions=[],t.actionQueue=[],t.exitIntentTopActions=[],t.exitIntentBottomActions=[],t.exitIntentLeftActions=[],t.exitIntentRightActions=[],t.exitIntentMobileActions=[];const i=(0,r.getSite)();t.site=i,t.flaggedTriggerArrays=[],t.executionDetails=[],t.winnerInfo={winner:{},winReason:"",hasShown:!1}},40459:(e,t,n)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.exclusiveActions=t.doCandidateSelection=void 0;const o=n(36948),s=n(21868);let a,c=!1;const l=e=>{console.error(e),s.errorTracker.push(e)},d=e=>{var t;const n=window.Zephr.utils.exclusiveActions.winnerInfo;if(0===n.winner.priority)return void(n.hasShown=!0);const r=(null===(t=e.exclusiveActionElement.parentElement)||void 0===t?void 0:t.children)||[],i=Array.from(r);let o=!1;i.forEach(e=>{e.show&&(e.show(),o=!0)}),o||l({errorMessage:"No configured show action on exclusive action winner:",winner:e}),n.hasShown=!0};t.doCandidateSelection=(e,t)=>{if(!c)return void s.flaggedTriggerArrays.push({flaggedTriggerArray:e,trigger:t});const n=window.Zephr.utils.exclusiveActions.actionQueue,r=window.Zephr.utils.exclusiveActions.winnerInfo,i=(e=>{const t=e.filter(e=>{var t;const n=(null===(t=e.exclusiveActionElement.parentElement)||void 0===t?void 0:t.children)||[];return Array.from(n).some(e=>"excluded"===e.getAttribute("exclusive-action-mode"))});return t})(n),o=n.filter(e=>i.indexOf(e)<0),a=e.filter(e=>i.indexOf(e)<0);0!==a.length&&0!==o.length?Object.keys(r.winner).length>0?!r.hasShown&&a.includes(r.winner)&&d(r.winner):(r.winner=((e,t)=>{let n=!1;const r=window.Zephr.utils.exclusiveActions.winnerInfo;t.sort((e,t)=>(e.priority===t.priority&&(n=!0),e.priority-t.priority));let i=t[0];if(n){const n=[],o=[];if(t.forEach(t=>{t.priority===i.priority&&(n.push(t),e.includes(t)&&o.push(t))}),1===o.length)return i=o[0],r.winReason="trigger",i;if(o.length>1){const e=Math.floor(Math.random()*o.length);return i=o[e],r.winReason="random",r.randomNumber=e,r.randomNumberCeiling=o.length,i}const s=Math.floor(Math.random()*n.length);return i=n[s],r.winReason="random",r.randomNumber=s,r.randomNumberCeiling=n.length,i}return r.winReason="priority",i})(a,o),s.executionDetails.push({trigger:t,consideredActions:Array.from(o),excludedActions:i,winner:r.winner,winReason:r.winReason}),a.includes(r.winner)&&d(r.winner)):s.executionDetails.push({trigger:t,nonExcludedRelevantActions:Array.from(a),excludedActions:i,message:"No remaining actions in queue after excluding all self excluded elements."})};if(null===(i=null===(r=null===window||void 0===window?void 0:window.forbes)||void 0===r?void 0:r[s.site])||void 0===i?void 0:i.isMobile){let e,n,r=window.scrollY;window.addEventListener("scroll",(0,o.throttle)(()=>{e=window.scrollY,n-e<0&&r<e?r=e:s.exitIntentMobileActions.length>0&&n-e>0&&r>500&&(0,t.doCandidateSelection)(s.exitIntentMobileActions,"exit intent mobile"),n=e},100,null))}document.addEventListener("mouseout",e=>{e.clientY<=0&&s.exitIntentTopActions.length>0&&(0,t.doCandidateSelection)(s.exitIntentTopActions,"exit intent top"),e.clientY>=window.innerHeight&&s.exitIntentBottomActions.length>0&&(0,t.doCandidateSelection)(s.exitIntentBottomActions,"exit intent top"),e.clientX<=0&&s.exitIntentLeftActions.length>0&&(0,t.doCandidateSelection)(s.exitIntentLeftActions,"exit intent top"),e.clientX>=window.innerWidth&&s.exitIntentRightActions.length>0&&(0,t.doCandidateSelection)(s.exitIntentRightActions,"exit intent right")}),t.exclusiveActions={register:(e,n,r)=>{const i=((e,t)=>{const{immediately:n,exitIntentTop:r,exitIntentRight:i,exitIntentLeft:o,exitIntentBottom:s,exitIntentMobile:a,scrollPercentage:c,timeDelay:d,never:u}=e,h={immediately:n,exitIntentTop:r,exitIntentRight:i,exitIntentLeft:o,exitIntentBottom:s,exitIntentMobile:a,never:u},p=((e,t)=>{if(!e||""===e)return 0;e=e.replace("%","");const n=parseFloat(e);return n>100||n<1||Number.isNaN(n)?(l({errorMessage:`Invalid scroll percentage value of ${e} detected on exclusive action script element:`,exclusiveActionElement:t}),-1):n/100})(c,t),f=((e,t)=>{var n,r;if(!e||""===e)return 0;let i,o,s,a;switch(!0){case/^\s*\d+\s*s$/i.test(e):e.replace("s",""),i=parseInt(e,10);break;case/^(\d+\s*minutes?)?(\s*\d+\s*seconds?)?$/i.test(e):o=(null===(n=e.match(/(\d+)\s*minute?/i))||void 0===n?void 0:n[1])||"",s=(null===(r=e.match(/(\d+)\s*second?/i))||void 0===r?void 0:r[1])||"",i=(60*parseInt(o,10)||0)+(parseInt(s,10)||0);break;case/:/.test(e):a=e.split(":"),o=a[0],s=a[1],i=60*parseInt(o,10)+parseInt(s,10);break;default:return l({errorMessage:`Invalid time delay value of ${e} detected on exclusive action script element:`,exclusiveActionElement:t}),-1}return i*=1e3,i})(d,t),m=(e=>{const t={immediately:!1,exitIntentTop:!1,exitIntentRight:!1,exitIntentLeft:!1,exitIntentBottom:!1,exitIntentMobile:!1,never:!1};return e.forEach(([e,n])=>{t[e]=/true/gi.test(n)}),t})(Object.entries(h));return m.never=-1===f||-1===p||m.never,Object.assign(Object.assign({},m),{scrollPercentage:p,timeDelay:f})})(n,e);if(i.never)return void l({errorMessage:"Trigger option 'never' set to true on exclusive action script.  Excluding action from queue.",exclusiveActionElement:e});if(!(e=>Object.values(e).some(e=>!!e))(i))return void l({errorMessage:"Exclusive action script has no defined trigger options.  Excluding action from queue.",exclusiveActionElement:e});const o=((e,t,n)=>{let r=parseInt(e,10);return(Number.isNaN(r)||parseFloat(e)%1!=0||r<(n?0:1)||r>2147483646)&&(l({errorMessage:`Invalid priority value of ${e} provided on exclusive action script`,exclusiveActionElement:t}),r=2147483646),r})(r,e,n.checkoutHarness),d={exclusiveActionElement:e,triggerOptions:i,priority:o};s.actionQueue.push(d),(e=>{const{timeDelay:n,immediately:r,scrollPercentage:i,exitIntentBottom:o,exitIntentLeft:a,exitIntentRight:c,exitIntentTop:l,exitIntentMobile:d}=e.triggerOptions;if(n>0){const r=window.setTimeout(()=>{s.timeDelayActions.push(e),(0,t.doCandidateSelection)(s.timeDelayActions,"time delay")},n);s.timeoutIds.push(r)}r&&(s.immediatelyActions.push(e),(0,t.doCandidateSelection)(s.immediatelyActions,"immediately")),i>0&&s.scrollPercentageActions.push(e),l&&s.exitIntentTopActions.push(e),o&&s.exitIntentBottomActions.push(e),a&&s.exitIntentLeftActions.push(e),c&&s.exitIntentRightActions.push(e),d&&s.exitIntentMobileActions.push(e)})(d),c||a||(a=window.setTimeout(()=>{c=!0,s.flaggedTriggerArrays.forEach(e=>{(0,t.doCandidateSelection)(e.flaggedTriggerArray,e.trigger)})},100),s.timeoutIds.push(a))},refreshExclusiveActionValues:()=>{s.boundListeners.forEach(e=>{e.elem.removeEventListener(e.event,e.callback,!0)}),s.boundListeners.length=0,s.timeoutIds.forEach(e=>{clearTimeout(e)}),s.timeoutIds.length=0,(()=>{let e;const n=[],r=document.querySelector(".current-page")?document.querySelector(".current-page"):document.body,i=(null==r?void 0:r.offsetTop)||0,a=(null==r?void 0:r.scrollHeight)||1;var c,l,d;c=window,l="scroll",d=(0,o.throttle)(()=>{e=(window.scrollY-i)/a,window.Zephr.utils.exclusiveActions.scrollPercentageActions.forEach(t=>{const{scrollPercentage:r}=t.triggerOptions;e>r&&n.push(t)}),n.length>0&&(0,t.doCandidateSelection)(n,"scroll percentage")},100,null),c&&(s.boundListeners.push({elem:c,event:l,callback:d}),c.addEventListener(l,d,!0))})(),s.actionQueue.length=0,s.errorTracker.length=0,s.scrollPercentageActions.length=0,s.exitIntentTopActions.length=0,s.exitIntentBottomActions.length=0,s.exitIntentLeftActions.length=0,s.exitIntentRightActions.length=0,s.exitIntentMobileActions.length=0,s.executionDetails.length=0,s.winnerInfo.winner={},s.winnerInfo.winReason="",s.winnerInfo.hasShown=!1,c=!1,a=0,delete s.winnerInfo.randomNumber,delete s.winnerInfo.randomNumberCeiling},setExcludeOnAccountModal:e=>{document.addEventListener("fbs-zephr-modal-opened",t=>{"sign-in"===t.detail.modalId&&e.setAttribute("exclusive-action-mode","excluded")}),document.addEventListener("fbs-zephr-modal-closed",t=>{"sign-in"===t.detail.modalId&&e.removeAttribute("exclusive-action-mode")})},actionQueue:s.actionQueue,errorTracker:s.errorTracker,scrollPercentageActions:s.scrollPercentageActions,winnerInfo:s.winnerInfo,executionDetails:s.executionDetails}},23836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99233);t.default=({DFPZone:e="none",author:t="none",login:n="false",contribType:i="none",templateType:o="none",templateSubType:s="none",isRetracted:a,slot:c="none",swimLane:l,blogType:d,edit:u,bertieBadgeSlugs:h,entitySegments:p,streamPosition:f,resourceId:m})=>{const g={},w="article-d"===e.substring(0,9)?"article":e;return g.pageType=w,g.author=t,"string"==typeof m&&""!==m&&(g.resourceId=m),"true"===n&&(g.bertie_user=!0,g.login=!0),g.contribType=i,"article"===w&&(g.template=o,g.templateSubType=s,g.streamIndex=f,"finds"===o?g.shopping=!0:"advisor"===o?g.advisor=!0:"live"===o&&(g.live=!0),a&&(g.retracted=!0),"true"===(0,r.cd11IsSponsored)(l,c)&&(g.sponsored_content=!0),d&&r.paidContentNameMapping[d]&&(g.paid_content=!0),u&&u.split(",").forEach(e=>{g[`edit:${e}`]=!0}),h&&"none"!==h&&h.split(",").forEach(e=>{g[`badge:${e}`]=!0}),p&&"none"!==p&&p.split(",").forEach(e=>{g[`es:${e}`]=!0})),g}},4664:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.postBlueConicSegments=t.updateCordialListData=t.getZephrAccessCookie=t.doesUserHaveProductByCookie=t.doesUserHaveProduct=t.shouldShowListProfile=t.shouldHideForbesServices=t.createZephrModalContainer=t.hideClosableModal=t.hideModal=t.showModal=t.hideLogin=t.showLogin=t.logout=void 0,i(n(83594),t);var o=n(99233);Object.defineProperty(t,"logout",{enumerable:!0,get:function(){return o.logout}}),Object.defineProperty(t,"showLogin",{enumerable:!0,get:function(){return o.showLogin}}),Object.defineProperty(t,"hideLogin",{enumerable:!0,get:function(){return o.hideLogin}}),Object.defineProperty(t,"showModal",{enumerable:!0,get:function(){return o.showModal}}),Object.defineProperty(t,"hideModal",{enumerable:!0,get:function(){return o.hideModal}}),Object.defineProperty(t,"hideClosableModal",{enumerable:!0,get:function(){return o.hideClosableModal}}),Object.defineProperty(t,"createZephrModalContainer",{enumerable:!0,get:function(){return o.createZephrModalContainer}}),Object.defineProperty(t,"shouldHideForbesServices",{enumerable:!0,get:function(){return o.shouldHideForbesServices}}),Object.defineProperty(t,"shouldShowListProfile",{enumerable:!0,get:function(){return o.shouldShowListProfile}}),Object.defineProperty(t,"doesUserHaveProduct",{enumerable:!0,get:function(){return o.doesUserHaveProduct}}),Object.defineProperty(t,"doesUserHaveProductByCookie",{enumerable:!0,get:function(){return o.doesUserHaveProductByCookie}}),Object.defineProperty(t,"getZephrAccessCookie",{enumerable:!0,get:function(){return o.getZephrAccessCookie}});var s=n(43650);Object.defineProperty(t,"updateCordialListData",{enumerable:!0,get:function(){return s.updateCordialListData}});var a=n(33315);Object.defineProperty(t,"postBlueConicSegments",{enumerable:!0,get:function(){return a.postBlueConicSegments}}),i(n(87993),t),i(n(28624),t),i(n(48134),t),i(n(36645),t)},91397:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareFbsExternalAccess=t.prepareWeb3Access=t.getActiveGrants=t.publicKeyByTokenName=void 0;const o=i(n(77860));t.publicKeyByTokenName={fbs_web3:"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAihWLnlw0AKn4mrPeZ2i2\nrDSI/opQgicRlL2R3zBFrnPQe3iv9gDsQwTCkeTr/xmqItA9FPNKmce9+4N/hmus\nk2bEX/DIQp89A6+99cLC4DPHcVxPc/yF4cICD9xgMO/h8uzlwlnJV9B6q2xA1hjd\nwCtdszm8lnfzDF8K6pM0iH+SJXJmwrN8Op2WE3QvxlcF+njNPbdDi3sPgsvqVahe\npHrOU5JHbNnbsxr1XLUja1PiJTABUTKw4TLV/RZAAkT5EHOgiugTVhP0xFvQ47D+\nxpURBKm8/lcCzqx/85DsoS7q6twA4kzutb8KwYNsCfRLBSXbDGDaaVzlsgxqczZP\ncQIDAQAB\n-----END PUBLIC KEY-----",fbs_external:"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtMC4gTyc5uebgcIh4/hs\niCmV5nz9y+jGogUBpY+0ZI1niQeEqdx6G5xiiwrSC+UUuJG9xO429Ot4ZlXkEedc\ngtn7y9nqUzRCGZ0Zw594LUgu/c5WOwv7TNXEaH4wdmbXeD1RQtb5MJshdSEDVGrv\n+mSaTKT1EJBEcC4X5gyteoCQP+/tn7PoViVzLexnKg8a+zDMKHwtV4KjsHjtfBAx\ncpu8ypbZ148PJkIx8tmjAUuf8kA7EziJxUCWDhaV2bilWLphB/9dvHdgcGYd9yn8\nJMN08JV1Mr0uZuqY6EucMVlVaEVBKWJ+Z1cM8L/jmXmyTjjgkNyzp4UZJ9+B8JIL\nMQIDAQAB\n-----END PUBLIC KEY-----"};t.getActiveGrants=(e=[])=>e.reduce((e,t)=>(Date.now()<t.expiration_date&&e.push(t.grant_id.toUpperCase()),e),[]);const s=(...e)=>r(void 0,[...e],void 0,function*(e=""){const n=((e="")=>{const t=window.localStorage.getItem(e)||"";return t&&((e,t)=>{const n=new Date(+new Date+31536e6).toUTCString();document.cookie=`${e}=${t}; path=/; domain=.forbes.com; expires=${n}`})(e,t),t})(e);return n?((...e)=>r(void 0,[...e],void 0,function*(e="",n=""){const r=yield(0,o.default)(n,t.publicKeyByTokenName[e]);return r.error?[]:(0,t.getActiveGrants)(r.grants)}))(e,n):[]});t.prepareWeb3Access=()=>r(void 0,void 0,void 0,function*(){return s("fbs_web3")}),t.prepareFbsExternalAccess=()=>r(void 0,void 0,void 0,function*(){return s("fbs_external")})},48134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unlimitedSubscriptionBundleProducts=t.zephrProductBundle=void 0,t.zephrProductBundle={BRVYR1EZ:["FIN_FDI","FIN_FIV","R8W03AS"],BUN_FBI_MEM:["FIN_FBI","R8W03AS"],FIN_FDI_FPR:["FIN_FDI","FIN_FPR"],BUN_WB:["FIN_FDI","FIN_FIV"],BUN_FIN_CRY_UA:["FIN_CRY","R8W03AS"],BUN_FIN_UIB:["FIN_FPR","FIN_FDI","FIN_FIS","R8W03AS"],BUN_FIN_FIV_UA:["FIN_FIV","R8W03AS"],BUN_UA_U30:["R8W03AS"],BUN_UA_PRINT:["R8W03AS"],FIN_FEI:["FIN_FBP","FIN_CRY","FIN_FDI","FIN_FFI","FIN_FIV","FIN_FPR","FIN_QNT","FIN_REI","FIN_FIS","FIN_LEH","FIN_GIS","FIN_GTF","FIN_IRI","FIN_IQT","FIN_NLM","FIN_NFX","FIN_SHO","FIN_SSS","FIN_OPS"]},t.unlimitedSubscriptionBundleProducts=["BRVYR1EZ","BUN_FBI_MEM","BUN_FIN_CRY_UA","BUN_FIN_UIB","BUN_FIN_FIV_UA","BUN_UA_PRINT","BUN_UA_U30"]},28624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premiumPaywallProducts=t.clientSubscriptionProducts=t.unlimitedSubscriptionProducts=t.zephrProducts=void 0,t.zephrProducts={unlimitedSubscription:"R8W03AS",clientUnlimitedAccess:"R3PNAHU",unlimitedAccessForEmployees:"RSKL92C",unlimitedAccessForExecutiveComps:"RZZFK7H",stageProfileAdmin:"RXR0D16",prodProfileAdmin:"RO8HSE9",advisorUnlimitedAccess:"RA6L55F",unlimitedAccessForInternational:"RKPEVDB",unlimitedAccessForTopAdvisorDirectory:"R0EQIX2",marketplace:"MARKETPLACE",press2020:"PRESS2020",vendors2020:"VENDORS2020",wealthAdvisorResource:"RCL934Y",unlimitedAccessForAdvisorEmployee:"R880NB6",unlimitedAccessForFSBT:"RVEX5N5",unlimitedAccessForFTC:"RETBQ1H",unlimitedAccessForCEF:"RXCC3NS",unlimitedAccessForAKMR:"RKA20OK",unlimitedAccessForIL:"RZYU584",unlimitedAccessForScaleUp:"BRYEYOUU",unlimitedAccessForSchools:"RNQLU4R",unlimitedAccessForForbesLive:"RWOFY78",unlimitedAccessForCorporate:"RYBR1SC"},t.unlimitedSubscriptionProducts=[t.zephrProducts.unlimitedSubscription,t.zephrProducts.unlimitedAccessForInternational],t.clientSubscriptionProducts=[t.zephrProducts.clientUnlimitedAccess,t.zephrProducts.advisorUnlimitedAccess],t.premiumPaywallProducts=Object.values(t.zephrProducts)},36645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveArticleProducts=void 0;const r=n(28624),i=n(48134);t.saveArticleProducts=[r.zephrProducts.unlimitedAccessForExecutiveComps,r.zephrProducts.unlimitedAccessForAdvisorEmployee,r.zephrProducts.advisorUnlimitedAccess,r.zephrProducts.unlimitedAccessForFSBT,r.zephrProducts.unlimitedAccessForFTC,r.zephrProducts.unlimitedAccessForCEF,r.zephrProducts.unlimitedAccessForAKMR,r.zephrProducts.unlimitedAccessForIL,r.zephrProducts.clientUnlimitedAccess,r.zephrProducts.unlimitedAccessForEmployees,r.zephrProducts.marketplace,r.zephrProducts.vendors2020,r.zephrProducts.unlimitedSubscription,r.zephrProducts.unlimitedAccessForInternational,...i.unlimitedSubscriptionBundleProducts],t.default=t.saveArticleProducts},2821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".zephr-modal-open{overflow:hidden;height:auto}.zephr-backdrop{display:none;background-color:#333;position:fixed;opacity:.9;top:0;bottom:0;left:0;right:0;z-index:10001}.zephr-generic-modal{display:none;position:fixed;top:56px;bottom:0;left:0;right:0;z-index:10002;overflow:hidden}.zephr-generic-modal.zephr-sign-in-modal{z-index:10003}.zephr-generic-modal.zephr-sign-in-modal .zephr-close-btn{display:none}.zephr-close-wrapper{position:relative;text-align:right;height:0;width:100%;margin-bottom:-30px}.zephr-close-btn{position:absolute;top:-10px;right:0;width:30px;height:30px;background:#fff url(\"data:image/svg+xml,%3Csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.51 7.208l-.706-.708-2.798 2.798L7.207 6.5l-.707.707 2.798 2.799L6.503 12.8l.707.707 2.796-2.795 2.792 2.792.707-.707-2.792-2.792 2.798-2.798z' fill='%23000' fill-opacity='.4'/%3E%3C/svg%3E\") center center no-repeat;border:none;box-shadow:0 0 10px rgba(28,37,68,.15);outline:none;border-radius:50%}.zephr-modal-content{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:normal;width:100%;height:100%;overflow-x:hidden;overflow-y:auto}.zephr-modal-content>*{max-width:600px}"},77860:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return r(this,void 0,void 0,function*(){if(!e||!t)return{error:!0};try{const n=yield o(t);return(yield(0,i.jwtVerify)(e,n)).payload}catch(e){return console.error("An error occurred while trying to validate token!",e.message),{error:!0}}})};const i=n(45014),o=e=>r(void 0,void 0,void 0,function*(){return window.crypto.subtle.importKey("spki",(e=>{const t=e.substring(26,e.length-24);return(e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);return Array.from(e).forEach((t,r)=>{n[r]=e.charCodeAt(r)}),t})(window.atob(t))})(e),{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["verify"])})},57627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackingHandler=void 0;const r=new(n(1384).IdleQueue)({ensureTasksRun:!0});t.trackingHandler=({eventCategory:e,eventAction:t,eventLabel:n,onboardingStep:i})=>{const o={event:"analyticsEvent","event category":e,"event action":t,"event label":n};void 0!==i&&(o.onboardingStep=i),r.pushTask(()=>{window.dataLayer.push(o)})}},14912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{if(!e)return{};const t=Object.entries(e),n={};return t.forEach(([e,t])=>{var r;t.prediction&&(n[e]=JSON.stringify({prediction:t.prediction})),"topics"===e.toLowerCase()&&(n.topics=t.topics,n.channels=null===(r=t.channels)||void 0===r?void 0:r.toLowerCase())}),n}},76240:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.cdsAttributes=t.updateUserProfile=t.getSite=t.handleLocalStorage=t.getParameterByName=void 0,t.getParameterByName=(e,t)=>{const n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp(`[\\?&]${n}=([^&#]*)`).exec(t);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},t.handleLocalStorage=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){console.error("Error setting local storage",e)}},t.getSite=()=>{var e,t,n;let r="unknown";return(null===(e=null===window||void 0===window?void 0:window.forbes)||void 0===e?void 0:e.preferences)?r="preferences":(null===(t=null===window||void 0===window?void 0:window.forbes)||void 0===t?void 0:t["simple-site"])?r="simple-site":(null===(n=null===window||void 0===window?void 0:window.forbes)||void 0===n?void 0:n["digital-assets"])&&(r="digital-assets"),r},t.updateUserProfile=e=>n(void 0,void 0,void 0,function*(){try{yield fetch("/blaize/profile",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object.assign({},e))})}catch(e){console.error("An error occurred while updating user profile",e)}}),t.cdsAttributes=["cds-address","cds-address-2","cds-country","cds-state","cds-zip","cds-city"]},87993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.productMaps=void 0;const r=n(28624),i=n(36645),o=n(48134);t.productMaps={unlimitedSubscriptionProducts:r.unlimitedSubscriptionProducts,clientSubscriptionProducts:r.clientSubscriptionProducts,premiumPaywallProducts:r.premiumPaywallProducts,unlimitedSubscriptionBundleProducts:o.unlimitedSubscriptionBundleProducts,saveArticleProducts:i.saveArticleProducts,bundles:o.zephrProductBundle},window.Zephr=window.Zephr||{},window.Zephr.utils=window.Zephr.utils||{},window.Zephr.utils=Object.assign(Object.assign({},window.Zephr.utils),{productMaps:t.productMaps})},83594:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.zephrRun=void 0;const s=n(17948),a=o(n(44575)),c=n(99233),l=o(n(2821));n(35910);const d=n(40459);if(!window.zephrInit){window.zephrInit=!0;const e=document.createElement("style");e.innerHTML=l.default,null===(r=document.querySelector("head"))||void 0===r||r.appendChild(e),(0,c.createZephrModalContainer)("sign-in"),(0,c.createZephrModalContainer)("ad-block-detected",!1),(0,c.createZephrModalContainer)("editorial-newsletter",!0),(0,c.createZephrModalContainer)("fin-free-report",!0),(0,c.createZephrModalContainer)("event-promotional",!0),(0,c.createZephrModalContainer)("survey",!0),(0,c.getUserData)(),document.addEventListener("zephr.browserDecisionsFinished",()=>{var e,t,n,r,i;const o=(null===(t=null===(e=window.Zephr)||void 0===e?void 0:e.accessDetails)||void 0===t?void 0:t.authenticated)||!1,s=(null===(r=null===(n=window.Zephr)||void 0===n?void 0:n.accessDetails)||void 0===r?void 0:r.activeProducts)||[];(0,c.updateAccessCookie)(o,s),null===(i=window.Blaize)||void 0===i||i.registerFormPostProcessor("*",(e,t)=>{"Registration successful"===t.message&&(0,c.updateAccessCookie)(!0)})})}t.zephrRun=(e,t)=>i(void 0,void 0,void 0,function*(){const n=yield(0,a.default)(t);d.exclusiveActions.refreshExclusiveActionValues(),window.forbes=window.forbes||{},window.forbes.lastCustomData=n,(0,s.run)({cdnApi:e,customData:n})})},99233:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createZephrModalContainer=t.doesUserHaveProduct=t.doesUserHaveProductByCookie=t.checkUserProductAccess=t.shouldShowListProfile=t.shouldHideForbesServices=t.getZephrAccessCookie=t.callDataLayerUpdate=t.getUserData=t.logout=t.hideClosableModal=t.hideLogin=t.hideModal=t.showLogin=t.showModal=t.updateAccessCookie=t.cd11IsSponsored=t.paidContentNameMapping=t.expandFuseValues=void 0;const i=n(36948),o=n(43650),s=n(48134),a=n(40459),c=n(57627),l=n(33315),d=n(76240),u="fbs-zephr-access",h=e=>{var t;window.registrationCallbackQueue=null===(t=window.registrationCallbackQueue)||void 0===t?void 0:t.filter(t=>t.key!==e)},p=e=>{var t;window.loginCallbackQueue=null===(t=window.loginCallbackQueue)||void 0===t?void 0:t.filter(t=>t.key!==e)};t.expandFuseValues=(e,t)=>{for(const n in e)if("object"==typeof e[n])Object.entries(e[n]).forEach(e=>{const r=e[0],i=e[1].split(",");"fbs-rp"!==n&&i.forEach(e=>{t[`${n}:${r}:${e}`]=!0})});else{const r=(String(e[n])||"").split(",");r.length>1&&"fbs-rp"!==n?r.forEach(e=>{t[`${n}:${e}`]=!0}):"fbs-rp"!==n&&(t[n]=e[n])}},t.paidContentNameMapping={ad:"brandvoice",insights:"insights",author:"authorvoice",connoisseur:"connoisseur",marketplace:"marketplace",comm:"communityvoice"},t.cd11IsSponsored=(e,t="none")=>t&&"none"!==t||e&&"none"!==e?"true":"false",t.updateAccessCookie=(e=!1,t=[])=>{const n=e?new Date(+new Date+63072e6).toUTCString():"Thu, 01 Jan 1970 00:00:01 GMT",r=t.reduce((e,t)=>`${e},${t}`,e?"logged-in":"");document.cookie=`${u}=${r}; path=/; domain=.forbes.com; expires=${n}`},t.showModal=e=>{const t=document.querySelector("body"),n=null==t?void 0:t.classList.contains(`zephr-${e}-modal-open`);null==t||t.classList.add("zephr-modal-open",`zephr-${e}-modal-open`),n||document.dispatchEvent(new CustomEvent("fbs-zephr-modal-opened",{detail:{modalId:e}}))},t.showLogin=(e="General")=>{window.registerSource=e,(0,t.showModal)("sign-in")},t.hideModal=e=>{const t=document.querySelector("body"),n=!(null==t?void 0:t.classList.contains(`zephr-${e}-modal-open`));null==t||t.classList.remove(`zephr-${e}-modal-open`);let r=!0;null==t||t.classList.forEach(e=>{"zephr-modal-open"!==e&&e.startsWith("zephr-")&&e.endsWith("-modal-open")&&(r=!1)}),r&&(null==t||t.classList.remove("zephr-modal-open")),h(e),p(e),n||document.dispatchEvent(new CustomEvent("fbs-zephr-modal-closed",{detail:{modalId:e}}))},t.hideLogin=()=>(0,t.hideModal)("sign-in"),t.hideClosableModal=e=>{var n;const r=document.querySelector("body");!(null===(n=null==r?void 0:r.querySelector(`.zephr-${e}-modal`))||void 0===n?void 0:n.classList.contains("no-close"))&&(0,t.hideModal)(e)},t.logout=e=>{fetch("/blaize/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({where:"JUST_HERE"})}).then(e=>e.json()).then(()=>{if(delete window.Zephr.user,window.fbsCordial)try{window.fbsCordial.forget()}catch(e){console.error("Error forgetting Cordial user",e)}(0,t.updateAccessCookie)(),"function"==typeof e?e():window.location.reload()}).catch(e=>{console.log("Error logging out!",e)})},t.getUserData=(...e)=>r(void 0,[...e],void 0,function*(e=!0){return Promise.all([r(void 0,void 0,void 0,function*(){var e;const t=yield fetch("/blaize/account"),n=yield t.json(),r=null===(e=null==n?void 0:n.identifiers)||void 0===e?void 0:e.email_address,i=null==n?void 0:n.tracking_id;window.Zephr=window.Zephr||{},i&&(window.Zephr.user=window.Zephr.user||{},window.Zephr.user=Object.assign(Object.assign({},window.Zephr.user),{email:r,"tracking-id":i}),(0,c.trackingHandler)({eventCategory:"Zephr trackingID",eventAction:"Page Loaded",eventLabel:i}))}),r(void 0,void 0,void 0,function*(){const e=yield fetch("/blaize/profile"),t=yield e.json();d.cdsAttributes.forEach(e=>{delete t[e]}),(null==t?void 0:t.status)||(null==t?void 0:t["blueconic-id"])||(yield(0,l.saveBlueConicIdToProfile)()),window.Zephr=window.Zephr||{},(null==t?void 0:t.status)||(window.Zephr.user=window.Zephr.user||{},window.Zephr.user=Object.assign(Object.assign({},window.Zephr.user),t))})]).then(()=>{window.Zephr=window.Zephr||{},window.Zephr.user||(window.Zephr.error=!0),e&&document.dispatchEvent(new CustomEvent("fbs-zephr-init",{detail:window.Zephr}))}).catch(()=>{console.log("Error fetching Zephr user information!"),window.Zephr=window.Zephr||{},window.Zephr.error=!0,e&&document.dispatchEvent(new CustomEvent("fbs-zephr-init",{detail:window.Zephr}))})}),t.callDataLayerUpdate=()=>r(void 0,void 0,void 0,function*(){const e=[];return window.Zephr.error&&(delete window.Zephr.error,e.push((0,t.getUserData)(!1))),e.push(fetch("/blaize/info").then(e=>e.json()).then(e=>{var n,r;const i=(null===(n=e.dataLayer)||void 0===n?void 0:n.loggedin)||!1,o=(null===(r=e.dataLayer)||void 0===r?void 0:r["active-products"])||[];return window.Zephr.accessDetails=window.Zephr.accessDetails||{},window.Zephr.accessDetails.activeProducts=o,(0,t.updateAccessCookie)(i,o),e.dataLayer}).catch(e=>{console.error("Error fetching Zephr dataLayer update!",e)})),Promise.all(e)}),t.getZephrAccessCookie=()=>(0,i.getCookieValue)(document.cookie,u),t.shouldHideForbesServices=()=>{var e,t;return"yes"===(null===(t=null===(e=window.Zephr)||void 0===e?void 0:e.user)||void 0===t?void 0:t["hide-forbes-services"])},t.shouldShowListProfile=()=>{var e,t;return"yes"===(null===(t=null===(e=window.Zephr)||void 0===e?void 0:e.user)||void 0===t?void 0:t["has-list-profile"])},t.checkUserProductAccess=(e=[],t=[])=>{let n=!1;return e.forEach(e=>{n=n||t.includes(e)}),n=n||Object.values(s.zephrProductBundle).some(n=>n.some(n=>e.includes(n)&&t.includes(n))),n},t.doesUserHaveProductByCookie=(e=[])=>(0,t.checkUserProductAccess)(e,(()=>{const e=(0,t.getZephrAccessCookie)();return e?e.split(","):[]})()),t.doesUserHaveProduct=(e=[])=>{return(0,t.checkUserProductAccess)(e,(null===(r=null===(n=window.Zephr)||void 0===n?void 0:n.accessDetails)||void 0===r?void 0:r.activeProducts)||[]);var n,r},t.createZephrModalContainer=(e,n=!0)=>{var r,i,o;const s=document.createElement("style");s.innerHTML=`\n    .zephr-modal-open.zephr-${e}-modal-open .zephr-${e}-modal,\n    .zephr-modal-open.zephr-${e}-modal-open .zephr-${e}-backdrop {\n      display: block;\n    }`,null===(r=document.querySelector("head"))||void 0===r||r.appendChild(s);const a=document.createElement("div");a.classList.add(`zephr-${e}-backdrop`,"zephr-backdrop");const c=document.createElement("div");c.classList.add(`zephr-${e}-modal`,"zephr-generic-modal"),c.id=e;const l=document.createElement("div");l.classList.add("zephr-modal-content");const d=document.createElement("div");if(d.classList.add(`zephr-${e}-modal-content-hook`),n){const n=document.createElement("div");n.classList.add("zephr-close-wrapper");const r=document.createElement("button");let i;r.classList.add("zephr-close-btn"),r.setAttribute("aria-label","Close"),r.type="button",r.addEventListener("click",()=>(0,t.hideModal)(e)),n.appendChild(r),l.appendChild(n),l.addEventListener("pointerdown",e=>{i=e.target}),l.addEventListener("pointerup",n=>n.target===i&&n.target===l&&(0,t.hideModal)(e)),a.addEventListener("click",()=>(0,t.hideModal)(e))}else c.classList.add("no-close");l.appendChild(d),c.appendChild(l),null===(i=document.querySelector("body"))||void 0===i||i.appendChild(a),null===(o=document.querySelector("body"))||void 0===o||o.appendChild(c)},window.Zephr=window.Zephr||{},window.Zephr.utils=window.Zephr.utils||{},window.Zephr.utils=Object.assign(Object.assign({},window.Zephr.utils),{callDataLayerUpdate:t.callDataLayerUpdate,shouldHideForbesServices:t.shouldHideForbesServices,shouldShowListProfile:t.shouldShowListProfile,doesUserHaveProduct:t.doesUserHaveProduct,doesUserHaveProductByCookie:t.doesUserHaveProductByCookie,getZephrAccessCookie:t.getZephrAccessCookie,showLogin:t.showLogin,hideLogin:t.hideLogin,logout:t.logout,showModal:t.showModal,hideClosableModal:t.hideClosableModal,createZephrModalContainer:t.createZephrModalContainer,updateCordialListData:o.updateCordialListData,saveExtendedProfile:(e,t)=>r(void 0,void 0,void 0,function*(){try{const n=yield fetch(`/blaize/profile/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});return yield n.json()}catch(e){return console.log("An error occurred while saving extended profile",e),{error:!0}}}),fetchExtendedProfile:e=>r(void 0,void 0,void 0,function*(){try{const t=yield fetch(`/blaize/profile/${e}`,{headers:{Accept:"application/json"}});return yield t.json()}catch(e){return console.log("An error occurred while fetching extended profile",e),{error:!0}}}),appendToRegistrationQueue:(e,t="no-key")=>{window.registrationCallbackQueue=window.registrationCallbackQueue||[],window.registrationCallbackQueue.push({callback:e,key:t})},removeFromRegistrationQueue:h,appendToLoginQueue:(e,t="no-key")=>{window.loginCallbackQueue=window.loginCallbackQueue||[],window.loginCallbackQueue.push({callback:e,key:t})},removeFromLoginQueue:p,exclusiveActions:a.exclusiveActions,emailRegex:i.emailRegex,studentEmailRegex:i.studentEmailRegex,isValidEmail:i.isValidEmail,isValidStudentEmail:i.isValidStudentEmail,nextPaintAndTaskCallback:(e,t=100)=>{let n=!1;const r=()=>{n||(n=!0,e(),window.removeEventListener("visibilitychange",r))};requestAnimationFrame(()=>{setTimeout(r,0)}),window.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&r()},{once:!0}),setTimeout(r,t)}})},40471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchAsync=function(e){return new n(e).promise};var n=function(){function e(e){void 0===e&&(e={}),this.tasks={resolved:{},active:{},waiting:{},timedOut:{}},this.resolvedData={},this.init(e)}return e.prototype.init=function(e){var t=this;this.promise=new Promise(function(n,r){t._resolve=n,t._reject=r,Object.keys(e).forEach(function(n){var r=e[n];(r.requires||[]).length>0?t.tasks.waiting[n]=r:t.tasks.active[n]=r}),Object.keys(t.tasks.active).forEach(function(e){var n=t.tasks.active[e];t.createTask(e,n).catch(function(e){return t._reject(e)})}),0===Object.keys(t.tasks.active).length&&t._resolve({})})},e.prototype.createTask=function(e,t){var n=this;return new Promise(function(r,i){var o=[];t.params&&o.push(t.params),(t.requires||[]).forEach(function(e){o.push(n.resolvedData[e])}),t.task.apply(null,o).then(function(i){clearTimeout(t.timeoutObj),n.completeTask(e,i,!0),r(i)}).catch(function(o){t.optional?(n.completeTask(e,o),r(o)):i(o)}),t.timeout&&(t.timeoutObj=setTimeout(function(){var o=!1;if(Object.keys(n.tasks.waiting).forEach(function(t){o=o||n.tasks.waiting[t].requires.indexOf(e)>=0}),o||Object.keys(n.tasks.active).length<=Object.keys(n.tasks.timedOut).length+1){var s=new Error("Task '".concat(e,"' timed out!"));t.optional?(n.completeTask(e,s),r(s)):i(s)}else n.tasks.timedOut[e]=t},t.timeout))})},e.prototype.completeTask=function(e,t,n){void 0===n&&(n=!1),this.tasks.active[e]&&(this.tasks.active[e].succeeded=n,this.tasks.resolved[e]=this.tasks.active[e],this.resolvedData[e]=t,delete this.tasks.active[e],delete this.tasks.timedOut[e],n||!this.tasks.resolved[e].optional||this.tasks.resolved[e].silenceOptionalErrors||console.error(t),this.initWaitingTasks(),this.checkAllTasksResolved())},e.prototype.initWaitingTasks=function(){var e=this;Object.keys(this.tasks.waiting).forEach(function(t){var n=e.tasks.waiting[t],r={ready:!0,anyParentSuccess:!1,allParentsSucceeded:!0};if(n.requires.forEach(function(t){e.tasks.resolved[t]?e.tasks.resolved[t].succeeded?r.anyParentSuccess=!0:r.allParentsSucceeded=!1:r.ready=!1}),r.ready){var i=n;r.allParentsSucceeded||n.allowSingleParentSuccess&&r.anyParentSuccess||(i={task:function(){return new Promise(function(e,n){return n(new Error("Precondition not met: ".concat(t)))})},optional:!0}),e.tasks.active[t]=i,delete e.tasks.waiting[t],e.createTask(t,i).catch(function(t){return e._reject(t)})}})},e.prototype.checkAllTasksResolved=function(){var e=this;if(Object.keys(this.tasks.active).length<=Object.keys(this.tasks.timedOut).length){var t=!0;Object.keys(this.tasks.timedOut).forEach(function(n){if(t){var r=new Error("Task '".concat(n,"' timed out!"));if(!e.tasks.timedOut[n].optional)return t=!1,void e._reject(r);e.resolvedData[n]=r,delete e.tasks.timedOut[n]}}),t&&this._resolve(this.resolvedData)}},e}()},24167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieValue=t.getCookie=void 0,t.getCookie=function(e,t){if(e)return e.split(";").find(function(e){return e.indexOf("".concat(t,"="))>-1})},t.getCookieValue=function(e,n){if(e)return((0,t.getCookie)(e,n)||"").split("=")[1]}},15938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidStudentEmail=t.emailRegex=t.studentEmailRegex=void 0,t.studentEmailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.+-]+\.edu$/,t.emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/,t.isValidStudentEmail=function(e){return t.studentEmailRegex.test(e)},t.isValidEmail=function(e){return t.emailRegex.test(e)}},36948:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidStudentEmail=t.emailRegex=t.studentEmailRegex=t.getCookieValue=t.getCookie=t.checkIsIOS=t.checkIsTablet=t.checkIsMobile=t.throttle=t.batchAsync=void 0;var i=n(40471);Object.defineProperty(t,"batchAsync",{enumerable:!0,get:function(){return i.batchAsync}});var o=n(89250);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return r(o).default}});var s=n(19219);Object.defineProperty(t,"checkIsMobile",{enumerable:!0,get:function(){return s.checkIsMobile}}),Object.defineProperty(t,"checkIsTablet",{enumerable:!0,get:function(){return s.checkIsTablet}}),Object.defineProperty(t,"checkIsIOS",{enumerable:!0,get:function(){return s.checkIsIOS}});var a=n(24167);Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return a.getCookie}}),Object.defineProperty(t,"getCookieValue",{enumerable:!0,get:function(){return a.getCookieValue}});var c=n(15938);Object.defineProperty(t,"studentEmailRegex",{enumerable:!0,get:function(){return c.studentEmailRegex}}),Object.defineProperty(t,"emailRegex",{enumerable:!0,get:function(){return c.emailRegex}}),Object.defineProperty(t,"isValidStudentEmail",{enumerable:!0,get:function(){return c.isValidStudentEmail}}),Object.defineProperty(t,"isValidEmail",{enumerable:!0,get:function(){return c.isValidEmail}})},19219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsIOS=t.checkIsTablet=t.checkIsMobile=void 0,t.checkIsMobile=function(e){return Boolean(e&&(e.match(/iP(hone|od)/i)||e.match(/BlackBerry/i)||e.match(/Android/i)&&e.match(/Mobile/i)||e.match(/Nokia/i)&&e.match(/Symbian|Windows Phone/i)))},t.checkIsTablet=function(e){return Boolean(e&&e.match(/Tablet|iPad/i))},t.checkIsIOS=function(e,t){return Boolean(e&&t&&/iPad|iPhone|iPod/.test(e)&&!t.MSStream)}},89250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,i,o=this;return t||(t=100),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=n||o||{},l=+new Date;r&&l<r+t?(clearTimeout(i),i=setTimeout(function(){r=l,c.deferred=!0,e.apply(c,s)},t+l+1-r)):(r=l,e.apply(c,s))}}},67698:()=>{"use strict";!function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}()},17948:function(e,t,n){!function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function r(e){var t={exports:{}};return e(t,t.exports),t.exports}var i=function(e){return e&&e.Math==Math&&e},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),s=function(e){try{return!!e()}catch(e){return!0}},a=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),c={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,d={f:l&&!c.call({1:2},1)?function(e){var t=l(this,e);return!!t&&t.enumerable}:c},u=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,p=function(e){return h.call(e).slice(8,-1)},f="".split,m=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==p(e)?f.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},w=function(e){return m(g(e))},y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},v=function(e,t){if(!y(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!y(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,_=function(e,t){return b.call(e,t)},S=o.document,k=y(S)&&y(S.createElement),E=function(e){return k?S.createElement(e):{}},A=!a&&!s(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),P=Object.getOwnPropertyDescriptor,C={f:a?P:function(e,t){if(e=w(e),t=v(t,!0),A)try{return P(e,t)}catch(e){}if(_(e,t))return u(!d.f.call(e,t),e[t])}},T=function(e){if(!y(e))throw TypeError(String(e)+" is not an object");return e},I=Object.defineProperty,x={f:a?I:function(e,t,n){if(T(e),t=v(t,!0),T(n),A)try{return I(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},O=a?function(e,t,n){return x.f(e,t,u(1,n))}:function(e,t,n){return e[t]=n,e},j=function(e,t){try{O(o,e,t)}catch(n){o[e]=t}return t},D="__core-js_shared__",L=o[D]||j(D,{}),R=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(e){return R.call(e)});var H,M,U,F=L.inspectSource,B=o.WeakMap,z="function"==typeof B&&/native code/.test(F(B)),N=r(function(e){(e.exports=function(e,t){return L[e]||(L[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),K=0,W=Math.random(),J=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++K+W).toString(36)},$=N("keys"),Z=function(e){return $[e]||($[e]=J(e))},V={};if(z){var q=L.state||(L.state=new(0,o.WeakMap)),G=q.get,Q=q.has,Y=q.set;H=function(e,t){return t.facade=e,Y.call(q,e,t),t},M=function(e){return G.call(q,e)||{}},U=function(e){return Q.call(q,e)}}else{var X=Z("state");V[X]=!0,H=function(e,t){return t.facade=e,O(e,X,t),t},M=function(e){return _(e,X)?e[X]:{}},U=function(e){return _(e,X)}}var ee,te,ne={set:H,get:M,has:U,enforce:function(e){return U(e)?M(e):H(e,{})},getterFor:function(e){return function(t){var n;if(!y(t)||(n=M(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},re=r(function(e){var t=ne.get,n=ne.enforce,r=String(String).split("String");(e.exports=function(e,t,i,s){var a,c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof t||_(i,"name")||O(i,"name",t),(a=n(i)).source||(a.source=r.join("string"==typeof t?t:""))),e!==o?(c?!d&&e[t]&&(l=!0):delete e[t],l?e[t]=i:O(e,t,i)):l?e[t]=i:j(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||F(this)})}),ie=o,oe=function(e){return"function"==typeof e?e:void 0},se=function(e,t){return arguments.length<2?oe(ie[e])||oe(o[e]):ie[e]&&ie[e][t]||o[e]&&o[e][t]},ae=Math.ceil,ce=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ce:ae)(e)},de=Math.min,ue=function(e){return e>0?de(le(e),9007199254740991):0},he=Math.max,pe=Math.min,fe=function(e,t){var n=le(e);return n<0?he(n+t,0):pe(n,t)},me=function(e){return function(t,n,r){var i,o=w(t),s=ue(o.length),a=fe(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},ge={includes:me(!0),indexOf:me(!1)},we=ge.indexOf,ye=function(e,t){var n,r=w(e),i=0,o=[];for(n in r)!_(V,n)&&_(r,n)&&o.push(n);for(;t.length>i;)_(r,n=t[i++])&&(~we(o,n)||o.push(n));return o},ve=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],be=ve.concat("length","prototype"),_e={f:Object.getOwnPropertyNames||function(e){return ye(e,be)}},Se={f:Object.getOwnPropertySymbols},ke=se("Reflect","ownKeys")||function(e){var t=_e.f(T(e)),n=Se.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=ke(t),r=x.f,i=C.f,o=0;o<n.length;o++){var s=n[o];_(e,s)||r(e,s,i(t,s))}},Ae=/#|\.prototype\./,Pe=function(e,t){var n=Te[Ce(e)];return n==xe||n!=Ie&&("function"==typeof t?s(t):!!t)},Ce=Pe.normalize=function(e){return String(e).replace(Ae,".").toLowerCase()},Te=Pe.data={},Ie=Pe.NATIVE="N",xe=Pe.POLYFILL="P",Oe=Pe,je=C.f,De=function(e,t){var n,r,i,s,a,c=e.target,l=e.global,d=e.stat;if(n=l?o:d?o[c]||j(c,{}):(o[c]||{}).prototype)for(r in t){if(s=t[r],i=e.noTargetGet?(a=je(n,r))&&a.value:n[r],!Oe(l?r:c+(d?".":"#")+r,e.forced)&&void 0!==i){if(typeof s==typeof i)continue;Ee(s,i)}(e.sham||i&&i.sham)&&O(s,"sham",!0),re(n,r,s,e)}},Le=Array.isArray||function(e){return"Array"==p(e)},Re=function(e,t,n){var r=v(t);r in e?x.f(e,r,u(0,n)):e[r]=n},He="process"==p(o.process),Me=se("navigator","userAgent")||"",Ue=o.process,Fe=Ue&&Ue.versions,Be=Fe&&Fe.v8;Be?te=(ee=Be.split("."))[0]+ee[1]:Me&&(!(ee=Me.match(/Edge\/(\d+)/))||ee[1]>=74)&&(ee=Me.match(/Chrome\/(\d+)/))&&(te=ee[1]);var ze=te&&+te,Ne=!!Object.getOwnPropertySymbols&&!s(function(){return!Symbol.sham&&(He?38===ze:ze>37&&ze<41)}),Ke=Ne&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,We=N("wks"),Je=o.Symbol,$e=Ke?Je:Je&&Je.withoutSetter||J,Ze=function(e){return _(We,e)&&(Ne||"string"==typeof We[e])||(We[e]=Ne&&_(Je,e)?Je[e]:$e("Symbol."+e)),We[e]},Ve=Ze("species"),qe=function(e){return ze>=51||!s(function(){var t=[];return(t.constructor={})[Ve]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Ge=qe("slice"),Qe=Ze("species"),Ye=[].slice,Xe=Math.max;De({target:"Array",proto:!0,forced:!Ge},{slice:function(e,t){var n,r,i,o=w(this),s=ue(o.length),a=fe(e,s),c=fe(void 0===t?s:t,s);if(Le(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Le(n.prototype)?y(n)&&null===(n=n[Qe])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ye.call(o,a,c);for(r=new(void 0===n?Array:n)(Xe(c-a,0)),i=0;a<c;a++,i++)a in o&&Re(r,i,o[a]);return r.length=i,r}});var et={};et[Ze("toStringTag")]="z";var tt="[object z]"===String(et),nt=Ze("toStringTag"),rt="Arguments"==p(function(){return arguments}()),it=tt?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),nt))?n:rt?p(t):"Object"==(r=p(t))&&"function"==typeof t.callee?"Arguments":r};tt||re(Object.prototype,"toString",tt?{}.toString:function(){return"[object "+it(this)+"]"},{unsafe:!0});var ot=o.Promise,st=x.f,at=Ze("toStringTag"),ct=function(e,t,n){e&&!_(e=n?e:e.prototype,at)&&st(e,at,{configurable:!0,value:t})},lt=Ze("species"),dt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},ut={},ht=Ze("iterator"),pt=Array.prototype,ft=function(e){return void 0!==e&&(ut.Array===e||pt[ht]===e)},mt=function(e,t,n){if(dt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},gt=Ze("iterator"),wt=function(e){if(null!=e)return e[gt]||e["@@iterator"]||ut[it(e)]},yt=function(e){var t=e.return;if(void 0!==t)return T(t.call(e)).value},vt=function(e,t){this.stopped=e,this.result=t},bt=function(e,t,n){var r,i,o,s,a,c,l,d=!(!n||!n.AS_ENTRIES),u=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=mt(t,n&&n.that,1+d+h),f=function(e){return r&&yt(r),new vt(!0,e)},m=function(e){return d?(T(e),h?p(e[0],e[1],f):p(e[0],e[1])):h?p(e,f):p(e)};if(u)r=e;else{if("function"!=typeof(i=wt(e)))throw TypeError("Target is not iterable");if(ft(i)){for(o=0,s=ue(e.length);s>o;o++)if((a=m(e[o]))&&a instanceof vt)return a;return new vt(!1)}r=i.call(e)}for(c=r.next;!(l=c.call(r)).done;){try{a=m(l.value)}catch(e){throw yt(r),e}if("object"==typeof a&&a&&a instanceof vt)return a}return new vt(!1)},_t=Ze("iterator"),St=!1;try{var kt=0,Et={next:function(){return{done:!!kt++}},return:function(){St=!0}};Et[_t]=function(){return this},Array.from(Et,function(){throw 2})}catch(e){}var At,Pt,Ct,Tt=function(e,t){if(!t&&!St)return!1;var n=!1;try{var r={};r[_t]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},It=Ze("species"),xt=function(e,t){var n,r=T(e).constructor;return void 0===r||null==(n=T(r)[It])?t:dt(n)},Ot=se("document","documentElement"),jt=/(iphone|ipod|ipad).*applewebkit/i.test(Me),Dt=o.location,Lt=o.setImmediate,Rt=o.clearImmediate,Ht=o.process,Mt=o.MessageChannel,Ut=o.Dispatch,Ft=0,Bt={},zt=function(e){if(Bt.hasOwnProperty(e)){var t=Bt[e];delete Bt[e],t()}},Nt=function(e){return function(){zt(e)}},Kt=function(e){zt(e.data)},Wt=function(e){o.postMessage(e+"",Dt.protocol+"//"+Dt.host)};Lt&&Rt||(Lt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Bt[++Ft]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},At(Ft),Ft},Rt=function(e){delete Bt[e]},He?At=function(e){Ht.nextTick(Nt(e))}:Ut&&Ut.now?At=function(e){Ut.now(Nt(e))}:Mt&&!jt?(Ct=(Pt=new Mt).port2,Pt.port1.onmessage=Kt,At=mt(Ct.postMessage,Ct,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&Dt&&"file:"!==Dt.protocol&&!s(Wt)?(At=Wt,o.addEventListener("message",Kt,!1)):At="onreadystatechange"in E("script")?function(e){Ot.appendChild(E("script")).onreadystatechange=function(){Ot.removeChild(this),zt(e)}}:function(e){setTimeout(Nt(e),0)});var Jt,$t,Zt,Vt,qt,Gt,Qt,Yt,Xt={set:Lt,clear:Rt},en=/web0s(?!.*chrome)/i.test(Me),tn=Xt.set,nn=o.MutationObserver||o.WebKitMutationObserver,rn=o.document,on=o.process,sn=o.Promise,an=(0,C.f)(o,"queueMicrotask"),cn=an&&an.value;cn||(Jt=function(){var e,t;for(He&&(e=on.domain)&&e.exit();$t;){t=$t.fn,$t=$t.next;try{t()}catch(e){throw $t?Vt():Zt=void 0,e}}Zt=void 0,e&&e.enter()},jt||He||en||!nn||!rn?sn&&sn.resolve?(Qt=sn.resolve(void 0),Yt=Qt.then,Vt=function(){Yt.call(Qt,Jt)}):Vt=He?function(){on.nextTick(Jt)}:function(){tn.call(o,Jt)}:(qt=!0,Gt=rn.createTextNode(""),new nn(Jt).observe(Gt,{characterData:!0}),Vt=function(){Gt.data=qt=!qt}));var ln,dn,un,hn,pn,fn=cn||function(e){var t={fn:e,next:void 0};Zt&&(Zt.next=t),$t||($t=t,Vt()),Zt=t},mn=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=dt(t),this.reject=dt(n)},gn={f:function(e){return new mn(e)}},wn=function(e,t){if(T(e),y(t)&&t.constructor===e)return t;var n=gn.f(e);return(0,n.resolve)(t),n.promise},yn=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},vn=Xt.set,bn=Ze("species"),_n="Promise",Sn=ne.get,kn=ne.set,En=ne.getterFor(_n),An=ot,Pn=o.TypeError,Cn=o.document,Tn=o.process,In=se("fetch"),xn=gn.f,On=xn,jn=!!(Cn&&Cn.createEvent&&o.dispatchEvent),Dn="function"==typeof PromiseRejectionEvent,Ln="unhandledrejection",Rn=Oe(_n,function(){if(F(An)===String(An)){if(66===ze)return!0;if(!He&&!Dn)return!0}if(ze>=51&&/native code/.test(An))return!1;var e=An.resolve(1),t=function(e){e(function(){},function(){})};return(e.constructor={})[bn]=t,!(e.then(function(){})instanceof t)}),Hn=Rn||!Tt(function(e){An.all(e).catch(function(){})}),Mn=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},Un=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;fn(function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var s,a,c,l=n[o++],d=i?l.ok:l.fail,u=l.resolve,h=l.reject,p=l.domain;try{d?(i||(2===e.rejection&&Nn(e),e.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),c=!0)),s===l.promise?h(Pn("Promise-chain cycle")):(a=Mn(s))?a.call(s,u,h):u(s)):h(r)}catch(e){p&&!c&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Bn(e)})}},Fn=function(e,t,n){var r,i;jn?((r=Cn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},!Dn&&(i=o["on"+e])?i(r):e===Ln&&function(e,t){var n=o.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Bn=function(e){vn.call(o,function(){var t,n=e.facade,r=e.value;if(zn(e)&&(t=yn(function(){He?Tn.emit("unhandledRejection",r,n):Fn(Ln,n,r)}),e.rejection=He||zn(e)?2:1,t.error))throw t.value})},zn=function(e){return 1!==e.rejection&&!e.parent},Nn=function(e){vn.call(o,function(){var t=e.facade;He?Tn.emit("rejectionHandled",t):Fn("rejectionhandled",t,e.value)})},Kn=function(e,t,n){return function(r){e(t,r,n)}},Wn=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Un(e,!0))},Jn=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Pn("Promise can't be resolved itself");var r=Mn(t);r?fn(function(){var n={done:!1};try{r.call(t,Kn(Jn,n,e),Kn(Wn,n,e))}catch(t){Wn(n,t,e)}}):(e.value=t,e.state=1,Un(e,!1))}catch(t){Wn({done:!1},t,e)}}};function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Rn&&(An=function(e){!function(e,t){if(!(e instanceof t))throw TypeError("Incorrect Promise invocation")}(this,An),dt(e),ln.call(this);var t=Sn(this);try{e(Kn(Jn,t),Kn(Wn,t))}catch(e){Wn(t,e)}},(ln=function(e){kn(this,{type:_n,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t){for(var n in t)re(e,n,t[n],void 0);return e}(An.prototype,{then:function(e,t){var n=En(this),r=xn(xt(this,An));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=He?Tn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Un(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),dn=function(){var e=new ln,t=Sn(e);this.promise=e,this.resolve=Kn(Jn,t),this.reject=Kn(Wn,t)},gn.f=xn=function(e){return e===An||e===un?new dn(e):On(e)},"function"==typeof ot&&(hn=ot.prototype.then,re(ot.prototype,"then",function(e,t){var n=this;return new An(function(e,t){hn.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof In&&De({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return wn(An,In.apply(o,arguments))}}))),De({global:!0,wrap:!0,forced:Rn},{Promise:An}),ct(An,_n,!1),pn=se(_n),a&&pn&&!pn[lt]&&(0,x.f)(pn,lt,{configurable:!0,get:function(){return this}}),un=se(_n),De({target:_n,stat:!0,forced:Rn},{reject:function(e){var t=xn(this);return t.reject.call(void 0,e),t.promise}}),De({target:_n,stat:!0,forced:Rn},{resolve:function(e){return wn(this,e)}}),De({target:_n,stat:!0,forced:Hn},{all:function(e){var t=this,n=xn(t),r=n.resolve,i=n.reject,o=yn(function(){var n=dt(t.resolve),o=[],s=0,a=1;bt(e,function(e){var c=s++,l=!1;o.push(void 0),a++,n.call(t,e).then(function(e){l||(l=!0,o[c]=e,--a||r(o))},i)}),--a||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=xn(t),r=n.reject,i=yn(function(){var i=dt(t.resolve);bt(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var Vn=function(e){return Object(g(e))},qn=Ze("species"),Gn=function(e,t){var n;return Le(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Le(n.prototype)?y(n)&&null===(n=n[qn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Qn=[].push,Yn=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,l,d,u){for(var h,p,f=Vn(c),g=m(f),w=mt(l,d,3),y=ue(g.length),v=0,b=u||Gn,_=t?b(c,y):n||s?b(c,0):void 0;y>v;v++)if((a||v in g)&&(p=w(h=g[v],v,f),e))if(t)_[v]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:Qn.call(_,h)}else switch(e){case 4:return!1;case 7:Qn.call(_,h)}return o?-1:r||i?i:_}},Xn={forEach:Yn(0),map:Yn(1),filter:Yn(2),some:Yn(3),every:Yn(4),find:Yn(5),findIndex:Yn(6),filterOut:Yn(7)},er=Xn.map;De({target:"Array",proto:!0,forced:!qe("map")},{map:function(e){return er(this,e,arguments.length>1?arguments[1]:void 0)}});var tr=Object.keys||function(e){return ye(e,ve)},nr=Object.assign,rr=Object.defineProperty,ir=!nr||s(function(){if(a&&1!==nr({b:1},nr(rr({},"a",{enumerable:!0,get:function(){rr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=nr({},e)[n]||tr(nr({},t)).join("")!=r})?function(e,t){for(var n=Vn(e),r=arguments.length,i=1,o=Se.f,s=d.f;r>i;)for(var c,l=m(arguments[i++]),u=o?tr(l).concat(o(l)):tr(l),h=u.length,p=0;h>p;)c=u[p++],a&&!s.call(l,c)||(n[c]=l[c]);return n}:nr;De({target:"Object",stat:!0,forced:Object.assign!==ir},{assign:ir});var or=function(){var e=T(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function sr(e,t){return RegExp(e,t)}var ar,cr,lr={UNSUPPORTED_Y:s(function(){var e=sr("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:s(function(){var e=sr("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},dr=RegExp.prototype.exec,ur=String.prototype.replace,hr=dr,pr=(cr=/b*/g,dr.call(ar=/a/,"a"),dr.call(cr,"a"),0!==ar.lastIndex||0!==cr.lastIndex),fr=lr.UNSUPPORTED_Y||lr.BROKEN_CARET,mr=void 0!==/()??/.exec("")[1];(pr||mr||fr)&&(hr=function(e){var t,n,r,i,o=this,s=fr&&o.sticky,a=or.call(o),c=o.source,l=0,d=e;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),d=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",d=" "+d,l++),n=new RegExp("^(?:"+c+")",a)),mr&&(n=new RegExp("^"+c+"$(?!\\s)",a)),pr&&(t=o.lastIndex),r=dr.call(s?n:o,d),s?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:pr&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),mr&&r&&r.length>1&&ur.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var gr=hr;De({target:"RegExp",proto:!0,forced:/./.exec!==gr},{exec:gr});var wr=Ze("species"),yr=!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),vr="$0"==="a".replace(/./,"$0"),br=Ze("replace"),_r=!!/./[br]&&""===/./[br]("a","$0"),Sr=!s(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),kr=function(e,t,n,r){var i=Ze(e),o=!s(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=o&&!s(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[wr]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t});if(!o||!a||"replace"===e&&(!yr||!vr||_r)||"split"===e&&!Sr){var c=/./[i],l=n(i,""[e],function(e,t,n,r,i){return t.exec===gr?o&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:vr,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:_r}),d=l[1];re(String.prototype,e,l[0]),re(RegExp.prototype,i,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}r&&O(RegExp.prototype[i],"sham",!0)},Er=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Ar=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(e))throw TypeError("RegExp#exec called on incompatible receiver");return gr.call(e,t)};kr("search",1,function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=T(e),o=String(this),s=i.lastIndex;Er(s,0)||(i.lastIndex=0);var a=Ar(i,o);return Er(i.lastIndex,s)||(i.lastIndex=s),null===a?-1:a.index}]});var Pr=d.f,Cr=function(e){return function(t){for(var n,r=w(t),i=tr(r),o=i.length,s=0,c=[];o>s;)n=i[s++],a&&!Pr.call(r,n)||c.push(e?[n,r[n]]:r[n]);return c}},Tr=[Cr(!0),Cr(!1)][0];De({target:"Object",stat:!0},{entries:function(e){return Tr(e)}});var Ir=Xn.filter;De({target:"Array",proto:!0,forced:!qe("filter")},{filter:function(e){return Ir(this,e,arguments.length>1?arguments[1]:void 0)}}),self.fetch||(self.fetch=function(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var l in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n}),n(c())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(l,t.headers[l]);i.send(t.body||null)})});var xr,Or=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return T(n),function(e){if(!y(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),jr=a?Object.defineProperties:function(e,t){T(e);for(var n,r=tr(t),i=r.length,o=0;i>o;)x.f(e,n=r[o++],t[n]);return e},Dr=Z("IE_PROTO"),Lr=function(){},Rr=function(e){return"<script>"+e+"<\/script>"},Hr=function(){try{xr=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Hr=xr?function(e){e.write(Rr("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xr):((t=E("iframe")).style.display="none",Ot.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Rr("document.F=Object")),e.close(),e.F);for(var n=ve.length;n--;)delete Hr.prototype[ve[n]];return Hr()};V[Dr]=!0;var Mr=Object.create||function(e,t){var n;return null!==e?(Lr.prototype=T(e),n=new Lr,Lr.prototype=null,n[Dr]=e):n=Hr(),void 0===t?n:jr(n,t)},Ur="\t\n\v\f\r \u2028\u2029\ufeff",Fr="["+Ur+"]",Br=RegExp("^"+Fr+Fr+"*"),zr=RegExp(Fr+Fr+"*$"),Nr=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(Br,"")),2&e&&(n=n.replace(zr,"")),n}},Kr={start:Nr(1),end:Nr(2),trim:Nr(3)},Wr=_e.f,Jr=C.f,$r=x.f,Zr=Kr.trim,Vr="Number",qr=o.Number,Gr=qr.prototype,Qr=p(Mr(Gr))==Vr,Yr=function(e){var t,n,r,i,o,s,a,c,l=v(e,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=Zr(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(s=(o=l.slice(2)).length,a=0;a<s;a++)if((c=o.charCodeAt(a))<48||c>i)return NaN;return parseInt(o,r)}return+l};if(Oe(Vr,!qr(" 0o1")||!qr("0b1")||qr("+0x1"))){for(var Xr,ei=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ei&&(Qr?s(function(){Gr.valueOf.call(n)}):p(n)!=Vr)?function(e,t,n){var r,i;return Or&&"function"==typeof(r=t.constructor)&&r!==n&&y(i=r.prototype)&&i!==n.prototype&&Or(e,i),e}(new qr(Yr(t)),n,ei):Yr(t)},ti=a?Wr(qr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),ni=0;ti.length>ni;ni++)_(qr,Xr=ti[ni])&&!_(ei,Xr)&&$r(ei,Xr,Jr(qr,Xr));ei.prototype=Gr,Gr.constructor=ei,re(o,Vr,ei)}var ri=Kr.trim;De({target:"String",proto:!0,forced:s(function(){return!!Ur.trim()||""!="".trim()||"trim"!==Ur.trim.name})},{trim:function(){return ri(this)}});var ii=function(e,t,n,r,i,o,s,a){for(var c,l=i,d=0,u=!!s&&mt(s,a,3);d<r;){if(d in n){if(c=u?u(n[d],d,t):n[d],o>0&&Le(c))l=ii(e,t,c,ue(c.length),l,o-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[l]=c}l++}d++}return l},oi=ii;De({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Vn(this),n=ue(t.length),r=Gn(t,0);return r.length=oi(r,t,t,n,0,void 0===e?1:le(e)),r}});var si=Ze("unscopables"),ai=Array.prototype;null==ai[si]&&x.f(ai,si,{configurable:!0,value:Mr(null)});var ci=function(e){ai[si][e]=!0};ci("flat");var li={transform:{concat:function(e){return e.map(function(e){return ui(e)})},zoned:function(e){return{type:"Zone",id:e.zoneId,contents:e.transformations.map(function(e){return ui(e)})}},form:function(e){return{type:"Form",formId:e}},paymentForm:function(e){return{type:"PaymentForm",formId:e}},resource:function(e){return{type:"UIComponent",componentId:e}},parameterisedResource:function(e){return{type:"UIComponent",componentId:e}},url:function(e){return{type:"HostedUIComponent",url:e}},componentTemplate:function(e){return{type:"ComponentTemplate",componentId:e}},parameterisedComponentTemplate:function(e){return{type:"ComponentTemplate",componentId:e}},truncate:function(e){return{type:"Truncate",truncateLength:Number(e),style:"nostyle"}},truncateWithStyle:function(e,t){return{type:"Truncate",truncateLength:Number(e),style:t}},outcomeTracker:function(e,t,n,r){return{type:"OutcomeTracker",featureId:e,featureLabel:t,outcomeId:n,outcomeLabel:r}},remove:function(){return{type:"Remove"}}}},di={type:"LeavePristine"},ui=function(e){var t=e.trim().length?e:"blaize.transform.remove()";return new Function("blaize,leave_pristine",'"use strict";return ('+t+");")(li,di)},hi=function(e){return[ui(e)].flat()},pi=Ze("match"),fi=function(e){var t;return y(e)&&(void 0!==(t=e[pi])?!!t:"RegExp"==p(e))},mi=function(e){return function(t,n){var r,i,o=String(g(t)),s=le(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?e?o.charAt(s):r:e?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},gi={codeAt:mi(!1),charAt:mi(!0)},wi=gi.charAt,yi=function(e,t,n){return t+(n?wi(e,t).length:1)},vi=[].push,bi=Math.min,_i=4294967295,Si=!s(function(){return!RegExp(_i,"y")});kr("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(g(this)),i=void 0===n?_i:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!fi(e))return t.call(r,e,i);for(var o,s,a,c=[],l=0,d=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(o=gr.call(d,r))&&!((s=d.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&vi.apply(c,o.slice(1)),a=o[0].length,l=s,c.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return l===r.length?!a&&d.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=g(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var s=T(e),a=String(this),c=xt(s,RegExp),l=s.unicode,d=new c(Si?s:"^(?:"+s.source+")",(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Si?"y":"g")),u=void 0===i?_i:i>>>0;if(0===u)return[];if(0===a.length)return null===Ar(d,a)?[a]:[];for(var h=0,p=0,f=[];p<a.length;){d.lastIndex=Si?p:0;var m,g=Ar(d,Si?a:a.slice(p));if(null===g||(m=bi(ue(d.lastIndex+(Si?0:p)),a.length))===h)p=yi(a,p,l);else{if(f.push(a.slice(h,p)),f.length===u)return f;for(var w=1;w<=g.length-1;w++)if(f.push(g[w]),f.length===u)return f;p=h=m}}return f.push(a.slice(h)),f}]},!Si);var ki=function(e,t){var n=[][e];return!!n&&s(function(){n.call(null,t||function(){throw 1},1)})},Ei=Math.min,Ai=[].lastIndexOf,Pi=!!Ai&&1/[1].lastIndexOf(1,-0)<0,Ci=ki("lastIndexOf"),Ti=Pi||!Ci?function(e){if(Pi)return Ai.apply(this,arguments)||0;var t=w(this),n=ue(t.length),r=n-1;for(arguments.length>1&&(r=Ei(r,le(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:Ai;De({target:"Array",proto:!0,forced:Ti!==[].lastIndexOf},{lastIndexOf:Ti});var Ii=ge.includes;De({target:"Array",proto:!0},{includes:function(e){return Ii(this,e,arguments.length>1?arguments[1]:void 0)}}),ci("includes");var xi=Ze("match");De({target:"String",proto:!0,forced:!function(){var e=/./;try{"/./".includes(e)}catch(t){try{return e[xi]=!1,"/./".includes(e)}catch(e){}}return!1}()},{includes:function(e){return!!~String(g(this)).indexOf(function(e){if(fi(e))throw TypeError("The method doesn't accept regular expressions");return e}(e),arguments.length>1?arguments[1]:void 0)}});var Oi=Ze("isConcatSpreadable"),ji=9007199254740991,Di="Maximum allowed index exceeded",Li=ze>=51||!s(function(){var e=[];return e[Oi]=!1,e.concat()[0]!==e}),Ri=qe("concat"),Hi=function(e){if(!y(e))return!1;var t=e[Oi];return void 0!==t?!!t:Le(e)};De({target:"Array",proto:!0,forced:!Li||!Ri},{concat:function(e){var t,n,r,i,o,s=Vn(this),a=Gn(s,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Hi(o=-1===t?s:arguments[t])){if(c+(i=ue(o.length))>ji)throw TypeError(Di);for(n=0;n<i;n++,c++)n in o&&Re(a,c,o[n])}else{if(c>=ji)throw TypeError(Di);Re(a,c++,o)}return a.length=c,a}});var Mi=function(e,t,n,r){try{return r?t(T(n)[0],n[1]):t(n)}catch(t){throw yt(e),t}};De({target:"Array",stat:!0,forced:!Tt(function(e){Array.from(e)})},{from:function(e){var t,n,r,i,o,s,a=Vn(e),c="function"==typeof this?this:Array,l=arguments.length,d=l>1?arguments[1]:void 0,u=void 0!==d,h=wt(a),p=0;if(u&&(d=mt(d,l>2?arguments[2]:void 0,2)),null==h||c==Array&&ft(h))for(n=new c(t=ue(a.length));t>p;p++)s=u?d(a[p],p):a[p],Re(n,p,s);else for(o=(i=h.call(a)).next,n=new c;!(r=o.call(i)).done;p++)s=u?Mi(i,d,[r.value,p],!0):r.value,Re(n,p,s);return n.length=p,n}});var Ui,Fi,Bi,zi=!s(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ni=Z("IE_PROTO"),Ki=Object.prototype,Wi=zi?Object.getPrototypeOf:function(e){return e=Vn(e),_(e,Ni)?e[Ni]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Ki:null},Ji=Ze("iterator"),$i=!1;[].keys&&("next"in(Bi=[].keys())?(Fi=Wi(Wi(Bi)))!==Object.prototype&&(Ui=Fi):$i=!0);var Zi=null==Ui||s(function(){var e={};return Ui[Ji].call(e)!==e});Zi&&(Ui={}),_(Ui,Ji)||O(Ui,Ji,function(){return this});var Vi={IteratorPrototype:Ui,BUGGY_SAFARI_ITERATORS:$i},qi=Vi.IteratorPrototype,Gi=function(){return this},Qi=Vi.IteratorPrototype,Yi=Vi.BUGGY_SAFARI_ITERATORS,Xi=Ze("iterator"),eo=function(){return this},to=gi.charAt,no="String Iterator",ro=ne.set,io=ne.getterFor(no);!function(e,t,n,r,i){!function(e){var t="String Iterator";e.prototype=Mr(qi,{next:u(1,function(){var e,t=io(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=to(n,r),t.index+=e.length,{value:e,done:!1})})}),ct(e,t,!1),ut[t]=Gi}(n);var o,s,a=e.prototype,c=a[Xi]||a["@@iterator"]||i,l=!Yi&&c||(s=i,l||(!Yi&&s in a?a[s]:function(){return new n(this)}));c&&(o=Wi(c.call(new e)),Qi!==Object.prototype&&o.next&&(Wi(o)!==Qi&&(Or?Or(o,Qi):"function"!=typeof o[Xi]&&O(o,Xi,eo)),ct(o,"String Iterator",!0))),a[Xi]!==l&&O(a,Xi,l),ut.String=l}(String,0,function(e){ro(this,{type:no,string:String(e),index:0})});var oo=Xn.forEach,so=ki("forEach")?[].forEach:function(e){return oo(this,e,arguments.length>1?arguments[1]:void 0)};for(var ao in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var co=o[ao],lo=co&&co.prototype;if(lo&&lo.forEach!==so)try{O(lo,"forEach",so)}catch(e){lo.forEach=so}}var uo=ge.indexOf,ho=[].indexOf,po=!!ho&&1/[1].indexOf(1,-0)<0,fo=ki("indexOf");De({target:"Array",proto:!0,forced:po||!fo},{indexOf:function(e){return po?ho.apply(this,arguments)||0:uo(this,e,arguments.length>1?arguments[1]:void 0)}});var mo=function(e){return-1!==e.search(">[^<>]+<")},go=function(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=[].concat(Array.from(t.head.childNodes),Array.from(t.body.childNodes));if(!n.length)return document.createTextNode(e);var r=document.createDocumentFragment();return n.forEach(function(e){return r.appendChild(e)}),wo(r),r},wo=function(e){var t=e.querySelectorAll("script");t.length&&Array.from(t).map(function(e){var t=document.createElement("script");Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)}),t.innerHTML=e.innerHTML,e.parentNode.appendChild(t),e.parentNode.removeChild(e)})},yo=function e(t,n,r){switch(n.type){case"LeavePristine":return t;case"Truncate":return function(e,t){var n=2*t.truncateLength,r=e.outerHTML.trim().split(/\s+/);if(t.truncateLength>=r.length)return e;for(var i,o=0,s=!1,a=0,c=0,l=Zn(r);!(i=l()).done;){var d=i.value;c++;var u=s,h=d.lastIndexOf("<"),p=d.lastIndexOf(">");if(h>=0&&(s=!0),p>=0&&(s=!1),-1!==h&&-1!==p&&h>p&&(s=!0),u&&p===d.length-1&&!mo(d)||0===h&&p===d.length-1)s=!1;else if(!s){if(o>0)break;(++a>=t.truncateLength&&d.includes(".")||a==n)&&(o=c)}}if(c===r.length)return e;var f=r.slice(0,c=o>0?o:c).join(" ");a===n&&(f+="...\n");var m,g=(new DOMParser).parseFromString(f,"text/html").body.children[0];switch(t.style){case"fadeout":var w=document.createElement("div");w.style.position="absolute",w.style.height="100%",w.style.width="100%",w.style.bottom=0,w.style.backgroundImage="linear-gradient(0deg, #fff 0%, rgba(255, 255, 255, 0) 100%)",g.appendChild(w),(m=document.createElement("div")).style.position="relative",m.appendChild(g);break;case"linebreak":var y=document.createElement("hr");y.style.border="1px solid #ebebeb",g.appendChild(y),m=g;break;default:m=g}return m}(t,n);case"OutcomeTracker":!function(e){window.Zephr||(window.Zephr={}),window.Zephr.outcomes||(window.Zephr.outcomes={}),window.Zephr.outcomes[e.featureId]={featureLabel:e.featureLabel,outcomeId:e.outcomeId,outcomeLabel:e.outcomeLabel}}(n);break;case"Form":return function(e,t){if(t.forms&&t.forms[e.formId])return go(t.forms[e.formId]);console.error("Form not found.")}(n,r);case"PaymentForm":return function(e,t){if(t.paymentForms&&t.paymentForms[e.formId])return go(t.paymentForms[e.formId]);console.error("Payment form not found.")}(n,r);case"UIComponent":return function(e,t){if(t.uiComponents&&t.uiComponents[e.componentId])return go(t.uiComponents[e.componentId]);console.error("UI component not found.")}(n,r);case"HostedUIComponent":return function(e,t){if(t.hostedUiComponents&&t.hostedUiComponents[e.url])return go(t.hostedUiComponents[e.url]);console.error("Hosted UI component not found.")}(n,r);case"ComponentTemplate":return function(e,t){if(t.componentTemplates&&t.componentTemplates[e.componentId])return go(t.componentTemplates[e.componentId]);console.error("Component template not found.")}(n,r);case"Remove":break;case"Zone":var i=n.contents.map(function(n){return e(t,n,r)});return function(e,t,n){if(n.uiComponents&&n.uiComponents[e]){var r=go(n.uiComponents[e]),i=r.getElementById("zephr-zone-"+e.toLowerCase());return t.forEach(function(e){return i.appendChild(e)}),r}console.error("Zone not found.")}(n.id,i,r);default:console.error("No matching outcome type "+n.type)}},vo=function(e,t,n){void 0===n&&(n={}),e.forEach(function(e){var r=e.parentNode,i=Array.from(r.children).indexOf(e),o=r.removeChild(e),s=t.map(function(e){return yo(o,e,n)}).filter(Boolean),a=document.createDocumentFragment();s.forEach(function(e){return a.appendChild(e)}),i<r.children.length?r.insertBefore(a,r.children[i]):r.appendChild(a)})};De({target:"Object",stat:!0,forced:s(function(){tr(1)})},{keys:function(e){return tr(Vn(e))}});var bo=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t};function _o(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var So=function(){function e(e){this.cdnApi=e||""}var t=e.prototype;return t.fetchLiveFeatures=function(){try{var e=this;return Promise.resolve(_o(function(){return Promise.resolve(fetch(e.cdnApi+"/zephr/features").then(function(e){return e.json()}))},function(){return Promise.reject(new Error("Live features endpoint failed."))}))}catch(e){return Promise.reject(e)}},t.fetchDecisions=function(e,t){var n=void 0===t?{customData:{}}:t,r=n.jwt,i=n.customData,o=void 0===i?{}:i;try{var s=this,a=e.map(function(e){return e.id});return Promise.resolve(_o(function(){return Promise.resolve(fetch(s.cdnApi+"/zephr/feature-decisions",{method:"POST",credentials:"include",headers:Object.assign({"Content-Type":"application/json",Accept:"application/json"},r&&{Authorization:"Bearer "+r}),body:JSON.stringify({path:document.location.pathname+document.location.search+document.location.hash,referer:document.referrer,featureIds:a,customData:o})}).then(function(e){return e.json()}))},function(){return Promise.reject(new Error("Feature decisions endpoint failed."))}))}catch(e){return Promise.reject(e)}},t.executeDecisions=function(e,t,n){for(var r,i=Zn(e);!(r=i()).done;){var o=r.value,s=(t.featureResults||{})[o.id];if(s){var a=hi(s),c=this.selectFeatureNodes(o);vo(c,a,t.resources||{})}}t.accessDetails&&(window.Zephr||(window.Zephr={}),window.Zephr.accessDetails?window.Zephr.accessDetails=this._mergeAccessDetails(window.Zephr.accessDetails,t.accessDetails):window.Zephr.accessDetails=t.accessDetails),n&&function(e){var t=e.datalayerName;t in window||(window[t]=[]);var n={},r=[];e.includeOutcomes&&window.Zephr.outcomes&&(n.zephrOutcomes=window.Zephr.outcomes,e.outcomesAsEvents&&Object.keys(window.Zephr.outcomes||[]).forEach(function(e){var t={event:"zephr-outcome-"+e,featureId:e,featureLabel:window.Zephr.outcomes[e].featureLabel,outcomeId:window.Zephr.outcomes[e].outcomeId,outcomeLabel:window.Zephr.outcomes[e].outcomeLabel};r.push(t)})),window.Zephr&&window.Zephr.accessDetails&&(Object.keys(window.Zephr.accessDetails.trials||{}).forEach(function(t){var r=window.Zephr.accessDetails.trials[t];if(r.reportInDataLayer){var i=r.totalCredits-r.remainingCredits;e.groupFields&&!n.zephrTrials&&(n.zephrTrials={});var o=e.groupFields?n.zephrTrials:n;r.dataLayerCreditsUsedKey&&(o[r.dataLayerCreditsUsedKey]=i),r.dataLayerCreditsRemainingKey&&(o[r.dataLayerCreditsRemainingKey]=r.remainingCredits)}}),(window.Zephr.accessDetails.trialTrackingDetails||[]).forEach(function(t){var r=(window.Zephr.accessDetails["credits"===t.entitlementType?"credits":"meters"]||{})[t.entitlementId];r&&(e.groupFields&&!n.zephrTrials&&(n.zephrTrials={}),t.creditsRemainingKey&&(e.groupFields?n.zephrTrials[t.creditsRemainingKey]=r.remainingCredits:n[t.creditsRemainingKey]=r.remainingCredits),t.creditsUsedKey&&(e.groupFields?n.zephrTrials[t.creditsUsedKey]=r.totalCredits-r.remainingCredits:n[t.creditsUsedKey]=r.totalCredits-r.remainingCredits))})),Object.keys(n).length&&(n.event="zephr-pageview",r.unshift(n)),r.length&&(r.forEach(function(e){window[t].push(e)}),document.dispatchEvent(bo("zephr.dataLayerReady")))}(n)},t._mergeAccessDetails=function(e,t){var n,r;return Object.assign({},e,t,{authenticated:t.authenticated,accessDecisions:Object.assign({},e.accessDecisions,t.accessDecisions),entitlements:this._mergeCreditData(e.entitlements,t.entitlements),credits:this._mergeCreditData(e.credits,t.credits),meters:this._mergeCreditData(e.meters,t.meters),trials:this._mergeCreditData(null!=(n=e.trials)?n:{},null!=(r=t.trials)?r:{})})},t._mergeCreditData=function(e,t){for(var n=Object.assign({},e,t),r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1],c=t[s];if(c){var l=n[s];this._eitherHasProperty(a,c,"decrementedInDecision")&&(l.decrementedInDecision=!(!a.decrementedInDecision&&!c.decrementedInDecision)),this._eitherHasProperty(a,c,"usedInDecision")&&(l.usedInDecision=!(!a.usedInDecision&&!c.usedInDecision)),this._eitherHasProperty(a,c,"remainingCredits")&&(l.remainingCredits=this._minOrNumber(a.remainingCredits,c.remainingCredits)),this._eitherHasProperty(a,c,"totalCredits")&&(l.totalCredits=this._minOrNumber(a.totalCredits,c.totalCredits))}}return n},t._eitherHasProperty=function(e,t,n){return e&&e.hasOwnProperty(n)||t&&t.hasOwnProperty(n)},t._minOrNumber=function(e,t){var n="number"==typeof e,r="number"==typeof t;return n&&r?Math.min(e,t):n?e:r?t:void 0},t.findFeatures=function(e){return Array.isArray(e)&&e.length?e.filter(function(e){return"COMMENT_TAG"!==e.targetType&&null!==document.querySelector(e.cssSelector)}):[]},t.selectFeatureNodes=function(e){return document.querySelectorAll(e.cssSelector)},e}(),ko=function(e){return new So(e)},Eo=function(e){var t;e&&(t=console).log.apply(t,[].slice.call(arguments,1))};e.createInstance=ko,e.run=function(e){try{var t=e&&e.debug||localStorage&&localStorage.getItem("zephrBrowserDebug"),n="",r={};"string"==typeof e?n=e:"object"==typeof e&&(r=e,n=e.cdnApi||"");var i=ko(n);return Promise.resolve(i.fetchLiveFeatures()).then(function(e){function n(){return document.dispatchEvent(bo("zephr.browserDecisionsFinished")),i}var o,s;Array.isArray(e)?o=e:(o=e.features,s=e.datalayerOutcomesConfig),Eo(t,"Live Features:",o);var a=i.findFeatures(o),c=function(){if(a.length)return Eo(t,"Features on page:",a),Promise.resolve(i.fetchDecisions(a,r)).then(function(e){Eo(t,"Decisions:",e),i.executeDecisions(a,e,s)});Eo(t,"No features found on page.")}();return c&&c.then?c.then(n):n()})}catch(e){return Promise.reject(e)}}}(t)},10722:e=>{e.exports={desktopAdConfig:{single_request:!0,positions:{artbottom:{slot_id:"artbottom",sizes:[[1,1],"fluid"]},top:{slot_id:"top",sizes:[[728,90],[970,66],[970,250],[970,90],[7,1],[7,2],[1,1],"fluid"],params:{hero:"true"}},topx:{slot_id:"topx",sizes:[[728,90],[970,66],[970,250],[970,90],[1,1],"fluid"],incremental:!0},rec:{slot_id:"rec",sizes:[[300,250],[300,600],[160,600],[1,1],"fluid"]},recx:{slot_id:"recx",sizes:[[300,250],[300,600],[160,600],[1,1],"fluid"],incremental:!0},stream:{slot_id:"stream",sizes:[[300,250],[1,1],"fluid"],incremental:!0},moreon:{slot_id:"moreon",sizes:[[820,236],[620,529],[300,250],[620,236],[1,1],"fluid"],incremental:!0},"spon-logo":{slot_id:"spon-logo",sizes:[[300,170],[1,1]]},bottom:{slot_id:"bottom",sizes:[[728,90],[970,250],[1,1],"fluid"]},"nativeinbody-d":{slot_id:"nativeinbody-d",sizes:["fluid"]},"ntv-home":{slot_id:"ntv-home",sizes:[[1,1]],params:{strnativekey:"QLWstPVbbpcwuyqK5ijhxZvL"}},"ntv-stream":{slot_id:"ntv-stream",sizes:[[1,1]],incremental:!0},"ntv-rail-2":{slot_id:"ntv-rail-2",sizes:[[2,3],[1,1],"fluid"],breaks:{xxlarge:[[2,3],[1,1],"fluid"],xlarge:[[2,3],[1,1],"fluid"],large:[[2,3],[1,1],"fluid"],medium:[[2,3],[1,1],"fluid"],small:[[2,3],[1,1],"fluid"]},params:{strnativekey:"UCddx8Xg8Mdi8m8PVh1kfbvP"}},"ntv-deskchannel":{slot_id:"ntv-deskchannel",sizes:[[2,3],[1,1],"fluid"],params:{strnativekey:"e5tSBXbDmvyVwXbVB7dymzCc"},incremental:!0},"ntv-contentd":{sizes:[[1,1]],breaks:{xxlarge:[[1,1]],xlarge:[[1,1]],large:[[1,1]],medium:[[1,1]],small:[[1,1]]},slot_id:"ntv-contentd",params:{strnativekey:"6kez5JUH4RdqUg4xdkwSNADy"}},inread:{slot_id:"inread",progressive:!0,sizes:[[600,575],[528,297],[1,1],"fluid"]},hero:{slot_id:"hero",sizes:[[1,1],[7,1],[7,2],[20,20],[20,21]]},qotd:{slot_id:"qotd",sizes:[[750,200]]},scheduler:{slot_id:"scheduler",ad_unit_path:"/7175/video_scheduler",sizes:[[1,1]]}},amazonSlots:[{slotID:"rec",sizes:[[300,250]]},{slotID:"recx",sizes:[[300,250]]},{slotID:"top",sizes:[[728,90],[970,250]]},{slotID:"topx",sizes:[[728,90],[970,250]]},{slotID:"bottom",sizes:[[728,90],[970,250]]}]},mobileAdConfig:{mobile:!0,safe_frame:!0,single_request:!0,positions:{artbottom:{slot_id:"artbottom",sizes:[[1,1],"fluid"]},inread:{slot_id:"inread",sizes:[[600,575],[1,1],"fluid"]},"mob-logo":{slot_id:"mob-logo",sizes:[[300,50],[300,75],[1,1],"fluid"]},"nativeinbody-m":{slot_id:"nativeinbody-m",sizes:["fluid"]},mobile:{slot_id:"mobile",sizes:[[300,50],[320,50],[7,1],[7,2],[1,1],"fluid"],params:{hero:"true"}},mobilerec:{slot_id:"mobilerec",sizes:[[300,250],[300,251],[300,50],[320,50],[1,1],"fluid"]},mobileint:{slot_id:"mobileint",sizes:[[320,480],[300,600],[300,250],[300,50],[320,50],[1,1],"fluid"],incremental:!0},mobilex:{slot_id:"mobilex",sizes:[[300,250],[300,50],[320,50],[1,1],"fluid"],incremental:!0},"mob-stream":{slot_id:"mob-stream",sizes:[[300,250],[300,50],[320,50],[1,1],"fluid"],incremental:!0},"ntv-article":{slot_id:"ntv-article",sizes:[[300,250],[300,50],[320,50],[2,3],[1,1],"fluid"],params:{strnativekey:"twzGG8q5aVPXGmiCccciYeT7"}},"ntv-stream":{slot_id:"ntv-stream",sizes:[[1,1]],incremental:!0},"ntv-contentm":{slot_id:"ntv-contentm",sizes:[[1,1]],params:{strnativekey:"6kez5JUH4RdqUg4xdkwSNADy"}},"ntv-mobhome":{slot_id:"ntv-mobhome",sizes:[[1,1]],params:{strnativekey:"QLWstPVbbpcwuyqK5ijhxZvL"}},"ntv-mobchannel":{slot_id:"ntv-mobchannel",sizes:[[2,3],[1,1],"fluid"],params:{strnativekey:"e5tSBXbDmvyVwXbVB7dymzCc"},incremental:!0},rec:{slot_id:"rec",sizes:[[300,250],[300,600],[1,1],"fluid"]},recx:{slot_id:"recx",sizes:[[300,250],[300,600],[1,1],"fluid"]},"spon-logo":{slot_id:"spon-logo",sizes:[[300,170],[1,1]]},mobsearch:{slot_id:"mobsearch",sizes:[[300,250],[1,1],"fluid"],incremental:!0},"qotd-mob":{slot_id:"qotd-mob",sizes:[[350,200]]},scheduler:{slot_id:"scheduler",ad_unit_path:"/7175/video_scheduler",sizes:[[1,1]]}},amazonSlots:[{slotID:"mobileint",sizes:[[320,50],[300,50]]},{slotID:"mobile",sizes:[[320,50]]},{slotID:"mobilerec",sizes:[[300,250],[320,50]]},{slotID:"mobilex",sizes:[[300,250],[320,50]]}]},templateSpecificSizes:{rec:{sizes:[[250,360],[240,400]],templates:["standard","topline"]},recx:{sizes:[[250,360],[240,400]],templates:["standard","topline"]},top:{sizes:[[980,120],[980,90],[950,90],[930,180],[750,200],[750,100]],templates:["premium","standard","topline"]},topx:{sizes:[[970,600]],templates:["premium"]}},XLRECIRC_TOPX_EXTRA_SIZES_PREMIUM:"980x120,980x90,950x90,930x180,750x200,750x100",INLINE_TOPX_EXTRA_SIZES_PREMIUM:"980x120,980x90,950x90,930x180,750x300,750x200,750x100,580x400",MOBILEX_2_SIZES_STAR:"300x250,300x50,320x50,1x1,fluid,336x280,320x100,336x336,360x300,360x120,320x480"}},52045:(e,t,n)=>{"use strict";n.d(t,{checkIsBrandVoiceContent:()=>s.checkIsBrandVoiceContent});var r=n(33398),i=(n(41741),n(88924)),o=n(99285),s=n(97180);r.isMobile||document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".article-body-container");e&&"complete"!==document.readyState&&document.addEventListener("readystatechange",()=>{e.classList.add("show-iframes")})}),document.addEventListener("DOMContentLoaded",(0,i.BO)(".hero-image-premium-article-credit",".hero-image-info-caption-shortend",".hero-image-info-caption-expanded")),function(e=document){const t=[...e.querySelectorAll(".author-name--tracking")];let n=1;t.forEach(e=>{const r=e.innerText,i=t.length>1?`author-${n}-${r}`:`author-${r}`;(0,o.Z)(e,"click","Template Area Interaction",i),n++})}()},97180:e=>{e.exports={checkIsBrandVoiceContent:function(e){const{tracking:t={}}=window.forbes["simple-site"]||{},n=e?e.blogType:t.blogType;return["comm","ad","insights","marketplace","author","connoisseur"].includes(n)}}},58492:(e,t,n)=>{"use strict";n.d(t,{F5:()=>i}),n(52045);var r=n(96754);const i=()=>{const{fireValerieCall:e=!1}=window.forbes["simple-site"];return e?(0,r.getCookieValue)(document.cookie,"recircUnit"):""}},62662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=class{constructor(){this.observers=[],this.buffer=[],this.buffered=!1}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}pause(){this.buffered=!0}unpause(){this.buffered=!1,this.buffer.forEach(e=>this.notify(e)),this.buffer=[]}clear(){this.buffer=[],this.unpause()}notify(e){this.buffered?this.buffer.push(e):this.observers.forEach(t=>{try{t(e)}catch(e){console.error("Error running observer watcher:",e)}})}}},59319:(e,t,n)=>{"use strict";n.d(t,{Lw:()=>f});var r=n(14239);class i extends HTMLElement{constructor(){super(...arguments),this.adsService=window.fbsads,this.displayCallRetried=!1,this.renderEventListener=this.handleRender.bind(this),this.viewableEventListener=this.handleViewable.bind(this),this.dvTimeoutID=void 0}static get observedAttributes(){return["batched","position","ad-id","custom-targeting","fire-render-on-refresh","sizes","disable-safeframe"]}get disableSafeFrame(){return this.getAttribute("disable-safeframe")}set disableSafeFrame(e){this.setAttribute("disable-safeframe",e)}get adId(){return this.getAttribute("ad-id")}set adId(e){e&&this.setAttribute("ad-id",e)}get recalledId(){return this.getAttribute("data-ga-id")||""}set recalledId(e){e&&this.setAttribute("data-ga-id",e)}get position(){return this.getAttribute("position")}set position(e){e&&this.setAttribute("position",e)}get sizes(){return this.getAttribute("sizes")}set sizes(e){e&&this.setAttribute("sizes",e)}get customTargeting(){return this.getAttribute("custom-targeting")}set customTargeting(e){e&&this.setAttribute("custom-targeting",e)}get progressive(){return this.hasAttribute("progressive")&&"false"!==this.getAttribute("progressive")}set progressive(e){e?this.setAttribute("progressive",""):this.removeAttribute("progressive")}get batched(){return this.hasAttribute("batched")&&"false"!==this.getAttribute("batched")}set batched(e){e?this.setAttribute("batched",""):this.removeAttribute("batched")}get hideEmpty(){return this.hasAttribute("hide-empty")&&"false"!==this.getAttribute("hide-empty")}set hideEmpty(e){e?this.setAttribute("hide-empty",""):this.removeAttribute("hide-empty")}get empty(){return this.currentSlotInfo&&(this.currentSlotInfo.isEmpty||this.currentSlotInfo.size[0]<10)}get displayCalled(){return this.hasAttribute("display-called")}set displayCalled(e){e?this.setAttribute("display-called",""):this.removeAttribute("display-called")}get attrsSnapshot(){return{batched:this.batched,position:this.position,adId:this.adId}}display(){this.div?(this.adsService.display(this.div.id),this.displayCalled=!0):this.displayCallRetried||(this.displayCallRetried=!0,setTimeout(this.display,50))}refresh(){this.adsService.refresh(this.div.id)}recallAd(){this.connectedCallback()}create(){const e=this.sizes?this.sizes.split(",").map(e=>e.split("x").map(e=>parseInt(e))):[];this.adsService.createSlot(this.position,this.adId,this.customTargeting,this.recalledId,e,this.disableSafeFrame);window.PQ&&(this.dvTimeoutID=window.setTimeout(()=>{window.PQ&&window.PQ.cmd.push(function(){window.PQ.loadSignals(["ids","bsc","vlp","tvp","abs"])})},750)),this.insert()}getTargeting(e){return this.currentSlotInfo.slot.getTargeting(e)}getSlotTargeting(){return this.currentSlotInfo.slot.getTargetingKeys().reduce((e,t)=>(e[t]=this.getTargeting(t),e),{})}handleRender(e){const t=e.detail;if(!this.div||this.div.id!==t.slot.getSlotElementId())return;t.size&&1!==t.size[0]&&1!==t.size[1]&&this.div.classList.add("show-label");const n=new CustomEvent("render",{detail:t});this.currentSlotInfo=t,r.H.mark(`Rendered ${t.slot.getSlotElementId()}`),this.hideEmpty&&!this.empty&&(this.style.display=""),this.getAttribute("fire-render-on-refresh")||document.removeEventListener("fbs-ad-render",this.renderEventListener),this.dispatchEvent(n)}listenToRender(){document.addEventListener("fbs-ad-render",this.renderEventListener)}handleViewable(e){const t=e.detail;if(!this.div||(this.div.id||this.getDivId())!==t.slot.getSlotElementId())return;const n=new CustomEvent("viewable",{detail:t});r.H.mark(`Viewable ${t.slot.getSlotElementId()}`),this.dispatchEvent(n)}listenToViewable(){document.addEventListener("fbs-ad-viewable",this.viewableEventListener)}insert(){if(!this.position)return;const e=this.recalledId?this.recalledId:this.getDivId(),t=document.getElementById(e);t?console.warn(this,"was removed because an element",t,`with the id ${e} already exists`):this.div?this.div.id=e:(this.div=document.createElement("div"),this.div.id=e,this.hideEmpty&&(this.style.display="none"),this.appendChild(this.div),this.addAccessibilityAttributes(),"hero"===this.position&&this.hideHero())}getDivId(){return this.adsService.getDivId(this.position,this.adId)}hideHero(){const e=this.parentNode;new MutationObserver(t=>{t.forEach(t=>{const n=e.querySelector(".fto");n&&Array.from(n.querySelectorAll("button ,a")).forEach(e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})})}).observe(e,{attributes:!1,childList:!0,characterData:!1})}addAccessibilityAttributes(){new MutationObserver(e=>{e.forEach(e=>{if(!this.div)return;"true"!==this.div.getAttribute("aria-hidden")&&this.div.setAttribute("aria-hidden","true");const t=this.div.querySelector("iframe");t&&!t.hasAttribute("aria-hidden")&&(t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("title","Ad content"))})}).observe(this.div,{attributes:!0,characterData:!1,childList:!0})}destroyAd(){document.removeEventListener("fbs-ad-viewable",this.viewableEventListener),this.dispatchEvent(new CustomEvent("destroyed")),this.div&&(this.adsService.destroySlots(this.div.id),this.div.remove(),delete this.div),this.displayCalled=!1}initializeAd(){this.listenToRender(),this.listenToViewable();const e=setInterval(()=>{this.attrsSnapshot.position&&(this.create(),this.batched||this.progressive||this.displayCalled?this.dispatchEvent(new CustomEvent("bootstrapped")):this.display(),clearInterval(e))},10)}connectedCallback(){this.initializeAd(),"number"==typeof this.dvTimeoutID&&function(){clearTimeout(this.dvTimeoutID)}()}disconnectedCallback(){this.destroyAd()}}function o(){customElements.define("fbs-ad",i)}r.H.mark("Loaded"),window.fbsads&&window.fbsads.apiReady?o():document.addEventListener("FbsAdsBootstrapped",o);var s=n(1994),a=n(87460),c=n(77110),l=n(62662),d=n(37479),u=n(33398),h=n(41741),p=n(27962);function f({position:e="",size:t="300x250",crid:n="311139641",getWrapperClass:r=e=>`fbs-ad--${e}-wrapper`,params:i=""}){const o=r(e),s=document.querySelector(`.${o}`),a=e?.split("")[e.split("").length-1];if(s){const r=document.createElement("div");i&&r.classList.add(i),r.setAttribute("id",e),s.appendChild(r);const c=document.createElement("script");if(c.type="text/javascript",c.text=`\n\t\t\ttry {\n\t\t\t\twindow._mNHandle.queue.push(() => {\n\t\t\t\t\twindow._mNDetails.loadTag('${e}', '${t}', '${n}');\n\t\t\t\t});\n\t\t\t\twindow._mNHandle.queue.push(() => {\n\t\t\t\t\tconst adInterval = setInterval(() => {\n\t\t\t\t\t\tconst mnetIframe = document.querySelector('.${o}').querySelector('iframe');\n\n\t\t\t\t\t\tif (mnetIframe) {\n\t\t\t\t\t\t\tmnetIframe.setAttribute('tabindex', '-1');\n\t\t\t\t\t\t\tmnetIframe.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\t\tmnetIframe.setAttribute('title', 'MediaNetIframe');\n\t\t\t\t\t\t\tclearInterval(adInterval);\n\n\t\t\t\t\t\t\tconst displayProperty = mnetIframe.style?.display\n\t\t\t\t\t\t\tif(displayProperty === 'none' || displayProperty === '') {\n\t\t\t\t\t\t\t\tconst articleBody = document.querySelector('#article-stream-${a}')\n\t\t\t\t\t\t\t\tconst adLabel = articleBody?.querySelector('.footer-ad-labeling');\n\t\t\t\t\t\t\t\tadLabel?.classList.add('medianet-disabled');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 500);\n\t\t\t\t});\n\t\t\t} catch (error) {}\n\t\t`,!window._mNHandle)return void setTimeout(()=>s.appendChild(c));s.appendChild(c)}}function m(e,t=document,n){const{classList:r}=t,i=r&&r.contains("ad-rail")?n:e,o=t.querySelectorAll(`.fbs-ad--${i}-wrapper`);for(let t=0;t<o.length;t++){const r=document.createElement("fbs-ad");["progressive","batched"].forEach(e=>{o[t].classList.contains(`fbs-ad--${e}`)&&r.setAttribute(e,!0)}),r.getAttribute("progressive")&&!r.getAttribute("batched")&&setTimeout(()=>{(0,d.uo)(r)},100),r.setAttribute("position",e),o[t].dataset.customTargeting&&r.setAttribute("custom-targeting",o[t].dataset.customTargeting),n&&r.setAttribute("ad-id",n),(0,d.Hl)(r,e),"ntv-home"===!e&&"ntv-deskchannel"===!e&&(o[t].hasAttribute("aria-hidden")||(o[t].setAttribute("aria-hidden","true"),o[t].setAttribute("role","presentation"))),(0,d.un)(r,e),o[t].appendChild(r)}}new Map,window.addEventListener("scroll",(0,c.Z)(d.t7),{passive:!0});const g=new l.Z;g.subscribe(function(){if(u.isMobile||window.location.pathname.indexOf("preview/mobile")>-1)(0,p.Z)({isAdLight:a._I,adExperience:a.GM,relativeVideo:a.og,templateType:a.UO.templateType,templateSubType:a.UO.templateSubType,blogType:a.UO.blogType})&&m("mobile",document,"mobile-sticky"),m("mobilex"),m("mobilerec"),m("ntv-mobhome"),m("mobsearch"),m("qotd-mob"),m("nativeinbody-m"),(0,h.userGaveFullConsent)()&&f({position:"mobile-medianet"});else{m("text"),m("ntv-home"),m("bottom"),m("qotd"),m("nativeinbody-d"),f({position:"body-medianet"});const e=document.querySelector('fbs-ad[position="top"]');e&&(0,d.un)(e,"top")}const e=document.querySelector('fbs-ad[position="spon-logo"]');e&&(0,d.un)(e,"spon-logo");const t=document.querySelector('fbs-ad[position="moreon"]');t&&(0,d.un)(t,"moreon")}),a.Zr||((a.hn||"").startsWith("article")&&(0,s.jn)([g]),g.notify()),document.addEventListener("fbs-ad-render",e=>{const{detail:t}=e,n=t.slot.getSlotElementId();"mobile-sticky"===n&&(0,d.CY)(e),"nativeinbody-d"!==n&&"nativeinbody-m"!==n||(0,d.cw)(e)}),window.forbes.insertAd=m},37479:(e,t,n)=>{"use strict";n.d(t,{CY:()=>v,Hl:()=>w,cw:()=>y,t7:()=>g,un:()=>_,uo:()=>m});var r=n(64572),i=n(87462),o=n(87460),s=n(49034),a=n(62662);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d={image:{src:"https://www.forbes.com/nativeinbody_placeholder_images/Nativead-Frase-A .jpg",alt:"Frase By Forbes"},link:{href:"https://www.forbes.com/frase/",target:"blank"}},u=[],h=new a.Z,p="premium"===o.UO.templateType;function f(e){const t=e.getAttribute("data-double-progressive")||function(e){return"topx"===e.getAttribute("position")&&(0,s.checkArticleIsPremiumOrMasthead)()}(e)||e.getAttribute("position").includes("nativeinbody")?1:.25,{bottom:n}=e.getBoundingClientRect();return!document.documentElement.classList.contains("et-on")&&e.div&&n-window.innerHeight<window.innerHeight*t}function m(e){if(f(e)&&e.div)if("function"!=typeof e.display){const t=()=>{e.display(),e.removeEventListener("bootstrapped",t)};e.addEventListener("bootstrapped",t)}else e.display();else u.indexOf(e)<0&&u.push(e)}function g(){u.forEach(e=>{f(e)&&(e.display(),u.splice(u.indexOf(e),1),e.hasAttribute("data-double-progressive")&&u.length&&(u[0].display(),u.shift()))})}function w(e,t){if("ntv-home"===t||"ntv-deskchannel"===t)return;let n=0;const r=setInterval(()=>{const t=e.querySelector("iframe");let i=!1;t&&!t.hasAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),i=!0),!i&&(t||n++<100)&&clearInterval(r)},100)}function y(e){const{detail:{isEmpty:t=!1,slot:n}={}}=e,r=document.getElementById(n.getSlotElementId()),o=r?.parentElement?.parentElement;o&&t&&(function(e,t){const n=(0,i.Z)(document.createElement("a"),l({className:"adPlaceholderLink"},t.link)),r=(0,i.Z)(document.createElement("img"),l({className:"adPlaceholderAsset"},t.image));n.appendChild(r),e.appendChild(n)}(o,d),function(e){const t=new MutationObserver(()=>{(e.getElementsByTagName("iframe").length>0||e.offsetHeight>0)&&(t.disconnect(),(()=>{const e=o.querySelector(".adPlaceholderLink");o.removeChild(e)})())});t.observe(e,{childList:!0,subtree:!0})}(r))}function v(e){const{detail:{size:t=[],isEmpty:n=!1}={}}=e,r=document.querySelector(".fbs-ad--top-wrapper"),i=document.querySelector('fbs-ad[position="mobile"]');if(!n)if([7,20].includes(t[0]))[7,20].includes(t[0])&&r&&r.classList.add("fbs-ad--top-wrapper--takeover");else{const e=document.querySelector(".footer"),n="footer--mobile",r="fbs-ad--mobile",o=document.querySelector(`.${r}-close`);e&&e.classList.add(n),0===t[1]?function({ad:e,footerMobileClass:t,fbsAdMobileClass:n,footerContainer:r,closeButton:i}){const o=document.querySelector(`.${n}-wrapper`);if(e?.classList.add(`${n}-fluid`),r?.classList.add(`${t}-fluid`),!i){const e=function(e,t,n){const r=document.createElement("button"),i=document.createElement("span");return i.innerHTML="x",i.classList.add("close"),r.append(i),r.classList.add("fbs-ad--mobile-close"),r.onclick=()=>{e?.classList.add("fbs-ad--mobile-hidden"),t?.classList.remove(n,`${n}-fluid`),r.classList.remove("show")},r}(o,r,t);o?.append(e),setTimeout(()=>{e.classList.add("show")},5e3)}}({ad:i,footerMobileClass:n,fbsAdMobileClass:r,footerContainer:e,closeButton:o}):function({ad:e,footerMobileClass:t,fbsAdMobileClass:n,footerContainer:r,closeButton:i}){i&&(e?.classList.remove(`${n}-fluid`),r?.classList.remove(`${t}-fluid`),i.remove()),e?.classList.add(n)}({ad:i,footerMobileClass:n,fbsAdMobileClass:r,footerContainer:e,closeButton:o})}}const b={top:function(e){const{detail:{size:t=[],isEmpty:n=!1}={}}=e,r=document.querySelector(".fbs-ad--top-wrapper");if(!r)return;const i=r.parentElement.id,o=document.querySelector('fbs-ad[position="top"]'),s=i.match(/article-container-\d+/),a=r.parentElement.classList.contains("listuser-leadspace__hero");if(n||t.every(e=>1===e))r.style.height=0;else{if([7,20].includes(t[0])&&r.classList.add("fbs-ad--top-wrapper--takeover"),!p&&!a&&t.every(e=>0===e)){const e=134;o?.classList.add("fbs-ad--fluid-top"),r.classList.contains("contributor-leaderboard-ad")||s||r.classList.add("fbs-ad--top-wrapper-with-label");const n=setInterval(()=>{0!==o.clientHeight&&o.clientHeight!==e&&(h.notify({height:o.clientHeight,isFluidAd:!0,size:t}),clearInterval(n))},100)}p||a||!t.every(e=>0!==e&&1!==e)||(!r||r.classList.contains("contributor-leaderboard-ad")||[7,20].includes(t[0])||s||r.classList.add("fbs-ad--top-wrapper-with-label"),h.notify({height:t[1]+24,isFluidAd:!1,size:t}))}},"spon-logo":function(e){const{detail:{size:t=[],isEmpty:n=!1}={}}=e,r=document.querySelector(".modal__content");if(r)if(!n&&t&&t[0]&&1!==t[0]){const e=r.querySelector(".sponsor");e&&e.classList.add("sponsor--loaded"),r.classList.add("modal__content--has-sponsor")}else r.classList.remove("modal__content--has-sponsor")},mobile:v,"mobile-sticky":v,moreon:e=>{const{detail:t={}}=e||{};if(!Object.keys(t||{}).length)return;const n=document.getElementById(`${t.slot.getSlotElementId()}`).closest(".fbs-ad--moreon-wrapper");n&&n.classList[((e=[])=>1===(Array.isArray(e)?e:[])[0]&&1===e[1])(t.size)?"add":"remove"]("blocked-ad")}};function _(e,t){b[t]&&e&&e.addEventListener("render",b[t])}},19187:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>z,mg:()=>B,GY:()=>F});var r=n(64572),i=n(87462),o=(n(67698),n(30345)),s=n(33398),a=n(25274),c=n(10722),l=n(87460),d=n(96754);function u(e){return"none"===e?[]:e}function h(e){return"string"==typeof e?(e||"").replace(/\s*/gi,"").toLowerCase():e}function p(e={},t=""){return t&&Object.keys(e||{}).length?function(e={},t){return function(e=""){return(e||"").toLowerCase().replace(/[\s'"]+/g,"")}(h(u(e[`${t}Names`]||e[`${t}`]))||"")}(e,t):""}function f(){let e="";const t=window.location.pathname,[n,r]=t.split("/").filter(e=>!(""===e||"vetted"===e)).map(e=>e.replace(/-/g,"&"));return e=r?n?`forbesvetted:${n}/${r} , forbesvetted:${n}`:`forbesvetted:/${r} , forbesvetted`:n?`forbesvetted:${n}`:"forbesvetted",e}var m=n(52152),g=n(41741);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const v=1168044;l.ie&&localStorage.setItem("apstagDebug","true");let b=0,_=0,S=0;function k(){if(b&&_&&S){let e="Success";-1===S?e="FuseApiError":b<S&&_<S?e="BothFail":b<S?e="ZephrFail":_<S&&(e="AdReqFail");const t=`fuse_data:${S},adreq:${_},zephr:${b}`;(0,m.fireGAEvent)({eventCategory:"Fuse Data Test",eventAction:e,eventLabel:t})}}function E(){const e=JSON.parse(localStorage.getItem("fpd_fuse")||"{}");return e?.kvs?.["fbs-forbes"]||{}}const A=(0,d.getCookieClientId)(document.cookie,l.ie),P=(0,g.userGaveFullConsent)()?function(e={}){const t=new URLSearchParams(window.location.search).get("forceClientId"),n=t||(function(e={}){return(e||{}).clientId}(e)?e.clientId:(0,a.getFvid)()),r=function(){const{tracking:e={},coinData:t={},profileUri:n=""}=(window.forbes||{})["simple-site"]||{},r={channel:p(e,"channel"),section:p(e,"section"),nid:p(e,"naturalID"),topic:p(e,"topics"),profile:n,asset:p(t,"slug")};return Object.keys(r).map(e=>`${e}=${encodeURIComponent(r[e])}`).join("&")}(),i=new CustomEvent("fuseDataResolved");return fetch(`https://fuse${l.BB||t?"":"-dev"}.forbes.com/fuse/${n||""}?${r}`).then(e=>e.json()).then(e=>(function(e){const{tracking:t={}}=(window.forbes||{})["simple-site"]||{},{localStorage:n}=window,r=p(t,"channel").split(",");e.kvs.ts=Math.floor(Date.now()/1e3);const i=E(),o=e.kvs["fbs-forbes"]||{},s=e,a=Object.keys(o).length>0,c=Object.keys(i).length>0;a?(r.forEach(t=>{i[t]=e.kvs["fbs-forbes"]}),s.kvs["fbs-forbes"]=i):c&&(s.kvs["fbs-forbes"]=i);try{n.setItem("fpd_fuse",JSON.stringify(s)||""),a?s.kvs["fbs-forbes"]=o:c&&delete s.kvs["fbs-forbes"]}catch(e){console.error(e)}}(e),S=Math.floor(performance.now()),e)).catch(e=>{S=-1,console.error("Fuse Segment Error:",e)}).finally(()=>{k(),window.fuseDataResolved=!0,window.dispatchEvent(i)})}({clientId:A}):null;window.fuse=P,window.fbsads=window.fbsads||new o.fw;const C=window.fbsads;let T=l.e0;function I(e){const t=Array.isArray(e),{length:n}=e;return r=>t?Array.isArray(r)&&n===r.length&&e.every((e,t)=>e===r[t]):e===r}const x=I([7,1]),O=I([7,2]),j=c.desktopAdConfig.positions.top.sizes.filter(e=>!x(e)&&!O(e));let D,L;function R(e,t){return!!e.find(e=>JSON.stringify(t)===JSON.stringify(e))}function H(){const e=l.JF&&window.location.pathname.indexOf("/preview/mobile")>=0||s.isMobile,t=e?L:D;if(["places","profile","companies","investment-funds","colleges","teams"].some(e=>t.ad_unit_path.includes(e))){const e={moreon:[[820,236],[620,529]]};t.positions=function(e,t){return document.querySelector("fbs-ad")?(n=e.positions,r=t,Object.keys(r).forEach(e=>{const t=r[e];n[e]&&(n[e].sizes=n[e].sizes.filter(e=>!R(t,e)))}),n):e.positions;var n,r}(t,e)}if(t?.ad_unit_path?.includes("home")){const n=JSON.stringify([20,20]);e?t?.positions?.mobile?.sizes&&!t.positions.mobile.sizes.some(e=>JSON.stringify(e)===n)&&(t.positions.mobile.sizes=[...t.positions.mobile.sizes,[20,20],[20,21]]):t?.positions?.top?.sizes&&!t.positions.top.sizes.some(e=>JSON.stringify(e)===n)&&(t.positions.top.sizes=[...t.positions.top.sizes,[20,20],[20,21]])}return t}function M(e){e.params=e.params||{};const t=(e.ad_unit_path||"").split("/")||[],{articleId:n=""}=window.forbes["simple-site"],r={site:t[2],zone:(t.slice(3)||[]).join("/"),brandvoice:["ad","advoice"].indexOf(e.params.type)>-1,channel:e.params.channel,editorialSlot:e.params.editSlot,hashtags:e.params.ht,section:e.params.section,specialSlot:e.params.specialslot};n&&(r.current_article_id=n),window.external_services=(0,i.Z)(window.external_services||{},r)}function U(e,t){const{bertieBadgeSlugs:n=""}=e||{};return(n.indexOf("decisionmaker")>-1||n.indexOf("decision-maker")>-1)&&"1"!==t?"1.1":t}function F(e=!1){const t=(0,l.Ac)(),n=window.forbes?.["simple-site"]||{};n.randId=(0,a.generateUniqueId)();const{isVetted:r,swimLane:o,showOpenWeb:d,isAdLight:m,topics:w,adInventory:b="7175",sentimentScore:_="",topicSlugs:S="",hasAdsEnabledVideoPlayer:k=!1}=n,E=l.a0?"":function(){const e=window.location.search.replace("?","").split("&").map(e=>e.split("=")).find(e=>"ss"===e[0]&&e[1]);return e&&e[1]}(),A=function(){const e=new URL(window.location.href);return new URLSearchParams(e.search).get("topics_ss")}()||o||E,C=l.Dj||"",I=s.isMobile?"fdcmobile":"fdc.forbes";(t.gamZone||"").includes("article")&&(T=`/${b}/${I}/${t.gamZone}`);const x={author:h(u(t.isGroupBlog?t.publicationAuthor:t.author)),bbgterm:(0,a.getBbgTerm)(),channel:[r?"forbesvetted":p(t,"channel")],ctpv:new URLSearchParams(window.location.search).get("ctpv")||"",editSlot:t.edit||"",topics:t.topics||"",fvid:(0,a.getFvid)(),ht:u(t.hashtags),id:l.$S||t.naturalID||"",login:t.login||!1,section:[r?f():p(t,"section")],specialslot:A?"":t.slot||"",swimlane:A,tab:C,templatetype:t.templateType,type:h(u(t.contribType||t.type)),badges:t.badges,advoice:t.brandVoice,mnet_adi:"",sentimentScore:_,randId:n.randId,comm:d,isAdLight:m,videoplayer:k};!function(e){if(!e||!Array.isArray(e.channel))return void console.error("Invalid parameters provided. Ensure params exists and params.channel is an array.");const t=e.channel[0]?e.channel[0].split(","):[],n=window.forbes["simple-site"]?.forbesOneContext?.topics?.channels?.split(",");n&&(n.forEach(e=>{const n=h(e);t.includes(n)||t.push(n)}),e.channel=[t.join(",")])}(x),w&&S?x.topics=`${S},${w}`:w?x.topics=w:S&&(x.topics=S),l.GD&&(x.premiumProfile=l.GD),function(e,t){t.editorsPick&&(e.ep=t.editorsPick),t.coverStory&&(e.coverstory=t.coverStory),t.bertieBadgeSlugs&&(e.badges=t.bertieBadgeSlugs),t.negativeSentimentCompanies&&(e.ns=t.negativeSentimentCompanies),t.entitySegments?.length&&(e.es=t.entitySegments.join(","),e.essrc=t.entitySegments.map(e=>`${window.fbsads.getTargetingSource()?`${window.fbsads.getTargetingSource()}_`:""}${e}`).join(",")),t.sentimentCompanies&&(e.co=t.sentimentCompanies)}(x,t),(x.specialslot||x.swimlane)&&function(e){e.channel="",e.section="",e.displaychannel="",e.displaysection="",e.swimlane&&(e.specialslot="")}(x),(0,g.userGaveFullConsent)()&&function(e,t,n){t&&P.then(t=>{if(!t||!Object.keys(t).length)return;window.fuse={};const{gam:r={},kvs:i={}}=t;Object.keys(r).forEach(t=>{e[t]=r[t],window.googletag.cmd.push(()=>{const e=window.googletag.pubads();e.getTargeting(t)&&e.getTargeting(t).length||window.googletag.pubads().setTargeting(t,r[t])})}),Object.keys(i).forEach(e=>{window.fuse[e]=i[e]}),e.jt=U(n,e.jt),window.dispatchEvent(new CustomEvent("fuseDataSetToWindow"))})}(x,e,t),function(e,t,n){window.fuse&&"function"!=typeof window.fuse.then&&!t&&((0,i.Z)(e,window.fuse),e.jt=U(n,e.jt))}(x,e,t),function(e,t){const n={params:t,ad_unit_path:T,isEurope:l.$p,isChina:l.Ur};D=y(y({},c.desktopAdConfig),n),L=y(y({},c.mobileAdConfig),n),function(e){const t=(e.dfpZone||"").includes("article"),n=(e.dfpZone||"").includes("pictures");if(!t&&!n||s.isMobile){if(s.isMobile&&e?.dfpZone?.includes("article")){const e={strnativekey:"13b84c32"};["mobilerec","mobilex"].forEach(t=>{L.positions[t]&&(L.positions[t].params=e)})}}else D.positions.top.sizes&&(D.positions.top.sizes=j),D.positions.recx&&!n&&(D.positions.recx.criteoZoneId=v)}(e)}(t,x)}function B(e,t=!1){const n=H();!1!==e&&(n.params.specialslot=e),t&&n.positions.mobile.sizes&&(n.positions.mobile.sizes=n.positions.mobile.sizes.filter(e=>!x(e)&&!O(e))),M(n),C.applyConfig(n)}function z(e){const t=H();e&&t?.positions&&Object.keys(c.templateSpecificSizes).forEach(n=>{const r=c.templateSpecificSizes[n],i=t.positions[n];i?.sizes&&Array.isArray(i.sizes)&&(r.templates.includes(e)?r.sizes.forEach(e=>{R(i.sizes,e)||i.sizes.push(e)}):i.sizes=i.sizes.filter(e=>!R(r.sizes,e)))})}F(!0);const N=H();z(N.params.templatetype),M(N),C.bootstrap(N),window.addEventListener("zephr-data-building",e=>{b=e.detail,k()}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(()=>{window.googletag.pubads().addEventListener("slotRequested",()=>{_||(_=Math.floor(performance.now()),k())})})},24491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,r:()=>a});const r=new(n(62662).Z);let i=!1,o=!1;function s(e){i?e(o):r.subscribe(e)}const a=()=>o;s(e=>{e&&document.body.classList.add("adblock-on")}),document.addEventListener("fbs-ad-block-init",function e(){o=window.forbes.hasAdBlocker,i=!0,document.removeEventListener("fbs-ad-block-init",e),r.notify(o)})},61639:(e,t,n)=>{"use strict";var r=n(24491);(0,r.Z)(e=>{e&&document.querySelectorAll("fbs-video").forEach(e=>{e.removeAttribute("autoplay"),e.pause()})}),(0,r.Z)(e=>{e&&Array.from(document.querySelectorAll(".medianet, .fbs-ad--artbottom-wrapper")).forEach(e=>{(0,r.r)()&&e.parentElement.classList.replace("adblock-off","adblock-on")})})},87460:(e,t,n)=>{"use strict";n.d(t,{$S:()=>a,$p:()=>le,Ac:()=>pe,BB:()=>x,D0:()=>T,Dj:()=>b,GD:()=>B,GM:()=>s,JF:()=>O,NH:()=>re,Q:()=>o,UO:()=>oe,Ur:()=>de,Zr:()=>$,_I:()=>E,a0:()=>d,a9:()=>ue,e0:()=>ge,hn:()=>l,ie:()=>C,og:()=>W,td:()=>ce});var r=n(33398),i=n(96754);const o=(window.forbes||{})["simple-site"]||{},{adExperience:s,adId:a,adInventory:c,adZone:l,advoiceBrand:d,authorSlug:u,barChartYears:h,blogSlug:p,bucket:f,categoryCookieName:m,channelColor:g,channelId:w,channelName:y,cookieName:v,currentTabName:b,division:_,hasWriters:S,is404:k,isAdLight:E,isCanary:A,isBlog:P,isE2E:C,isLocal:T,isNewsletter:I,isProd:x,isPreview:O,isSingleRec:j,isTopXAd:D,lazyLoadData:L,listLander:R,name:H,naturalId:M,pageLocation:U,pageType:F,premiumProfile:B,playerId:z,premiumPage:N,region:K,relativeVideo:W,relativeVideos:J,retracted:$,sectionId:Z,shareText:V,slug:q,showFollowButton:G,specialSlot:Q,streamIndex:Y,streamSourceBlog:X,streamSourceType:ee,streamSourceValue:te,subBlog:ne,swimLane:re,topStories:ie,tracking:oe,layout:se,randId:ae}=o,{isGPCEnabled:ce}=window.forbes||{},{isEurope:le}=window.forbes||{},{isChina:de}=window.forbes||{},{isUsDpa:ue}=window.forbes||{},{isUs:he}=window.forbes||{};function pe(){const e=((window.forbes||{})["simple-site"]||{}).tracking;return e.gamZone=function(e=""){return(0,i.getCookie)(document.cookie,"fbs-zephr-access")?e.replace(/default/,/RKPEVDB|R8W03AS/g.test((0,i.getCookie)(document.cookie,"fbs-zephr-access")||"")?"subscriber":"nonsubscriber"):e}(e.gamZone),e.isAIAssisted=function(){const{genAIData:{summary:e,highlights:t,callouts:n}={}}=window?.forbes?.["simple-site"]||{};return!!(e?.bullets?.length||e?.summary||t?.highlights?.length||n?.callouts?.length)}(),e}const fe=c||"7175",me=r.isMobile?"fdcmobile":"fdc.forbes",ge=R?l:`/${fe}/${me}/${l}`},63630:(e,t,n)=>{"use strict";n.d(t,{mr:()=>a});var r=n(64572);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const s=(((0,(n(30938),n(96754)).getCookie)(document.cookie,"fbs-zephr-access")||"").split("=")[1]||"").split(",").slice(1);function a(e={},t={}){return t?o(o({},e),t):o(o({},s),e)}},88924:(e,t,n)=>{"use strict";n.d(t,{BO:()=>o});const r=(e,t)=>{t?.classList.toggle(e)};function i(e,t=!1,n=!1){let r=`${e} `;return t&&(r=".gallery-info__section"),r=r.concat(n?".truncate-text":".expand-text"),r}function o(e,t,n,o=!1){const s=document.querySelector(e);if(s&&s.querySelector(".expandable")){const e=s.querySelector(n),a=s.querySelector(t);[i(n,o,!0),i(t,o,!1)].forEach((e,t)=>{document.querySelectorAll(e).forEach(e=>{e.setAttribute("data-ga-track",`${!0===o?"Galleries ":""}Caption - ${0===t?"Expand":"Reduce"}`)})}),[a,e].forEach(t=>{t.hasAttribute("clickable")||(t.addEventListener("click",()=>{r("hidden",a),r("hidden",e)}),t.setAttribute("clickable",""))})}}},55320:(e,t,n)=>{"use strict";var r=n(25274),i=n(24491);var o=n(59319),s=n(19187);window.legacyFunctions={handleAdBlockDependentAction:i.Z,virtualTrack:r.virtualTrack,primeInviewEvent:r.primeInviewEvent,fetchForYouData:async()=>{try{const e=(0,r.getFvid)(),{forYouRecircApi:t}=window.forbes?.["simple-site"]||{},n=`https://${t}/user/${e||"default"}`,i=await fetch(n);return(await i.json()).data}catch{return console.error("Error when fetching data for For You block"),[]}},insertMedianet:o.Lw,updateAdParams:s.GY,applyConfig:s.mg,addOrRemoveTemplateSpecificSizes:s.Qj},window.dispatchEvent(new CustomEvent("legacyFunctionsLoaded"))},67604:(e,t,n)=>{const{IdleQueue:r}=n(1384),i=new r({ensureTasksRun:!0});e.exports={gtmQueue:i}},33398:(e,t,n)=>{const{checkIsIOS:r,checkIsMobile:i,checkIsTablet:o}=n(43398),{userAgent:s}=navigator,a=i(s),c=o(s),l=r(s,window);e.exports={isMobile:a,isTablet:c,isIOS:l}},79555:(e,t,n)=>{"use strict";var r=n(87460),i=n(41741);function o(e,t){window.ketchStubsPreloaded=!0,window.semaphore=window.semaphore||[],window.ketch=function(){window.semaphore.push(arguments)};const n=document.createElement("script");n.type="text/javascript",n.src=`https://global.ketchcdn.com/web/v${t}/config/forbes/${e}/boot.js`,n.defer=n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}if(document.documentElement,document.body,window.ketchStubsPreloaded=!0,window.location.hostname.includes("forbes.com")){const e="2",t=new URLSearchParams(document.location.search);o(t.has("property")?t.get("property"):"website_smart_tag",e)}(0,i.isCouponsDomain)()&&o("forbes_coupons","3");let s=!1;function a(e){const t=new Date;t.setFullYear(t.getFullYear()+1),document.cookie="notice_gdpr_prefs=; Path=/; Domain=.forbes.com; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",(0,i.userGaveFullConsent)()||e?document.cookie=`notice_gdpr_prefs=0,1,2; Path=/; Domain=.forbes.com; expires=${t.toUTCString()};`:document.cookie=`notice_gdpr_prefs=0; Path=/; Domain=.forbes.com; expires=${t.toUTCString()};`}r.a9&&!i.checkConsentCookieLoaded&&a(!0),r.$p&&a(),(r.$p||r.Ur||r.a9)&&(window.semaphore.push(["onHideExperience",function(e){(r.$p||r.Ur||(0,i.checkJurisdiction)())&&"willNotShow"!==e&&(a(),setTimeout(()=>{window.location.reload()},1e3))}]),window.semaphore.push(["onConsent",a]),(r.$p||r.Ur)&&(0,i.checkJurisdiction)()&&(window.semaphore.push(["onWillShowExperience",function(){if(s)return;const e=document.createElement("div");e.id="ketch-consent-overlay",e.style.cssText="\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: black;\n\t\topacity: 0.5;\n\t\tz-index: 2000;\n\t",document.body.appendChild(e),s=!0}]),window.semaphore.push(["onHideExperience",function(){if(!s)return;const e=document.getElementById("ketch-consent-overlay");e?.remove(),s=!1}])))},41741:(e,t,n)=>{const{checkJurisdictionCode:r,getIsConsentCookieSet:i,getConsentState:o,Status:s}=n(77969),a=()=>{const{isGPCEnabled:e,isEurope:t,isChina:n,isUsDpa:r}=window?.forbes||{};return{isGPCEnabled:e,isEurope:t,isChina:n,isUsDpa:r}},c=()=>"undefined"!=typeof window&&i(),l=()=>"undefined"!=typeof window&&o(a())===s.Ready;e.exports={checkConsentCookieLoaded:c,checkJurisdiction:()=>r(a()),getIsPartialConsentGiven:()=>c()&&!l(),isCouponsDomain:()=>"undefined"!=typeof window&&window.location.hostname.includes("forbescoupons.com"),userGaveFullConsent:l}},1994:(e,t,n)=>{"use strict";n.d(t,{jn:()=>p});var r=n(60182),i=n(96754),o=n(41741),s=n(37678);const a=[],c={},l=()=>"premium"===window.forbes["simple-site"].tracking.contentPaywall,d=()=>"true"===window.forbes["simple-site"].tracking.login,u=()=>{if(l()&&!d()&&!window.forbes["simple-site"].tracking.bertieBadgeSlugs.includes("myforbes-events")&&!window.forbes["simple-site"].tracking.bertieBadgeSlugs.includes("no-paywall")&&!(0,s.HQ)()&&!(0,s.cu)()&&!r.zephr.doesUserHaveProduct([...r.zephr.premiumPaywallProducts,...Object.keys(r.zephr.zephrProductBundle)])&&(0,o.userGaveFullConsent)())return clearTimeout(c.unpauseTimeout),void((0,s.LY)()||r.zephr.showModal("article-modal"));for(;a.length;)a.shift().forEach(e=>e.unpause());clearTimeout(c.unpauseTimeout),window.zephrInitialPaywallVerified=!0,window.dispatchEvent(new CustomEvent("zephrInitialPaywallVerified"))};document.addEventListener("zephr.browserDecisionsFinished",()=>{const{accessDetails:{trials:e={}}}=window.Zephr,t=Object.values(e).find(e=>"article-metered"===e.tracker);if(!t)return;const n=t.remainingCredits;let r="ok";1===n?r="expiring":0===n&&(r="expired"),document.cookie=(0,i.createCookie)("_pc_meter_expiration",r,Date.now()+744e3)});let h=!1;const p=e=>{var t,n;d()||!(0,s.ZL)()&&!l()?(window.zephrInitialPaywallVerified=!0,window.dispatchEvent(new CustomEvent("zephrInitialPaywallVerified"))):(clearTimeout(c.unpauseTimeout),c.unpauseTimeout=setTimeout(u,3e4),a.push(e),a.forEach(e=>e.forEach(e=>e.pause())),h||(t=u,n="unpauseTimeout",document.addEventListener("zephr.browserDecisionsFinished",()=>{l()?t():(0,s.i5)()?(clearTimeout(c[n]),r.zephr.showModal("article-modal")):t()}),h=!0))}},37678:(e,t,n)=>{"use strict";n.d(t,{HQ:()=>o,LY:()=>a,ZL:()=>i,cu:()=>s,i5:()=>c});var r=n(43398);const i=()=>{const e=((0,r.getCookie)(document.cookie,"_pc_meter_expiration")||"").split("=")||[];return e.length&&["expiring","expired"].includes(e[1])},o=()=>window.forbes.lastCustomData?.zette_access,s=()=>window.Zephr?.utils?.productMaps?.unlimitedSubscriptionProducts.some(e=>window.forbes.lastCustomData?.jwt_access?.includes(e)),a=()=>/[I-i]nline/.test(window.Zephr?.outcomes?.article?.outcomeLabel),c=()=>/.*(?:\s|^)(reg|pay)[-\s]?wall(?:\s|$).*/i.test(window.Zephr?.outcomes?.article?.outcomeLabel)},47872:(e,t,n)=>{"use strict";var r=n(63630),i=n(37678),o=n(24491),s=n(5653),a=n(41741);async function c(){const e=window.forbes["simple-site"]||{},t=function(e){return""===(e.specialSlot||"")&&""===((e.tracking||{}).slot||"")&&""===(e.swimLane||"")}(e),n=function(e){return!(e.isPaidContent||e.premiumPage||e.advoiceBrand||e.insights||(e.gallery||{}).isBrandVoice)}(e),o=((e.tracking||{}).blogType,function(e){return!["CommunityVoice","Marketplace","Forbes Marketplace","AuthorVoice","Newsletter"].includes((e.tracking||{}).contribType||"")&&function(e){return"newsletter"!==((e.tracking||{}).blogType||"")&&"Newsletters"!==(e.channelName||"")}(e)}(e));n&&t&&!e.isSubscriber&&!(0,i.ZL)()&&o&&pushly("show_prompt"),PushlySDK.context?.user?.puuid&&(pushly("profile",(0,r.mr)(JSON.parse((window.localStorage||{}).fpd_fuse||"{}"))),await async function(e){const{localStorage:t}=window,n=await(((PushlySDK||{}).context||{}).user||{}).isSubscribed;try{t.setItem("pushlyUserId",e||""),t.setItem("pushlyOptInStatus",n||"false")}catch(e){console.error(e)}}(PushlySDK.context.user.puuid))}if((0,a.userGaveFullConsent)()&&s.Z){const e=document.createElement("script"),t="qmhdz0KFKfsfhQQeCP5Js1NFta1P8jkwbf05",n="2TxhnrcMmSZNyRXn6uej3aWhaeTcMw5AmMNO";e.async="async",e.src=`https://cdn.p-n.io/pushly-sdk.min.js?domain_key=${(0,a.isCouponsDomain)()?n:t}`;const r=document.createElement("script");r.type="text/javascript",r.innerHTML=`var PushlySDK = window.PushlySDK || [];\n\tfunction pushly() { PushlySDK.push(arguments) }\n\tpushly('load', {\n\t\tdomainKey: '${(0,a.isCouponsDomain)()?n:t}',\n\t\tsw:'/service-worker.js',\n\t\trequireConsent: true\n\t});`,document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("head")[0].appendChild(r),document.addEventListener("fbs-ad-block-init",async()=>{let e=window.PushlySDK?.context&&!(0,o.r)();if(e)await c();else{const t=setInterval(async()=>{e=window.PushlySDK?.context&&!(0,o.r)(),e&&(await c(),clearInterval(t))},500)}})}},5653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=!(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)&&/OS 15/i.test(navigator.userAgent))&&"https:"===window.location.protocol&&"serviceWorker"in navigator;r&&navigator.serviceWorker.register("/service-worker.js").catch(e=>{console.error("ServiceWorker registration failed:",e)});const i=r},99285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(52152);const i=(e,t,n,i)=>{const o={eventCategory:n,eventAction:t,eventLabel:i};e.addEventListener(t,()=>{(0,r.fireGAEvent)(o)})}},27962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["","topline","standard","live"];"undefined"!=typeof window&&(window.forbes.forceStickyAdTemplateTypes=r);const i=({isAdLight:e,adExperience:t,relativeVideo:n,templateType:i,templateSubType:o,publicationType:s,blogType:a})=>{const c=Object.keys(n||{}).length,l=["forbesAdvisor","finds"].includes(i)||"paidSearch"===o;return!e&&!l&&"none"!==t&&"Forbes Vetted"!==s&&"listmaker"!==a&&(r.includes(i)||!c)}},49034:e=>{function t(){const e=[...document.querySelectorAll(".social-share__icon")];for(let t=0;t<e.length;t++){const n=e[t];n.onclick=e=>{e.preventDefault();const t=n.getAttribute("href");n.classList.contains("search-hidden-icon")||window.open(t,"","width=400,height=500,resizable=1")}}}function n(){const e=[...document.querySelectorAll(".social-share__arrow")];for(let t=0;t<e.length;t++){const n=e[t];n.onclick=()=>{window.outerWidth<=1024&&n.parentElement.classList.toggle("social-share--share-open")}}}document.addEventListener("DOMContentLoaded",()=>{t(),n()}),e.exports={addHandlers:t,toggleIcons:n,checkArticleIsPremiumOrMasthead:function(){const e=window.forbes["simple-site"]||{};return"premium"===e.tracking.templateType||"masthead"===e.tracking.templateSubType}}},77110:(e,t,n)=>{"use strict";function r(e,t,n){let r,i;return t||(t=100),(...o)=>{const s=n||this||{},a=Date.now();r&&a<r+t?(clearTimeout(i),i=setTimeout(()=>{r=a,s.deferred=!0,e.apply(s,o)},t+a+1-r)):(r=a,e.apply(s,o))}}n.d(t,{Z:()=>r})},25274:(e,t,n)=>{"use strict";n.d(t,{generateUniqueId:()=>A,getBbgTerm:()=>E,getFvid:()=>k,primeInviewEvent:()=>S,virtualTrack:()=>O});var r,i=n(64572),o=n(60182),s=n(30938),a=n(96754),c=n(33398),l=n(87460),d=n(58492),u=n(52152),h=/bot|crawl|http|lighthouse|scan|search|spider/i;var p=n(41741);async function f(e,t){if(!t)return;if(n=window.navigator.userAgent,Boolean(n)&&function(){if(r instanceof RegExp)return r;try{r=new RegExp(" daum[ /]| deusu/|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|(?<!cam)scan|24x7|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|\\||^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^azure|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d\\s[\\w\\.-]+$|^mozilla/\\d\\.\\d\\s\\(compatible;?(?:\\s\\w+\\/\\d+\\.\\d+)?\\)$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|agent|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|fetcher|firephp|functionize|grab|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|infrawatch|insight|inspect|iplabel|java(?!;)|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|onetrust|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|retriever|rexx;|rigor|rss\\b|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|xtate/","i")}catch(e){r=h}return r}().test(n))return;var n;if(!(0,p.userGaveFullConsent)())return;const i=(()=>{const e={};return document.cookie.split(";").forEach(t=>{const n=t.split("="),r=n[0].trim(),i=n[1];e[r]=i}),e._ga?.substring(6)})()||(()=>{const e="_ga_proxy_cid",t=`; ${document.cookie}`.split(`; ${e}=`).pop().split(";")[0];if(t)return t;const n=crypto.randomUUID();return document.cookie=`${e}=${n};max-age=31536000;path=/;domain=.forbes.com`,n})(),o=e();if(i&&o)try{const e=await fetch("/simple-data/api/info",{method:"POST",headers:{"Content-Type":"application/json"},keepalive:!0,body:JSON.stringify({client_id:i,fvid:o,analyticsData:{events:t.events,user_properties:t.user_properties}})});e.ok||console.error("Analytics event failed:",e.status)}catch(e){console.error("Error sending analytics event:",e)}}var m=n(24491),g=n(67604);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}window.trackingService=window.trackingService||new o.FbsTrackingService;const{trackingService:v}=window;let b;v.isGPCEnabled=l.td,v.isEurope=l.$p,v.isChina=l.Ur,v.isUsDpa=l.a9;const _=u.fireGAEvent,S=u.primeInviewEvent,k=()=>v.getOrCreateClientId(),E=()=>window.location.search.substr(1).split("&").find(e=>e.match(/(^|&)source=bloomberg($|&)/))?"true":"false",A=()=>Date.now()+Math.random().toString(36).slice(2),P=e=>{if(!e.index)return"none";const t=c.isMobile?"mobile ":"";return/RKPEVDB|R8W03AS/g.test((0,a.getCookie)(document.cookie,"fbs-zephr-access")||"")&&-1!==["insights","ad","connoisseur"].indexOf(e.blogType)?`${t}subscriber stream`:e.startFromBrandvoice?e.index<4?`${t.trim()}recommend`:`${t.trim()}other`:[1,5,8].indexOf(e.index)>=0?e.ntvContentLineItemId?`${t.trim()}ad`:`${t}scheduler`:`${t.trim()}other`},C=()=>{const e=(0,a.getCookie)(document.cookie,"prospect-id");return e?e.slice(e.indexOf("=")+1):void 0},T=(e={})=>{const{blogType:t="",index:n=0,ntvContentLineItemId:r="",startFromBrandvoice:i=null}=e;return"boolean"!=typeof i?"":[1,5,8].indexOf(n)>=0&&"ad"!==t&&!i&&!c.isMobile&&r?"true":"false"},I=(()=>{const e=window.PushlySDK;let t,n;if(e)t=(((e||{}).context||{}).user||{}).puuid,n=(((e||{}).context||{}).user||{}).isSubscribed();else{const{localStorage:e}=window;t=e.getItem("pushlyUserId"),n=e.getItem("pushlyOptInStatus")}return{pushlyUserId:t,pushlyOptInStatus:n}})(),x=async e=>{const t=(0,l.Ac)(),n={author:t.author||"none",site:t.siteSlug||"none",contribType:t.contribType||"none",bertieBadgeSlugs:t.bertieBadgeSlugs||"none",blogType:t.blogType||"none",brandVoice:t.brandVoice||"none",slot:t.slot||"none",bertie:t.bertie||"false",pageType:t.pageType||"none",DFPSite:c.isMobile?"fdcmobile":"fdc.forbes",DFPZone:t.dfpZone||"none",published:t.publishDate||"none",categories:t.categories||"none",edit:t.edit||"none",hashtags:t.hashtags||"none",naturalID:t.naturalID||"none",gamZone:t.gamZone||"none",gitBranch:t.gitBranch,pageNumber:`${t.pageNumber||"none"}`,pageTotal:`${t.pageTotal||"none"}`,section:t.section||"none",videoPlacement:t.videoLocation||"none",login:t.login||"none",trendingHashtags:t.hashtagsTrending||"none",heroImage:t.heroImage||"none",imageCount:"number"==typeof t.imageCount?t.imageCount.toString():"none",customPage:t.customPage||"none",primaryChannel:t.primaryChannel||"none",primarySection:t.primarySection||"none",bvContentSource:t.brandVoice&&t.bvContentSource||"none",bvLeftRailHeadline:P(t),streamPosition:"number"==typeof t.streamPosition?t.streamPosition:"none",DFPLineItemID:t.ntvContentLineItemId||"none",bvProgramType:t.bvProgramType||"none",coreBrands:t.coreBrands||"none",contribDivision:t.contribDivision||"none",nonBVLeftRailAd:T(t)||"none",insights:t.insights||"none",coAuthorControl:t.coAuthorControl,newsKeywords:t.newsKeywords||"none",coAuthor:t.coAuthor||"none",channelNames:t.channelNames||"none",sectionNames:t.sectionNames||"none",cbSections:t.sections||"",cbPath:window.location.pathname,version:t.version||"",description:t.description||"",seniorContributor:t.seniorContributor||"none",paidContentType:t.paidContentType||"none",paidContentBrand:t.paidContentBrand||"none",premiumProfiles:t.premiumProfiles||"none",adBlockerDetection:t.adBlockerDetection||void 0,templateType:t.templateType||"none",templateSubType:t.templateSubType||"none",firebaseId:((0,a.getCookie)(document.cookie,"firebaseAuthUser")||"").split("=")[1]||"",publicCompany:t.publicCompany||"none",stockTicker:t.stockTicker||"none",recircUnit:t.recircUnit||"none",salesforce:C(),shPost:b,isSponsored:t.isSponsored||!1,isRetracted:t.isRetracted||!1,entitySegments:(t.entitySegments||[]).join(",")||"none",testName:"",testVariant:"",ip:(window.forbes.fingerPrint||{}).ip,ispName:(window.forbes.fingerPrint||{}).ispName,isProd:l.BB,swimLane:l.NH,pushlyUserId:I.pushlyUserId||"",pushlyOptInStatus:I.pushlyOptInStatus||"false",randId:((window.forbes||{})["simple-site"]||{}).randId,naturalIdVersion:t.naturalIdVersion||"none",resourceId:t.resourceId,contentPaywall:t.contentPaywall,categoryId:t.categoryId,isE2E:l.ie,isWalletUser:!("undefined"==typeof localStorage||!localStorage.getItem("fbs_web3")),isAIAssisted:t.isAIAssisted};if(e&&(n.event="analyticsVPV",n.virtualPage="true",n.cbTitle=t.title||""),0===t.streamPosition){const e=await(0,d.F5)();n.testName=e?"RecircUnit":"",n.testVariant=e}return window.countryCode&&(n.countryCode=window.countryCode),(()=>{window.fbsCordial=window.fbsCordial||new s.Z;const e=new URLSearchParams(window.location.search).get("cdlcid");e?localStorage.setItem("contactID",e):window.fbsCordial.getUserCordialData().then(e=>{e&&localStorage.setItem("contactID",e.cID||"")})})(),n.cdlcid=localStorage.getItem("contactID")||"",n},O=e=>{x(e).then(t=>{g.gtmQueue.pushTask(()=>{v.track(t,e)})})},{"simple-site":{adZone:j="",isPreview:D=!1,tracking:{blogType:L=""}}={}}=window.forbes||{};D||(j.indexOf("article")>=0&&(window.forbes["simple-site"].tracking=y(y({},window.forbes["simple-site"].tracking),{},{startFromBrandvoice:"ad"===L})),function(e){e.indexOf("article")>=0&&(o.zephr.createZephrModalContainer("article-modal",!1),o.zephr.createZephrModalContainer("save-article-paywall")),e.indexOf("home")>=0&&o.zephr.createZephrModalContainer("save-article-paywall")}(j),window.geolocationInit||(window.geolocationInit=!0,(e=>{const t=l.D0?"/simple-data/geolocation":"https://geolocation.forbes.com/json/";fetch(t,{method:"POST"}).then(e=>e.json()).then(e=>{const t=e&&e["client.geo.country_code"]||"US",n="US"===t?t:"INTL";window.__region=n,window.countryCode=t,b=e["client.geo.encrypted_postal_code"],window.forbes.fingerPrint={ip:e["client.encrypted_ip"],ispName:e["client.as.encrypted_name"]}}).catch(e=>{window.__region="",console.error("Geolocation fetch error: ",e)}).then(()=>{const t=new CustomEvent("geo-fetch-finished");document.dispatchEvent(t),x(e).then(t=>{((e,t,n)=>{g.gtmQueue.pushTask(()=>{v.track(e,t,n)}),window.addEventListener("pageshow",e=>{e.persisted&&_({event:"analyticsEvent",eventCategory:"Page State",eventAction:"Restore",eventLabel:"Restored via bfcache",bfcachePageview:"true"})})})(t,e||!0,{zephrFuseWaitTimeout:c.isMobile?200:100})})})})()),function(e){(0,m.Z)(t=>{t?f(e,{events:[{name:"analyticsEvent",params:{category:"Zephr",action:"AdBlockDetection",label:"Detected",adBlockerDetection:"Detected"}}]}):(0,u.fireGAEvent)({event:"analyticsEvent",eventCategory:"Zephr",eventAction:"AdBlockDetection",eventLabel:"Not Detected",adBlockerDetection:"Not Detected"})})}(k))},52152:(e,t,n)=>{var r=n(38416),i=n(70215);const o=["event","eventCategory","eventAction","eventLabel","eventValue"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const{gtmQueue:c}=n(67604),l=e=>{const{event:t="analyticsEvent",eventCategory:n="Template Area Interaction",eventAction:r="",eventLabel:s="",eventValue:d=""}=e,u=i(e,o);(window.dataLayer||[])[0]?c.pushTask(()=>{window.dataLayer.push(a(a({event:t,"event category":n,"event action":r,"event label":s},d&&{"event value":d}),u))}):setTimeout(()=>{l(e)},100)},d={track:(e,t,n)=>{l({eventCategory:e,eventAction:t,eventLabel:n})},category:"Template Area Interaction",action:"click",label:"newsletter-subscribe-navigation"};e.exports={fireGAEvent:l,getIsNewsletterPage:()=>"newsletters"===window.location.pathname.split("/")[1],updateTrackingData:e=>{window.forbes||(window.forbes={}),window.forbes["simple-site"]||(window.forbes["simple-site"]={}),window.forbes["simple-site"].tracking=a(a({},window.forbes["simple-site"].tracking||{}),e)},newsLetterSubscribeTracking:d,nftTrackingPropsNormalizer:(e,t="Click",n)=>l({eventCategory:e,eventAction:t,eventLabel:n}),formatForYouTrackingLabel:({prefix:e,uri:t,index:n,event:r})=>`${e}${n+1}-${r}-${t}`,formatTrendingTrackingLabel:({prefix:e,naturalId:t,index:n,event:r})=>`${e}-${r}-${n+1}-${t}`,primeInviewEvent:(e,t,n=1,r="scroll",i="",o="Template Area Interaction")=>{if(!e)return;const s=new IntersectionObserver(e=>{e[0].isIntersecting&&(l({eventAction:r,eventLabel:t,eventValue:i,eventCategory:o}),s.unobserve(e[0].target))},{threshold:n});s.observe(e)}}},96754:(e,t,n)=>{const{getCookie:r,getCookieValue:i}=n(43398);e.exports={expiresMidnight:()=>{const e=new Date;return e.setUTCHours(24,0,0,0),e},createCookie:(e="",t="",n=Date.now())=>`${e}=${t}; expires=${n}; path=/; domain=forbes.com`,getCookie:r,getCookieValue:i,getCookieClientId:(e="",t)=>t?"00000000000000000000000000000000000":i(e,"client_id"),getNextEstMidnight:()=>{const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const t=e.getTime()+(()=>{const e=new Date,t=e.toLocaleString("en-US",{timeZone:"America/New_York",hour12:!1});return e-new Date(t)})();return new Date(t).toUTCString()}}},88637:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__webpack_exports__default,detectIncognito:()=>__webpack_exports__detectIncognito});var __nested_webpack_require_1336__={d:(e,t)=>{for(var n in t)__nested_webpack_require_1336__.o(t,n)&&!__nested_webpack_require_1336__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},__webpack_exports__={};__nested_webpack_require_1336__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,k:()=>detectIncognito});var __awaiter=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},__generator=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function detectIncognito(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,new Promise(function(resolve,reject){var browserName="Unknown";function __callback(e){resolve({isPrivate:e,browserName})}function identifyChromium(){var e=navigator.userAgent;return e.match(/Chrome/)?void 0!==navigator.brave?"Brave":e.match(/Edg/)?"Edge":e.match(/OPR/)?"Opera":"Chrome":"Chromium"}function assertEvalToString(e){return e===eval.toString().length}function feid(){var toFixedEngineID=0;try{eval("(-1).toFixed(-1);")}catch(e){toFixedEngineID=e.message.length}return toFixedEngineID}function isSafari(){return 44===feid()}function isChrome(){return 51===feid()}function isFirefox(){return 25===feid()}function isMSIE(){return void 0!==navigator.msSaveBlob&&assertEvalToString(39)}function newSafariTest(){var e=String(Math.random());try{window.indexedDB.open(e,1).onupgradeneeded=function(t){var n,r,i=null===(n=t.target)||void 0===n?void 0:n.result;try{i.createObjectStore("test",{autoIncrement:!0}).put(new Blob),__callback(!1)}catch(e){var o=e;return e instanceof Error&&(o=null!==(r=e.message)&&void 0!==r?r:e),"string"!=typeof o?void __callback(!1):void __callback(o.includes("BlobURLs are not yet supported"))}finally{i.close(),window.indexedDB.deleteDatabase(e)}}}catch(e){__callback(!1)}}function oldSafariTest(){var e=window.openDatabase,t=window.localStorage;try{e(null,null,null,null)}catch(e){return void __callback(!0)}try{t.setItem("test","1"),t.removeItem("test")}catch(e){return void __callback(!0)}__callback(!1)}function safariPrivateTest(){void 0!==navigator.maxTouchPoints?newSafariTest():oldSafariTest()}function getQuotaLimit(){var e=window;return void 0!==e.performance&&void 0!==e.performance.memory&&void 0!==e.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824}function storageQuotaChromePrivateTest(){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(e,t){__callback(Math.round(t/1048576)<2*Math.round(getQuotaLimit()/1048576))},function(e){reject(new Error("detectIncognito somehow failed to query storage quota: "+e.message))})}function oldChromePrivateTest(){(0,window.webkitRequestFileSystem)(0,1,function(){__callback(!1)},function(){__callback(!0)})}function chromePrivateTest(){void 0!==self.Promise&&void 0!==self.Promise.allSettled?storageQuotaChromePrivateTest():oldChromePrivateTest()}function firefoxPrivateTest(){__callback(void 0===navigator.serviceWorker)}function msiePrivateTest(){__callback(void 0===window.indexedDB)}function main(){isSafari()?(browserName="Safari",safariPrivateTest()):isChrome()?(browserName=identifyChromium(),chromePrivateTest()):isFirefox()?(browserName="Firefox",firefoxPrivateTest()):isMSIE()?(browserName="Internet Explorer",msiePrivateTest()):reject(new Error("detectIncognito cannot determine the browser"))}main()})];case 1:return[2,_a.sent()]}})})}"undefined"!=typeof window&&(window.detectIncognito=detectIncognito);const __WEBPACK_DEFAULT_EXPORT__=detectIncognito;var __webpack_exports__default=__webpack_exports__.A,__webpack_exports__detectIncognito=__webpack_exports__.k},38416:(e,t,n)=>{var r=n(64062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:(e,t,n)=>{var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},95036:(e,t,n)=>{var r=n(18698).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:(e,t,n)=>{var r=n(18698).default,i=n(95036);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1384:(e,t)=>{"use strict";function n(){return Date.now()}const r=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",i=r&&"safari"in window&&"object"==typeof window.safari&&"pushNotification"in window.safari;var o=Object.defineProperty;const s=r&&"function"==typeof window.requestIdleCallback;class a{constructor(e){((e,t,n)=>{((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"initTime_"),this.initTime_=e}get didTimeout(){return!1}timeRemaining(){return Math.max(0,50-(n()-this.initTime_))}}const c=s?window.requestIdleCallback.bind(window):function(e){const t=new a(n());return setTimeout(()=>e(t),0)},l=s?window.cancelIdleCallback.bind(window):function(e){e&&clearTimeout(e)};var d=Object.defineProperty,u=(e,t,n)=>(((e,t,n)=>{t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function h(e,t){return!!(e&&e.timeRemaining()<=(t||0))}var p=Object.defineProperty,f=(e,t,n)=>(((e,t,n)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class m{constructor(e){if(f(this,"init_"),f(this,"value_"),f(this,"idleHandle_"),f(this,"initialized",!1),"function"!=typeof e)throw new TypeError("init must be a function");this.init_=e,this.idleHandle_=c(async()=>{try{this.value_=this.init_(),this.initialized=!0}catch(e){console.error("Error initializing value:",e)}})}getValue(){if(!this.initialized){this.cancelIdleInit_();try{this.value_=this.init_(),this.initialized=!0}catch(e){console.error("Error getting value:",e)}}return this.value_}setValue(e){this.cancelIdleInit_(),this.value_=e,this.initialized=!0}cancelIdleInit_(){void 0!==this.idleHandle_&&(l(this.idleHandle_),this.idleHandle_=void 0)}}function g(e,t,n){if(!e||"object"!=typeof e)throw new TypeError("obj must be an object");if(!t)throw new Error("prop must be provided");const r=new m(n);Object.defineProperty(e,t,{configurable:!0,get:r.getValue.bind(r),set:r.setValue.bind(r)})}t.IdleQueue=class{constructor({ensureTasksRun:e=!1,defaultMinTaskTime:t=0,maxTasksPerIteration:n=100}={}){u(this,"idleCallbackHandle_",null),u(this,"taskQueue_",[]),u(this,"isProcessing_",!1),u(this,"state_",null),u(this,"defaultMinTaskTime_",0),u(this,"maxTasksPerIteration_",100),u(this,"ensureTasksRun_",!1),u(this,"queueMicrotask"),this.defaultMinTaskTime_=t,this.ensureTasksRun_=e,this.maxTasksPerIteration_=n,this.runTasksImmediately=this.runTasksImmediately.bind(this),this.runTasks_=this.runTasks_.bind(this),r&&this.ensureTasksRun_&&(addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.runTasksImmediately()},!0),i&&addEventListener("beforeunload",this.runTasksImmediately,!0))}pushTask(e,t){this.addTask_(e,t)}unshiftTask(e,t){this.addTask_(e,t,!0)}runTasksImmediately(){this.runTasks_()}hasPendingTasks(){return this.taskQueue_.length>0}clearPendingTasks(){this.taskQueue_=[],this.cancelScheduledRun_()}getState(){return this.state_}destroy(){this.taskQueue_=[],this.cancelScheduledRun_(),r&&this.ensureTasksRun_&&(removeEventListener("visibilitychange",this.runTasksImmediately,!0),i&&removeEventListener("beforeunload",this.runTasksImmediately,!0))}addTask_(e,t,i=!1){const o={state:{time:n(),visibilityState:r?document.visibilityState:"visible"},task:e,minTaskTime:Math.max(0,t&&t.minTaskTime||this.defaultMinTaskTime_)};i?this.taskQueue_.unshift(o):this.taskQueue_.push(o),this.scheduleTasksToRun_()}scheduleTasksToRun_(){r&&this.ensureTasksRun_&&"hidden"===document.visibilityState?(this.queueMicrotask||(this.queueMicrotask=r&&"function"==typeof queueMicrotask?queueMicrotask.bind(window):"function"==typeof Promise&&Promise.toString().includes("[native code]")?e=>{Promise.resolve().then(e)}:function(){let e=0,t=[];const n=new MutationObserver(()=>{t.forEach(e=>e()),t=[]}),r=document.createTextNode("");return n.observe(r,{characterData:!0}),n=>{t.push(n),r.data=String(++e%2)}}()),this.queueMicrotask(this.runTasks_)):this.idleCallbackHandle_||(this.idleCallbackHandle_=c(this.runTasks_))}runTasks_(e){if(this.cancelScheduledRun_(),!this.isProcessing_){this.isProcessing_=!0;let t=0;for(;this.hasPendingTasks()&&t<this.maxTasksPerIteration_&&!h(e,this.taskQueue_[0].minTaskTime);){const e=this.taskQueue_.shift();if(e){const{task:n,state:r}=e;this.state_=r;try{n(r)}catch(e){console.error("Error running IdleQueue Task: ",e)}this.state_=null,t++}}this.isProcessing_=!1,this.hasPendingTasks()&&this.scheduleTasksToRun_()}}cancelScheduledRun_(){this.idleCallbackHandle_&&l(this.idleCallbackHandle_),this.idleCallbackHandle_=null}},t.IdleValue=m,t.cIC=l,t.defineIdleProperties=function(e,t){Object.keys(t).forEach(n=>{const r=n;try{g(e,r,t[r])}catch(e){console.error(`Error defining idle property '${n}':`,e)}})},t.defineIdleProperty=g,t.rIC=c},64572:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return i=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var i}n.d(t,{Z:()=>i})},87462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},76474:(e,t,n)=>{"use strict";function r(){return Date.now()}n.d(t,{Fp:()=>f});const i=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",o=i&&"safari"in window&&"object"==typeof window.safari&&"pushNotification"in window.safari;var s=Object.defineProperty;const a=i&&"function"==typeof window.requestIdleCallback;class c{constructor(e){((e,t,n)=>{((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"initTime_"),this.initTime_=e}get didTimeout(){return!1}timeRemaining(){return Math.max(0,50-(r()-this.initTime_))}}const l=a?window.requestIdleCallback.bind(window):function(e){const t=new c(r());return setTimeout(()=>e(t),0)},d=a?window.cancelIdleCallback.bind(window):function(e){e&&clearTimeout(e)};var u=Object.defineProperty,h=(e,t,n)=>(((e,t,n)=>{t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function p(e,t){return!!(e&&e.timeRemaining()<=(t||0))}class f{constructor({ensureTasksRun:e=!1,defaultMinTaskTime:t=0,maxTasksPerIteration:n=100}={}){h(this,"idleCallbackHandle_",null),h(this,"taskQueue_",[]),h(this,"isProcessing_",!1),h(this,"state_",null),h(this,"defaultMinTaskTime_",0),h(this,"maxTasksPerIteration_",100),h(this,"ensureTasksRun_",!1),h(this,"queueMicrotask"),this.defaultMinTaskTime_=t,this.ensureTasksRun_=e,this.maxTasksPerIteration_=n,this.runTasksImmediately=this.runTasksImmediately.bind(this),this.runTasks_=this.runTasks_.bind(this),i&&this.ensureTasksRun_&&(addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.runTasksImmediately()},!0),o&&addEventListener("beforeunload",this.runTasksImmediately,!0))}pushTask(e,t){this.addTask_(e,t)}unshiftTask(e,t){this.addTask_(e,t,!0)}runTasksImmediately(){this.runTasks_()}hasPendingTasks(){return this.taskQueue_.length>0}clearPendingTasks(){this.taskQueue_=[],this.cancelScheduledRun_()}getState(){return this.state_}destroy(){this.taskQueue_=[],this.cancelScheduledRun_(),i&&this.ensureTasksRun_&&(removeEventListener("visibilitychange",this.runTasksImmediately,!0),o&&removeEventListener("beforeunload",this.runTasksImmediately,!0))}addTask_(e,t,n=!1){const o={state:{time:r(),visibilityState:i?document.visibilityState:"visible"},task:e,minTaskTime:Math.max(0,t&&t.minTaskTime||this.defaultMinTaskTime_)};n?this.taskQueue_.unshift(o):this.taskQueue_.push(o),this.scheduleTasksToRun_()}scheduleTasksToRun_(){i&&this.ensureTasksRun_&&"hidden"===document.visibilityState?(this.queueMicrotask||(this.queueMicrotask=i&&"function"==typeof queueMicrotask?queueMicrotask.bind(window):"function"==typeof Promise&&Promise.toString().includes("[native code]")?e=>{Promise.resolve().then(e)}:function(){let e=0,t=[];const n=new MutationObserver(()=>{t.forEach(e=>e()),t=[]}),r=document.createTextNode("");return n.observe(r,{characterData:!0}),n=>{t.push(n),r.data=String(++e%2)}}()),this.queueMicrotask(this.runTasks_)):this.idleCallbackHandle_||(this.idleCallbackHandle_=l(this.runTasks_))}runTasks_(e){if(this.cancelScheduledRun_(),!this.isProcessing_){this.isProcessing_=!0;let t=0;for(;this.hasPendingTasks()&&t<this.maxTasksPerIteration_&&!p(e,this.taskQueue_[0].minTaskTime);){const e=this.taskQueue_.shift();if(e){const{task:n,state:r}=e;this.state_=r;try{n(r)}catch(e){console.error("Error running IdleQueue Task: ",e)}this.state_=null,t++}}this.isProcessing_=!1,this.hasPendingTasks()&&this.scheduleTasksToRun_()}}cancelScheduledRun_(){this.idleCallbackHandle_&&d(this.idleCallbackHandle_),this.idleCallbackHandle_=null}}Object.defineProperty},45014:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CompactEncrypt:()=>mt,CompactSign:()=>wt,EmbeddedJWK:()=>Ct,EncryptJWT:()=>kt,FlattenedEncrypt:()=>Xe,FlattenedSign:()=>gt,GeneralEncrypt:()=>tt,GeneralSign:()=>vt,SignJWT:()=>St,UnsecuredJWT:()=>Ut,base64url:()=>i,calculateJwkThumbprint:()=>At,calculateJwkThumbprintUri:()=>Pt,compactDecrypt:()=>Je,compactVerify:()=>st,createLocalJWKSet:()=>jt,createRemoteJWKSet:()=>Ht,cryptoRuntime:()=>$t,decodeJwt:()=>Nt,decodeProtectedHeader:()=>zt,errors:()=>r,experimental_jwksCache:()=>Mt,exportJWK:()=>Qe,exportPKCS8:()=>Ge,exportSPKI:()=>qe,flattenedDecrypt:()=>We,flattenedVerify:()=>ot,generalDecrypt:()=>$e,generalVerify:()=>at,generateKeyPair:()=>Wt,generateSecret:()=>Jt,importJWK:()=>Le,importPKCS8:()=>De,importSPKI:()=>Oe,importX509:()=>je,jwksCache:()=>Lt,jwtDecrypt:()=>ft,jwtVerify:()=>pt});var r={};n.r(r),n.d(r,{JOSEAlgNotAllowed:()=>k,JOSEError:()=>b,JOSENotSupported:()=>E,JWEDecryptionFailed:()=>A,JWEInvalid:()=>P,JWKInvalid:()=>I,JWKSInvalid:()=>x,JWKSMultipleMatchingKeys:()=>j,JWKSNoMatchingKey:()=>O,JWKSTimeout:()=>D,JWSInvalid:()=>C,JWSSignatureVerificationFailed:()=>L,JWTClaimValidationFailed:()=>_,JWTExpired:()=>S,JWTInvalid:()=>T});var i={};n.r(i),n.d(i,{decode:()=>Bt,encode:()=>Ft});const o=crypto,s=e=>e instanceof CryptoKey,a=async(e,t)=>{const n=`SHA-${e.slice(-3)}`;return new Uint8Array(await o.subtle.digest(n,t))},c=new TextEncoder,l=new TextDecoder,d=2**32;function u(...e){const t=e.reduce((e,{length:t})=>e+t,0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}function h(e,t,n){if(t<0||t>=d)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function p(e){const t=Math.floor(e/d),n=e%d,r=new Uint8Array(8);return h(r,t,0),h(r,n,4),r}function f(e){const t=new Uint8Array(4);return h(t,e),t}function m(e){return u(f(e.length),e)}const g=e=>{let t=e;"string"==typeof t&&(t=c.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))},w=e=>g(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),y=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n},v=e=>{let t=e;t instanceof Uint8Array&&(t=l.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return y(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class b extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}b.code="ERR_JOSE_GENERIC";class _ extends b{constructor(e,t,n="unspecified",r="unspecified"){super(e,{cause:{claim:n,reason:r,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=r,this.payload=t}}_.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class S extends b{constructor(e,t,n="unspecified",r="unspecified"){super(e,{cause:{claim:n,reason:r,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=r,this.payload=t}}S.code="ERR_JWT_EXPIRED";class k extends b{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}k.code="ERR_JOSE_ALG_NOT_ALLOWED";class E extends b{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}E.code="ERR_JOSE_NOT_SUPPORTED";class A extends b{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}A.code="ERR_JWE_DECRYPTION_FAILED";class P extends b{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}P.code="ERR_JWE_INVALID";class C extends b{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}C.code="ERR_JWS_INVALID";class T extends b{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}T.code="ERR_JWT_INVALID";class I extends b{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}I.code="ERR_JWK_INVALID";class x extends b{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}x.code="ERR_JWKS_INVALID";class O extends b{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}O.code="ERR_JWKS_NO_MATCHING_KEY";class j extends b{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,j.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class D extends b{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}D.code="ERR_JWKS_TIMEOUT";class L extends b{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}L.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const R=o.getRandomValues.bind(o);function H(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new E(`Unsupported JWE Algorithm: ${e}`)}}const M=(e,t)=>{if(t.length<<3!==H(e))throw new P("Invalid Initialization Vector length")},U=(e,t)=>{const n=e.byteLength<<3;if(n!==t)throw new P(`Invalid Content Encryption Key length. Expected ${t} bits, got ${n} bits`)};function F(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function B(e,t){return e.name===t}function z(e){return parseInt(e.name.slice(4),10)}function N(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function K(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!B(e.algorithm,"AES-GCM"))throw F("AES-GCM");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw F(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!B(e.algorithm,"AES-KW"))throw F("AES-KW");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw F(n,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw F("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!B(e.algorithm,"PBKDF2"))throw F("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!B(e.algorithm,"RSA-OAEP"))throw F("RSA-OAEP");const n=parseInt(t.slice(9),10)||1;if(z(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}N(e,n)}function W(e,t,...n){if((n=n.filter(Boolean)).length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const J=(e,...t)=>W("Key must be ",e,...t);function $(e,t,...n){return W(`Key for the ${e} algorithm must be `,t,...n)}const Z=e=>!!s(e)||"KeyObject"===e?.[Symbol.toStringTag],V=["CryptoKey"],q=async(e,t,n,r,i,a)=>{if(!(s(t)||t instanceof Uint8Array))throw new TypeError(J(t,...V,"Uint8Array"));if(!r)throw new P("JWE Initialization Vector missing");if(!i)throw new P("JWE Authentication Tag missing");switch(M(e,r),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&U(t,parseInt(e.slice(-3),10)),async function(e,t,n,r,i,s){if(!(t instanceof Uint8Array))throw new TypeError(J(t,"Uint8Array"));const a=parseInt(e.slice(1,4),10),c=await o.subtle.importKey("raw",t.subarray(a>>3),"AES-CBC",!1,["decrypt"]),l=await o.subtle.importKey("raw",t.subarray(0,a>>3),{hash:"SHA-"+(a<<1),name:"HMAC"},!1,["sign"]),d=u(s,r,n,p(s.length<<3)),h=new Uint8Array((await o.subtle.sign("HMAC",l,d)).slice(0,a>>3));let f,m;try{f=((e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let r=0,i=-1;for(;++i<n;)r|=e[i]^t[i];return 0===r})(i,h)}catch{}if(!f)throw new A;try{m=new Uint8Array(await o.subtle.decrypt({iv:r,name:"AES-CBC"},c,n))}catch{}if(!m)throw new A;return m}(e,t,n,r,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&U(t,parseInt(e.slice(1,4),10)),async function(e,t,n,r,i,s){let a;t instanceof Uint8Array?a=await o.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(K(t,e,"decrypt"),a=t);try{return new Uint8Array(await o.subtle.decrypt({additionalData:s,iv:r,name:"AES-GCM",tagLength:128},a,u(n,i)))}catch{throw new A}}(e,t,n,r,i,a);default:throw new E("Unsupported JWE Content Encryption Algorithm")}},G=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0};function Q(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}const Y=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function X(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function ee(e,t,n){if(s(e))return K(e,t,n),e;if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError(J(e,...V,"Uint8Array"))}const te=async(e,t,n)=>{const r=await ee(t,e,"wrapKey");X(r,e);const i=await o.subtle.importKey("raw",n,...Y);return new Uint8Array(await o.subtle.wrapKey("raw",i,r,"AES-KW"))},ne=async(e,t,n)=>{const r=await ee(t,e,"unwrapKey");X(r,e);const i=await o.subtle.unwrapKey("raw",n,r,"AES-KW",...Y);return new Uint8Array(await o.subtle.exportKey("raw",i))};async function re(e,t,n,r,i=new Uint8Array(0),l=new Uint8Array(0)){if(!s(e))throw new TypeError(J(e,...V));if(K(e,"ECDH"),!s(t))throw new TypeError(J(t,...V));K(t,"ECDH","deriveBits");const d=u(m(c.encode(n)),m(i),m(l),f(r));let h;return h="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,async function(e,t,n){const r=Math.ceil((t>>3)/32),i=new Uint8Array(32*r);for(let t=0;t<r;t++){const r=new Uint8Array(4+e.length+n.length);r.set(f(t+1)),r.set(e,4),r.set(n,4+e.length),i.set(await a("sha256",r),32*t)}return i.slice(0,t>>3)}(new Uint8Array(await o.subtle.deriveBits({name:e.algorithm.name,public:e},t,h)),r,d)}function ie(e){if(!s(e))throw new TypeError(J(e,...V));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function oe(e,t,n,r){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new P("PBES2 Salt Input must be 8 or more octets")}(e);const i=function(e,t){return u(c.encode(e),new Uint8Array([0]),t)}(t,e),a=parseInt(t.slice(13,16),10),l={hash:`SHA-${t.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:i},d={length:a,name:"AES-KW"},h=await function(e,t){if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(s(e))return K(e,t,"deriveBits","deriveKey"),e;throw new TypeError(J(e,...V,"Uint8Array"))}(r,t);if(h.usages.includes("deriveBits"))return new Uint8Array(await o.subtle.deriveBits(l,h,a));if(h.usages.includes("deriveKey"))return o.subtle.deriveKey(l,h,d,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function se(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new E(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const ae=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function ce(e){return Q(e)&&"string"==typeof e.kty}const le=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=function(e){let t,n;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new E('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new E('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":t={name:"Ed25519"},n=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new E('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new E('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,o.subtle.importKey("jwk",i,...r)},de=e=>v(e);let ue,he;const pe=e=>"KeyObject"===e?.[Symbol.toStringTag],fe=async(e,t,n,r,i=!1)=>{let o=e.get(t);if(o?.[r])return o[r];const s=await le({...n,alg:r});return i&&Object.freeze(t),o?o[r]=s:e.set(t,{[r]:s}),s},me=(e,t)=>{if(pe(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?de(n.k):(he||(he=new WeakMap),fe(he,e,n,t))}return ce(e)?e.k?v(e.k):(he||(he=new WeakMap),fe(he,e,e,t,!0)):e},ge=(e,t)=>{if(pe(e)){let n=e.export({format:"jwk"});return n.k?de(n.k):(ue||(ue=new WeakMap),fe(ue,e,n,t))}return ce(e)?e.k?v(e.k):(ue||(ue=new WeakMap),fe(ue,e,e,t,!0)):e};function we(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new E(`Unsupported JWE Algorithm: ${e}`)}}const ye=e=>R(new Uint8Array(we(e)>>3)),ve=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`,be=async(e,t,n)=>{if(!s(n))throw new TypeError(J(n,...V));if(!n.extractable)throw new TypeError("CryptoKey is not extractable");if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return ve(g(new Uint8Array(await o.subtle.exportKey(t,n))),`${e.toUpperCase()} KEY`)},_e=e=>be("public","spki",e),Se=e=>be("private","pkcs8",e),ke=(e,t,n=0)=>{0===n&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(-1===r)return!1;const i=e.subarray(r,r+t.length);return i.length===t.length&&(i.every((e,n)=>e===t[n])||ke(e,t,r+1))},Ee=e=>{switch(!0){case ke(e,[42,134,72,206,61,3,1,7]):return"P-256";case ke(e,[43,129,4,0,34]):return"P-384";case ke(e,[43,129,4,0,35]):return"P-521";case ke(e,[43,101,110]):return"X25519";case ke(e,[43,101,111]):return"X448";case ke(e,[43,101,112]):return"Ed25519";case ke(e,[43,101,113]):return"Ed448";default:throw new E("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Ae=async(e,t,n,r,i)=>{let s,a;const c=new Uint8Array(atob(n.replace(e,"")).split("").map(e=>e.charCodeAt(0))),l="spki"===t;switch(r){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},a=l?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},a=l?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},a=l?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},a=l?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},a=l?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},a=l?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const e=Ee(c);s=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},a=l?[]:["deriveBits"];break}case"Ed25519":s={name:"Ed25519"},a=l?["verify"]:["sign"];break;case"EdDSA":s={name:Ee(c)},a=l?["verify"]:["sign"];break;default:throw new E('Invalid or unsupported "alg" (Algorithm) value')}return o.subtle.importKey(t,c,s,i?.extractable??!1,a)},Pe=(e,t,n)=>Ae(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,n),Ce=(e,t,n)=>Ae(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);function Te(e){const t=[];let n=0;for(;n<e.length;){const r=Ie(e.subarray(n));t.push(r),n+=r.byteLength}return t}function Ie(e){let t=0,n=31&e[0];if(t++,31===n){for(n=0;e[t]>=128;)n=128*n+e[t]-128,t++;n=128*n+e[t]-128,t++}let r=0;if(e[t]<128)r=e[t],t++;else{if(128===r){for(r=0;0!==e[t+r]||0!==e[t+r+1];){if(r>e.byteLength)throw new TypeError("invalid indefinite form length");r++}const n=t+r+2;return{byteLength:n,contents:e.subarray(t,t+r),raw:e.subarray(0,n)}}{const n=127&e[t];t++,r=0;for(let i=0;i<n;i++)r=256*r+e[t],t++}}const i=t+r;return{byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}const xe=(e,t,n)=>{let r;try{r=function(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=y(t);return ve(function(e){const t=Te(Te(Ie(e).contents)[0].contents);return g(t[160===t[0].raw[0]?6:5].raw)}(n),"PUBLIC KEY")}(e)}catch(e){throw new TypeError("Failed to parse the X.509 certificate",{cause:e})}return Ce(r,t,n)};async function Oe(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return Ce(e,t,n)}async function je(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return xe(e,t,n)}async function De(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Pe(e,t,n)}async function Le(e,t){if(!Q(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return v(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new E('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return le({...e,alg:t});default:throw new E('Unsupported "kty" (Key Type) Parameter value')}}const Re=e=>e?.[Symbol.toStringTag],He=(e,t,n)=>{if(void 0!==t.use&&"sig"!==t.use)throw new TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&!0!==t.key_ops.includes?.(n))throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(void 0!==t.alg&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function Me(e,t,n,r){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?((e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&ce(t)){if(function(e){return ce(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&He(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Z(t))throw new TypeError($(e,t,...V,"Uint8Array",r?"JSON Web Key":null));if("secret"!==t.type)throw new TypeError(`${Re(t)} instances for symmetric algorithms must be of type "secret"`)}})(t,n,r,e):((e,t,n,r)=>{if(r&&ce(t))switch(n){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&He(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&He(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Z(t))throw new TypeError($(e,t,...V,r?"JSON Web Key":null));if("secret"===t.type)throw new TypeError(`${Re(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${Re(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${Re(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${Re(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${Re(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n,r,e)}const Ue=Me.bind(void 0,!1),Fe=Me.bind(void 0,!0),Be=async(e,t,n,r,i)=>{if(!(s(n)||n instanceof Uint8Array))throw new TypeError(J(n,...V,"Uint8Array"));switch(r?M(e,r):r=R(new Uint8Array(H(e)>>3)),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&U(n,parseInt(e.slice(-3),10)),async function(e,t,n,r,i){if(!(n instanceof Uint8Array))throw new TypeError(J(n,"Uint8Array"));const s=parseInt(e.slice(1,4),10),a=await o.subtle.importKey("raw",n.subarray(s>>3),"AES-CBC",!1,["encrypt"]),c=await o.subtle.importKey("raw",n.subarray(0,s>>3),{hash:"SHA-"+(s<<1),name:"HMAC"},!1,["sign"]),l=new Uint8Array(await o.subtle.encrypt({iv:r,name:"AES-CBC"},a,t)),d=u(i,r,l,p(i.length<<3));return{ciphertext:l,tag:new Uint8Array((await o.subtle.sign("HMAC",c,d)).slice(0,s>>3)),iv:r}}(e,t,n,r,i);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&U(n,parseInt(e.slice(1,4),10)),async function(e,t,n,r,i){let s;n instanceof Uint8Array?s=await o.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(K(n,e,"encrypt"),s=n);const a=new Uint8Array(await o.subtle.encrypt({additionalData:i,iv:r,name:"AES-GCM",tagLength:128},s,t)),c=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:c,iv:r}}(e,t,n,r,i);default:throw new E("Unsupported JWE Content Encryption Algorithm")}},ze=async function(e,t,n,r,i){switch(Ue(e,t,"decrypt"),t=await(ge?.(t,e))||t,e){case"dir":if(void 0!==n)throw new P("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new P("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Q(r.epk))throw new P('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ie(t))throw new E("ECDH with the provided key is not allowed or not supported by your javascript runtime");const i=await Le(r.epk,e);let o,s;if(void 0!==r.apu){if("string"!=typeof r.apu)throw new P('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=v(r.apu)}catch{throw new P("Failed to base64url decode the apu")}}if(void 0!==r.apv){if("string"!=typeof r.apv)throw new P('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{s=v(r.apv)}catch{throw new P("Failed to base64url decode the apv")}}const a=await re(i,t,"ECDH-ES"===e?r.enc:e,"ECDH-ES"===e?we(r.enc):parseInt(e.slice(-5,-2),10),o,s);if("ECDH-ES"===e)return a;if(void 0===n)throw new P("JWE Encrypted Key missing");return ne(e.slice(-6),a,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new P("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!s(t))throw new TypeError(J(t,...V));if(K(t,e,"decrypt","unwrapKey"),ae(e,t),t.usages.includes("decrypt"))return new Uint8Array(await o.subtle.decrypt(se(e),t,n));if(t.usages.includes("unwrapKey")){const r=await o.subtle.unwrapKey("raw",n,t,se(e),...Y);return new Uint8Array(await o.subtle.exportKey("raw",r))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===n)throw new P("JWE Encrypted Key missing");if("number"!=typeof r.p2c)throw new P('JOSE Header "p2c" (PBES2 Count) missing or invalid');const o=i?.maxPBES2Count||1e4;if(r.p2c>o)throw new P('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof r.p2s)throw new P('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let s;try{s=v(r.p2s)}catch{throw new P("Failed to base64url decode the p2s")}return(async(e,t,n,r,i)=>{const o=await oe(i,e,r,t);return ne(e.slice(-6),o,n)})(e,t,n,r.p2c,s)}case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new P("JWE Encrypted Key missing");return ne(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===n)throw new P("JWE Encrypted Key missing");if("string"!=typeof r.iv)throw new P('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof r.tag)throw new P('JOSE Header "tag" (Authentication Tag) missing or invalid');let i,o;try{i=v(r.iv)}catch{throw new P("Failed to base64url decode the iv")}try{o=v(r.tag)}catch{throw new P("Failed to base64url decode the tag")}return async function(e,t,n,r,i){const o=e.slice(0,7);return q(o,t,n,r,i,new Uint8Array(0))}(e,t,n,i,o)}default:throw new E('Invalid or unsupported "alg" (JWE Algorithm) header value')}},Ne=function(e,t,n,r,i){if(void 0!==i.crit&&void 0===r?.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of r.crit){if(!o.has(t))throw new E(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===r[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(r.crit)},Ke=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function We(e,t,n){if(!Q(e))throw new P("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new P("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new P("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new P("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new P("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new P("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new P("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new P("JWE AAD incorrect type");if(void 0!==e.header&&!Q(e.header))throw new P("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!Q(e.unprotected))throw new P("JWE Per-Recipient Unprotected Header incorrect type");let r;if(e.protected)try{const t=v(e.protected);r=JSON.parse(l.decode(t))}catch{throw new P("JWE Protected Header is invalid")}if(!G(r,e.header,e.unprotected))throw new P("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const i={...r,...e.header,...e.unprotected};if(Ne(P,new Map,n?.crit,r,i),void 0!==i.zip)throw new E('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:o,enc:s}=i;if("string"!=typeof o||!o)throw new P("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof s||!s)throw new P("missing JWE Encryption Algorithm (enc) in JWE Header");const a=n&&Ke("keyManagementAlgorithms",n.keyManagementAlgorithms),d=n&&Ke("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(a&&!a.has(o)||!a&&o.startsWith("PBES2"))throw new k('"alg" (Algorithm) Header Parameter value not allowed');if(d&&!d.has(s))throw new k('"enc" (Encryption Algorithm) Header Parameter value not allowed');let h;if(void 0!==e.encrypted_key)try{h=v(e.encrypted_key)}catch{throw new P("Failed to base64url decode the encrypted_key")}let p,f,m,g=!1;"function"==typeof t&&(t=await t(r,e),g=!0);try{p=await ze(o,t,h,i,n)}catch(e){if(e instanceof TypeError||e instanceof P||e instanceof E)throw e;p=ye(s)}if(void 0!==e.iv)try{f=v(e.iv)}catch{throw new P("Failed to base64url decode the iv")}if(void 0!==e.tag)try{m=v(e.tag)}catch{throw new P("Failed to base64url decode the tag")}const w=c.encode(e.protected??"");let y,b;y=void 0!==e.aad?u(w,c.encode("."),c.encode(e.aad)):w;try{b=v(e.ciphertext)}catch{throw new P("Failed to base64url decode the ciphertext")}const _={plaintext:await q(s,p,b,f,m,y)};if(void 0!==e.protected&&(_.protectedHeader=r),void 0!==e.aad)try{_.additionalAuthenticatedData=v(e.aad)}catch{throw new P("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(_.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(_.unprotectedHeader=e.header),g?{..._,key:t}:_}async function Je(e,t,n){if(e instanceof Uint8Array&&(e=l.decode(e)),"string"!=typeof e)throw new P("Compact JWE must be a string or Uint8Array");const{0:r,1:i,2:o,3:s,4:a,length:c}=e.split(".");if(5!==c)throw new P("Invalid Compact JWE");const d=await We({ciphertext:s,iv:o||void 0,protected:r,tag:a||void 0,encrypted_key:i||void 0},t,n),u={plaintext:d.plaintext,protectedHeader:d.protectedHeader};return"function"==typeof t?{...u,key:d.key}:u}async function $e(e,t,n){if(!Q(e))throw new P("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Q))throw new P("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new P("JWE Recipients has no members");for(const r of e.recipients)try{return await We({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:r.encrypted_key,header:r.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,n)}catch{}throw new A}const Ze=Symbol(),Ve=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:w(e)};if(!s(e))throw new TypeError(J(e,...V,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await o.subtle.exportKey("jwk",e);return a};async function qe(e){return _e(e)}async function Ge(e){return Se(e)}async function Qe(e){return Ve(e)}const Ye=async function(e,t,n,r,i={}){let a,c,l;switch(Ue(e,n,"encrypt"),n=await(me?.(n,e))||n,e){case"dir":l=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ie(n))throw new E("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:d,apv:u}=i;let{epk:h}=i;h||(h=(await async function(e){if(!s(e))throw new TypeError(J(e,...V));return o.subtle.generateKey(e.algorithm,!0,["deriveBits"])}(n)).privateKey);const{x:p,y:f,crv:m,kty:g}=await Qe(h),y=await re(n,h,"ECDH-ES"===e?t:e,"ECDH-ES"===e?we(t):parseInt(e.slice(-5,-2),10),d,u);if(c={epk:{x:p,crv:m,kty:g}},"EC"===g&&(c.epk.y=f),d&&(c.apu=w(d)),u&&(c.apv=w(u)),"ECDH-ES"===e){l=y;break}l=r||ye(t);const v=e.slice(-6);a=await te(v,y,l);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l=r||ye(t),a=await(async(e,t,n)=>{if(!s(t))throw new TypeError(J(t,...V));if(K(t,e,"encrypt","wrapKey"),ae(e,t),t.usages.includes("encrypt"))return new Uint8Array(await o.subtle.encrypt(se(e),t,n));if(t.usages.includes("wrapKey")){const r=await o.subtle.importKey("raw",n,...Y);return new Uint8Array(await o.subtle.wrapKey("raw",r,t,se(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,l);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{l=r||ye(t);const{p2c:o,p2s:s}=i;({encryptedKey:a,...c}=await(async(e,t,n,r=2048,i=R(new Uint8Array(16)))=>{const o=await oe(i,e,r,t);return{encryptedKey:await te(e.slice(-6),o,n),p2c:r,p2s:w(i)}})(e,n,l,o,s));break}case"A128KW":case"A192KW":case"A256KW":l=r||ye(t),a=await te(e,n,l);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{l=r||ye(t);const{iv:o}=i;({encryptedKey:a,...c}=await async function(e,t,n,r){const i=e.slice(0,7),o=await Be(i,n,t,r,new Uint8Array(0));return{encryptedKey:o.ciphertext,iv:w(o.iv),tag:w(o.tag)}}(e,n,l,o));break}default:throw new E('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:l,encryptedKey:a,parameters:c}};class Xe{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new P("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!G(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new P("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Ne(P,new Map,t?.crit,this._protectedHeader,n),void 0!==n.zip)throw new E('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:r,enc:i}=n;if("string"!=typeof r||!r)throw new P('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof i||!i)throw new P('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,s,a,d,h;if(this._cek&&("dir"===r||"ECDH-ES"===r))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${r}`);{let n;({cek:s,encryptedKey:o,parameters:n}=await Ye(r,i,e,this._cek,this._keyManagementParameters)),n&&(t&&Ze in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}d=this._protectedHeader?c.encode(w(JSON.stringify(this._protectedHeader))):c.encode(""),this._aad?(h=w(this._aad),a=u(d,c.encode("."),c.encode(h))):a=d;const{ciphertext:p,tag:f,iv:m}=await Be(i,this._plaintext,s,this._iv,a),g={ciphertext:w(p)};return m&&(g.iv=w(m)),f&&(g.tag=w(f)),o&&(g.encrypted_key=w(o)),h&&(g.aad=h),this._protectedHeader&&(g.protected=l.decode(d)),this._sharedUnprotectedHeader&&(g.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(g.header=this._unprotectedHeader),g}}class et{constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class tt{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const n=new et(this,e,{crit:t?.crit});return this._recipients.push(n),n}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(){if(!this._recipients.length)throw new P("at least one recipient must be added");if(1===this._recipients.length){const[e]=this._recipients,t=await new Xe(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options}),n={ciphertext:t.ciphertext,iv:t.iv,recipients:[{}],tag:t.tag};return t.aad&&(n.aad=t.aad),t.protected&&(n.protected=t.protected),t.unprotected&&(n.unprotected=t.unprotected),t.encrypted_key&&(n.recipients[0].encrypted_key=t.encrypted_key),t.header&&(n.recipients[0].header=t.header),n}let e;for(let t=0;t<this._recipients.length;t++){const n=this._recipients[t];if(!G(this._protectedHeader,this._unprotectedHeader,n.unprotectedHeader))throw new P("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...n.unprotectedHeader},{alg:i}=r;if("string"!=typeof i||!i)throw new P('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===i||"ECDH-ES"===i)throw new P('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new P('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(e){if(e!==r.enc)throw new P('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else e=r.enc;if(Ne(P,new Map,n.options.crit,this._protectedHeader,r),void 0!==r.zip)throw new E('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const t=ye(e),n={ciphertext:"",iv:"",recipients:[],tag:""};for(let r=0;r<this._recipients.length;r++){const i=this._recipients[r],o={};n.recipients.push(o);const s={...this._protectedHeader,...this._unprotectedHeader,...i.unprotectedHeader}.alg.startsWith("PBES2")?2048+r:void 0;if(0===r){const e=await new Xe(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(t).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(i.unprotectedHeader).setKeyManagementParameters({p2c:s}).encrypt(i.key,{...i.options,[Ze]:!0});n.ciphertext=e.ciphertext,n.iv=e.iv,n.tag=e.tag,e.aad&&(n.aad=e.aad),e.protected&&(n.protected=e.protected),e.unprotected&&(n.unprotected=e.unprotected),o.encrypted_key=e.encrypted_key,e.header&&(o.header=e.header);continue}const{encryptedKey:a,parameters:c}=await Ye(i.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,e,i.key,t,{p2c:s});o.encrypted_key=w(a),(i.unprotectedHeader||c)&&(o.header={...i.unprotectedHeader,...c})}return n}}function nt(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new E(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function rt(e,t,n){if("sign"===n&&(t=await ge(t,e)),"verify"===n&&(t=await me(t,e)),s(t))return function(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!B(e.algorithm,"HMAC"))throw F("HMAC");const n=parseInt(t.slice(2),10);if(z(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!B(e.algorithm,"RSASSA-PKCS1-v1_5"))throw F("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(z(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!B(e.algorithm,"RSA-PSS"))throw F("RSA-PSS");const n=parseInt(t.slice(2),10);if(z(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw F("Ed25519 or Ed448");break;case"Ed25519":if(!B(e.algorithm,"Ed25519"))throw F("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!B(e.algorithm,"ECDSA"))throw F("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw F(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}N(e,n)}(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(J(t,...V));return o.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(J(t,...V,"Uint8Array","JSON Web Key"))}const it=async(e,t,n,r)=>{const i=await rt(e,t,"verify");ae(e,i);const s=nt(e,i.algorithm);try{return await o.subtle.verify(s,i,n,r)}catch{return!1}};async function ot(e,t,n){if(!Q(e))throw new C("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new C('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new C("JWS Protected Header incorrect type");if(void 0===e.payload)throw new C("JWS Payload missing");if("string"!=typeof e.signature)throw new C("JWS Signature missing or incorrect type");if(void 0!==e.header&&!Q(e.header))throw new C("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const t=v(e.protected);r=JSON.parse(l.decode(t))}catch{throw new C("JWS Protected Header is invalid")}if(!G(r,e.header))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header};let o=!0;if(Ne(C,new Map([["b64",!0]]),n?.crit,r,i).has("b64")&&(o=r.b64,"boolean"!=typeof o))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if("string"!=typeof s||!s)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');const a=n&&Ke("algorithms",n.algorithms);if(a&&!a.has(s))throw new k('"alg" (Algorithm) Header Parameter value not allowed');if(o){if("string"!=typeof e.payload)throw new C("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new C("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t?(t=await t(r,e),d=!0,Fe(s,t,"verify"),ce(t)&&(t=await Le(t,s))):Fe(s,t,"verify");const h=u(c.encode(e.protected??""),c.encode("."),"string"==typeof e.payload?c.encode(e.payload):e.payload);let p,f;try{p=v(e.signature)}catch{throw new C("Failed to base64url decode the signature")}if(!await it(s,t,p,h))throw new L;if(o)try{f=v(e.payload)}catch{throw new C("Failed to base64url decode the payload")}else f="string"==typeof e.payload?c.encode(e.payload):e.payload;const m={payload:f};return void 0!==e.protected&&(m.protectedHeader=r),void 0!==e.header&&(m.unprotectedHeader=e.header),d?{...m,key:t}:m}async function st(e,t,n){if(e instanceof Uint8Array&&(e=l.decode(e)),"string"!=typeof e)throw new C("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:o,length:s}=e.split(".");if(3!==s)throw new C("Invalid Compact JWS");const a=await ot({payload:i,protected:r,signature:o},t,n),c={payload:a.payload,protectedHeader:a.protectedHeader};return"function"==typeof t?{...c,key:a.key}:c}async function at(e,t,n){if(!Q(e))throw new C("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Q))throw new C("JWS Signatures missing or incorrect type");for(const r of e.signatures)try{return await ot({header:r.header,payload:e.payload,protected:r.protected,signature:r.signature},t,n)}catch{}throw new L}const ct=e=>Math.floor(e.getTime()/1e3),lt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,dt=e=>{const t=lt.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]);let r;switch(t[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":r=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":r=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":r=Math.round(3600*n);break;case"day":case"days":case"d":r=Math.round(86400*n);break;case"week":case"weeks":case"w":r=Math.round(604800*n);break;default:r=Math.round(31557600*n)}return"-"===t[1]||"ago"===t[4]?-r:r},ut=e=>e.toLowerCase().replace(/^application\//,""),ht=(e,t,n={})=>{let r;try{r=JSON.parse(l.decode(t))}catch{}if(!Q(r))throw new T("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&("string"!=typeof e.typ||ut(e.typ)!==ut(i)))throw new _('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:o=[],issuer:s,subject:a,audience:c,maxTokenAge:d}=n,u=[...o];void 0!==d&&u.push("iat"),void 0!==c&&u.push("aud"),void 0!==a&&u.push("sub"),void 0!==s&&u.push("iss");for(const e of new Set(u.reverse()))if(!(e in r))throw new _(`missing required "${e}" claim`,r,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new _('unexpected "iss" claim value',r,"iss","check_failed");if(a&&r.sub!==a)throw new _('unexpected "sub" claim value',r,"sub","check_failed");if(c&&(p="string"==typeof c?[c]:c,!("string"==typeof(h=r.aud)?p.includes(h):Array.isArray(h)&&p.some(Set.prototype.has.bind(new Set(h))))))throw new _('unexpected "aud" claim value',r,"aud","check_failed");var h,p;let f;switch(typeof n.clockTolerance){case"string":f=dt(n.clockTolerance);break;case"number":f=n.clockTolerance;break;case"undefined":f=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,g=ct(m||new Date);if((void 0!==r.iat||d)&&"number"!=typeof r.iat)throw new _('"iat" claim must be a number',r,"iat","invalid");if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new _('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>g+f)throw new _('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new _('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=g-f)throw new S('"exp" claim timestamp check failed',r,"exp","check_failed")}if(d){const e=g-r.iat;if(e-f>("number"==typeof d?d:dt(d)))throw new S('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(e<0-f)throw new _('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function pt(e,t,n){const r=await st(e,t,n);if(r.protectedHeader.crit?.includes("b64")&&!1===r.protectedHeader.b64)throw new T("JWTs MUST NOT use unencoded payload");const i={payload:ht(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return"function"==typeof t?{...i,key:r.key}:i}async function ft(e,t,n){const r=await Je(e,t,n),i=ht(r.protectedHeader,r.plaintext,n),{protectedHeader:o}=r;if(void 0!==o.iss&&o.iss!==i.iss)throw new _('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new _('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new _('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");const s={payload:i,protectedHeader:o};return"function"==typeof t?{...s,key:r.key}:s}class mt{constructor(e){this._flattened=new Xe(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}class gt{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new C("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!G(this._protectedHeader,this._unprotectedHeader))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader};let r=!0;if(Ne(C,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n).has("b64")&&(r=this._protectedHeader.b64,"boolean"!=typeof r))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=n;if("string"!=typeof i||!i)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');Fe(i,e,"sign");let s,a=this._payload;r&&(a=c.encode(w(a))),s=this._protectedHeader?c.encode(w(JSON.stringify(this._protectedHeader))):c.encode("");const d=u(s,c.encode("."),a),h=await(async(e,t,n)=>{const r=await rt(e,t,"sign");ae(e,r);const i=await o.subtle.sign(nt(e,r.algorithm),r,n);return new Uint8Array(i)})(i,e,d),p={signature:w(h),payload:""};return r&&(p.payload=l.decode(a)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=l.decode(s)),p}}class wt{constructor(e){this._flattened=new gt(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const n=await this._flattened.sign(e,t);if(void 0===n.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class yt{constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class vt{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const n=new yt(this,e,t);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new C("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const n=this._signatures[t],r=new gt(this._payload);r.setProtectedHeader(n.protectedHeader),r.setUnprotectedHeader(n.unprotectedHeader);const{payload:i,...o}=await r.sign(n.key,n.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new C("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}function bt(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class _t{constructor(e={}){if(!Q(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:bt("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:bt("setNotBefore",ct(e))}:this._payload={...this._payload,nbf:ct(new Date)+dt(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:bt("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:bt("setExpirationTime",ct(e))}:this._payload={...this._payload,exp:ct(new Date)+dt(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ct(new Date)}:e instanceof Date?this._payload={...this._payload,iat:bt("setIssuedAt",ct(e))}:this._payload="string"==typeof e?{...this._payload,iat:bt("setIssuedAt",ct(new Date)+dt(e))}:{...this._payload,iat:bt("setIssuedAt",e)},this}}class St extends _t{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){const n=new wt(c.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new T("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}class kt extends _t{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new mt(c.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}const Et=(e,t)=>{if("string"!=typeof e||!e)throw new I(`${t} missing or invalid`)};async function At(e,t){if(!Q(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(e.kty){case"EC":Et(e.crv,'"crv" (Curve) Parameter'),Et(e.x,'"x" (X Coordinate) Parameter'),Et(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Et(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Et(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Et(e.e,'"e" (Exponent) Parameter'),Et(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":Et(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new E('"kty" (Key Type) Parameter missing or unsupported')}const r=c.encode(JSON.stringify(n));return w(await a(t,r))}async function Pt(e,t){t??(t="sha256");const n=await At(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${n}`}async function Ct(e,t){const n={...e,...t?.header};if(!Q(n.jwk))throw new C('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const r=await Le({...n.jwk,ext:!0},n.alg);if(r instanceof Uint8Array||"public"!==r.type)throw new C('"jwk" (JSON Web Key) Header Parameter must be a public key');return r}function Tt(e){return Q(e)}function It(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class xt{constructor(e){if(this._cached=new WeakMap,!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Tt)}(e))throw new x("JSON Web Key Set malformed");this._jwks=It(e)}async getKey(e,t){const{alg:n,kid:r}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new E('Unsupported "alg" value for a JSON Web Key Set')}}(n),o=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof r&&(t=r===e.kid),t&&"string"==typeof e.alg&&(t=n===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(n){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":t="Ed25519"===e.crv;break;case"EdDSA":t="Ed25519"===e.crv||"Ed448"===e.crv}return t}),{0:s,length:a}=o;if(0===a)throw new O;if(1!==a){const e=new j,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of o)try{yield await Ot(t,e,n)}catch{}},e}return Ot(this._cached,s,n)}}async function Ot(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(void 0===r[n]){const e=await Le({...t,ext:!0},n);if(e instanceof Uint8Array||"public"!==e.type)throw new x("JSON Web Key Set members must be public keys");r[n]=e}return r[n]}function jt(e){const t=new xt(e),n=async(e,n)=>t.getKey(e,n);return Object.defineProperties(n,{jwks:{value:()=>It(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}let Dt;"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(Dt="jose/v5.10.0");const Lt=Symbol();class Rt{constructor(e,t){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");var n,r;this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,void 0!==t?.[Lt]&&(this._cache=t?.[Lt],n=t?.[Lt],r=this._cacheMaxAge,"object"==typeof n&&null!==n&&"uat"in n&&"number"==typeof n.uat&&!(Date.now()-n.uat>=r)&&"jwks"in n&&Q(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,Q)&&(this._jwksTimestamp=this._cache.uat,this._local=jt(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(n){if(n instanceof O&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw n}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);Dt&&!e.has("User-Agent")&&(e.set("User-Agent",Dt),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=(async(e,t,n)=>{let r,i,o=!1;"function"==typeof AbortController&&(r=new AbortController,i=setTimeout(()=>{o=!0,r.abort()},t));const s=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(e=>{if(o)throw new D;throw e});if(void 0!==i&&clearTimeout(i),200!==s.status)throw new b("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new b("Failed to parse the JSON Web Key Set HTTP response as JSON")}})(this._url,this._timeoutDuration,this._options).then(e=>{this._local=jt(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function Ht(e,t){const n=new Rt(e,t),r=async(e,t)=>n.getKey(e,t);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),r}const Mt=Lt;class Ut extends _t{encode(){return`${w(JSON.stringify({alg:"none"}))}.${w(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new T("Unsecured JWT must be a string");const{0:n,1:r,2:i,length:o}=e.split(".");if(3!==o||""!==i)throw new T("Invalid Unsecured JWT");let s;try{if(s=JSON.parse(l.decode(v(n))),"none"!==s.alg)throw new Error}catch{throw new T("Invalid Unsecured JWT")}return{payload:ht(s,v(r),t),header:s}}}const Ft=w,Bt=v;function zt(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(l.decode(Bt(t)));if(!Q(e))throw new Error;return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function Nt(e){if("string"!=typeof e)throw new T("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(5===n)throw new T("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new T("Invalid JWT");if(!t)throw new T("JWTs must contain a payload");let r,i;try{r=Bt(t)}catch{throw new T("Failed to base64url decode the payload")}try{i=JSON.parse(l.decode(r))}catch{throw new T("Failed to parse the decoded payload as JSON")}if(!Q(i))throw new T("Invalid JWT Claims Set");return i}function Kt(e){const t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new E("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function Wt(e,t){return async function(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Kt(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Kt(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Kt(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":n={name:e};break;default:throw new E("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":n={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":n={name:e};break;default:throw new E("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new E('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(n,t?.extractable??!1,r)}(e,t)}async function Jt(e,t){return async function(e,t){let n,r,i;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),r={name:"HMAC",hash:`SHA-${n}`,length:n},i=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(e.slice(-3),10),R(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(e.slice(1,4),10),r={name:"AES-KW",length:n},i=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.slice(1,4),10),r={name:"AES-GCM",length:n},i=["encrypt","decrypt"];break;default:throw new E('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(r,t?.extractable??!1,i)}(e,t)}const $t="WebCryptoAPI"}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,n,r)=>{if(!t){var i=1/0;for(c=0;c<deferred.length;c++){for(var[t,n,r]=deferred[c],o=!0,s=0;s<t.length;s++)(!1&r||i>=r)&&Object.keys(__webpack_require__.O).every(e=>__webpack_require__.O[e](t[s]))?t.splice(s--,1):(o=!1,r<i&&(i=r));if(o){deferred.splice(c--,1);var a=n();void 0!==a&&(e=a)}}return e}r=r||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>r;c--)deferred[c]=deferred[c-1];deferred[c]=[t,n,r]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={202:0};__webpack_require__.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,a]=n,c=0;if(o.some(t=>0!==e[t])){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(a)var l=a(__webpack_require__)}for(t&&t(n);c<o.length;c++)i=o[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(l)},n=globalThis.webpackChunksimple_site=globalThis.webpackChunksimple_site||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__(19187),__webpack_require__(59319),__webpack_require__(61639),__webpack_require__(24491),__webpack_require__(25274),__webpack_require__(79555),__webpack_require__(55320),__webpack_require__(5653);var __webpack_exports__=__webpack_require__(47872);__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=nextJS-87e3ce8098cfbbc19e3b.js.map