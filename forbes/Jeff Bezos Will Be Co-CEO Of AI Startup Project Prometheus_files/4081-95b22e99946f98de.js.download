"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4081],{40541:function(e){function t(e="",t="",r=1){return{link:`https://www.forbes.com${e}`,title:t,trackingProps:{category:"Template Area Interaction",action:"click",label:`breadcrumb-L${r}`}}}function r(e){return e?"/"!==(e="/"!==e.charAt(0)?`/${e}`:e).slice(-1)?`${e}/`:e:""}function n(e,n,i=!0){let a=e?.channelName,s=e?.sectionName||n?.sectionName,o=s?e?.channelUrl:e?.url,c=[];return i&&c.push(t("/","Forbes",1)),a&&(c.push(t(r(o||`/${a.toLowerCase().trim().split(/\s+/).join("-")}/`),a,2)),s&&c.push(t(r(e?.url),s,3))),c}e.exports={getBreadCrumbsData:function(e,i=!0){if(!e)return[];let a="finds"===e.templateType||"premium"===e.templateType&&e.primaryChannel?.channelName==="Forbes Vetted",s=e.publication.primaryChannel,o=e.publication.primaryChannel;return a&&e.channelSectionMappings?.length?function(e,n){var i;let a=[];return a.push(t("/vetted/","Forbes Vetted",1)),((i=r(e?.url))?"vetted"===i.split("/")[1]:"")&&e?.channelName&&e?.channelName!=="Forbes Vetted"&&a.push(t(r(e?.url),e?.channelName,2)),n&&n.sectionName&&a.push(t(r(n.url),n.sectionName,3)),a}(s=e.channelSectionMappings[0],o=e.channelSectionMappings[1]):n(s,o,i)},setLevels:n}},86680:function(e,t,r){r.d(t,{HQ:function(){return a},LY:function(){return o},ZL:function(){return i},cu:function(){return s},i5:function(){return c}});var n=r(97235);let i=()=>{let e=((0,n.getCookie)(document.cookie,"_pc_meter_expiration")||"").split("=")||[];return e.length&&["expiring","expired"].includes(e[1])},a=()=>window.forbes.lastCustomData?.zette_access,s=()=>window.Zephr?.utils?.productMaps?.unlimitedSubscriptionProducts.some(e=>window.forbes.lastCustomData?.jwt_access?.includes(e)),o=()=>/[I-i]nline/.test(window.Zephr?.outcomes?.article?.outcomeLabel),c=()=>/.*(?:\s|^)(reg|pay)[-\s]?wall(?:\s|$).*/i.test(window.Zephr?.outcomes?.article?.outcomeLabel)},19185:function(e,t,r){var n=r(52322);r(2784);var i=r(13980),a=r.n(i),s=r(75487),o=r(49703);let c=({children:e,showLabel:t=!0,...r})=>{let{canShowLabel:i,isAdBlockOn:a}=(0,o.R)();return a?null:(0,n.jsx)(s.Z,{"data-testid":"ad-container",showLabel:i&&t,...r,children:e})};c.propTypes={children:a().node,showLabel:a().bool},t.Z=c},43402:function(e,t,r){r.d(t,{Z:function(){return b},e:function(){return h}});var n=r(52322),i=r(2784),a=r(13980),s=r.n(a),o=r(93039),c=r(86680);let l=()=>window.Zephr.utils.doesUserHaveProduct([...window.Zephr.utils.productMaps.premiumPaywallProducts,...Object.keys(window.Zephr.utils.productMaps.bundles)]);var u=({tracking:e,currentArticleIndex:t,retracted:r})=>{let[n,a]=(0,i.useState)([!1]),s=(0,i.useRef)([!1]);return(0,i.useEffect)(()=>{if(r)return;let{contentPaywall:n,bertieBadgeSlugs:i,login:u}=e,d="premium"===n,p=i.includes("myforbes-events"),f=i.includes("no-paywall"),h="true"===u,m=()=>{s.current[t]||(s.current[t]=!0,a(e=>{let r=[...e];return r[t]=!0,r}))},b=()=>d?!h&&!p&&!f&&!(0,c.HQ)()&&!(0,c.cu)()&&!l()&&(0,o.userGaveFullConsent)():(0,c.i5)(),w=()=>b()&&!(0,c.LY)()?window.Zephr.utils.showModal("article-modal"):m();return!h&&((0,c.ZL)()||d)?(setTimeout(m,3e4),document.addEventListener("zephr.browserDecisionsFinished",w)):m(),()=>{document.removeEventListener("zephr.browserDecisionsFinished",w)}},[t,e,r]),n},d=r(34555),p=r(11e3);let f=(0,i.createContext)({currentArticleIndex:0,switchArticle:()=>{},currentArticle:{},setArticles:()=>{},articles:[]}),h=()=>(0,i.useContext)(f),m=({children:e,initialArticleData:t})=>{let r=(0,p.Z)("virtualTrack"),a=(0,p.Z)("updateAdParams"),s=(0,p.Z)("addOrRemoveTemplateSpecificSizes"),o=(0,p.Z)("applyConfig"),{article:{retracted:c}}=t,[l,h]=(0,i.useState)(0),m=(0,i.useRef)(0),[b,w]=(0,i.useState)([t]),v=b[l],y=(0,i.useRef)(0),[g,x]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!1),[C,Z]=(0,i.useState)(!1);v.header=t.header,v.scripts=t.scripts;let $=u({currentArticleIndex:l,tracking:v.serverData.tracking,retracted:c});(0,i.useEffect)(()=>{window.location.search.toLowerCase().includes("showxlrecirc=true")&&k(!0)},[]);let R=(0,i.useCallback)(e=>{if(m.current===e)return;m.current=e;let t=b[e];if(!t)return;let{serverData:{specialSlot:n,swimlane:i,tracking:{templateType:c}}={}}=t;(0,d.tY)(t),(0,d.hm)(t.serverData),r(!0),a(),s(c),o(n||i||""),h(e),window.dispatchEvent(new CustomEvent("articleSwitched"))},[s,o,b,a,r]),L=S||g&&$[0]&&!b[0].article.showBVDisclaimer,N=(0,i.useMemo)(()=>({currentArticleIndex:l,switchArticle:R,currentArticle:v,setArticles:w,articles:b,lastFetchedArticleIndex:y,paywallStatus:$,showXlRecircUnit:L,setShowXlRecircUnit:x,hasXlRecircQueryParam:S,showMoreChansecRecirc:C,setShowMoreChansecRecirc:Z}),[l,R,v,b,$,L,S,C]);return(0,n.jsx)(f.Provider,{value:N,children:e})};m.propTypes={children:s().node.isRequired,initialArticleData:s().object.isRequired};var b=m},51724:function(e,t,r){r.d(t,{ZP:function(){return v},$Y:function(){return b}});var n=r(52322),i=r(2784),a=r(13980),s=r.n(a),o=r(43402),c=r(49703),l=r(52108);let u=e=>!e||["#ffffff","#efefef","#fefefe","#fcfcfc","#fff"].includes(e.toLowerCase()),d=e=>{3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(e=>e+e).join(""));let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},p=e=>{let t=e.match(/\d+/g);return t?t.slice(0,3).map(Number):null},f=e=>{let t=e&&(e.startsWith("#")?d(e):p(e));return!!t&&(299*t[0]+587*t[1]+114*t[2])/1e3>=170};var h=e=>{if(!e)return;let{colorBase:t,colorBody:r,colorLink:n}=e;if(!u(t))return{"--icon-hover-opacity":.15,"--fbs-color-text-primary":r,"--fbs-color-surface-primary":t,"--fbs-color-component-hyperlink-default":n,"--article-text-color":r,"--article-bg-color":t,"--article-link-color":n}};let m=(0,i.createContext)({data:{},hasNonWhiteBackground:!1,hasNonWhiteLightBackground:!1,theme:"light",triggerRightRailAdsRecalculation:()=>{},isExpanded:!1,setIsExpanded:()=>{}}),b=()=>(0,i.useContext)(m),w=({data:e,children:t,articleIndex:r})=>{let{currentArticleIndex:a,paywallStatus:s,showMoreChansecRecirc:u}=(0,o.e)(),d=r===a,{adsLoaded:p}=(0,c.R)(),b=s[r],w=d&&b&&p,v=(0,l.Z)(),y=h(e.article.embedStyles),g=!!y,x=f(y?.["--article-bg-color"]),S=!("none"!==e.article.adExperience&&v&&!e.isSingleRec)||e.article.isForbesFinds,[k,C]=(0,i.useState)(S),[Z,$]=(0,i.useState)(!1),[R,L]=(0,i.useState)(!1),N=(0,i.useCallback)(()=>{C(!1),$(!0)},[]),E=(0,i.useMemo)(()=>({data:e,articleIndex:r,isCurrentArticle:d,shouldRenderFbsAd:w,isPaywallVerified:b,hasNonWhiteBackground:g,hasNonWhiteLightBackground:x,embedStyleVariables:y,showMoreChansecRecirc:u,isInArticleContext:!0,theme:!g||x?"light":"dark",hasDeterminedRecXCount:k,setHasDeterminedRecXCount:C,recalculateRightRailAds:Z,setRecalculateRightRailAds:$,triggerRightRailAdsRecalculation:N,isExpanded:R,setIsExpanded:L}),[e,r,w,b,d,g,x,y,u,k,Z,N,R]);return(0,n.jsx)(m.Provider,{value:E,children:t})};w.propTypes={data:s().object.isRequired,children:s().node.isRequired,articleIndex:s().number.isRequired};var v=w},52108:function(e,t,r){var n=r(2784),i=r(49703),a=r(93039);t.Z=()=>{let{isConsentRequired:e}=(0,i.R)(),[t,r]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{r(!e||(0,a.userGaveFullConsent)())},[e]),t}},34555:function(e,t,r){r.d(t,{Sx:function(){return d},qe:function(){return o},tY:function(){return l},hm:function(){return u}});var n=r(40541),i=r(35007),a=({blogType:e,body:t,relativeVideo:r,isAdLight:n,templateType:a,retracted:s})=>{let o=!!(r&&!n&&!s&&!["advisor","finds"].includes(a)),c=!1;return{body:t.replace(/<fbs-video(.+?)(\/>|<\/fbs-video>)/gis,t=>{let r=t.match(/key-value-string="(.+?)"/)?.[1]||"",n=(0,i.Z)(r,e,"vid-iab"),a=t.match(/\sautoplay/);return a&&(c=!0),t.replace(/\s?key-value-string=".+?"/,"").replace(/<fbs-video/i,`<fbs-video player-type="${a?"top-in-body":"in-body"}" key-value-string="${n}"`)}),hasAutoPlayVideos:c||o,hasRightRailVideoPlayer:o}};let s=e=>({...e,...a(e),breadCrumbsData:(0,n.getBreadCrumbsData)(e,!1),body:void 0}),o=async(e,t,r)=>{try{let n=`${t?.split("forbes.com")[1]}?malcolm=${r}&api=true&streamIndex=1&isNextJS=true`,i=await fetch(n),a=await i.json();a.article=s(a.article),e(e=>[...e,a])}catch(e){console.log("Error in fetchNextArticle",e.message)}},c=()=>{let e=new URL(window.location.href||"").searchParams;return Object.keys(Object.fromEntries(e)).reduce((t,r)=>r.includes("utm_")?t=`${t}${t?"&":""}${r}=${Object.fromEntries(e)[r]}`:t,"")},l=e=>{window.history.scrollRestoration="manual";let t=c(),r=t?`?${t}`:"",n=e?.article.uri,i=e?.meta?.oGData?.title||e?.article.title,a=`${n?.split("forbes.com")[1]}${r}`;window.history.pushState({ss:void 0},i,a)},u=e=>{window.forbes["simple-site"]={...e,topStories:window.forbes["simple-site"].topStories}};function d(e){return window.forbes?.remindMeData?.didStreamSucceedMap?.[e]??!1}},35007:function(e,t){t.Z=(e,t,r)=>"ad"===t||"connoisseur"===t||"insights"===t?"":[...e?.split("&").filter(e=>e.indexOf("displaysection")===-1&&e.indexOf("displaychannel")===-1)||[],`pos=${r}&vw=400plus`].join("&")}}]);